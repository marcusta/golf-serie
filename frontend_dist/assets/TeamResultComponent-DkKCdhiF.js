import{q as L,r as _,b as M,d as V,K as z,a as B,j as e,s as S,X as O,N as G,Q as U,A as K,L as F,o as Y,E as T,D as E,U as R}from"./index-D1igqBGW.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Q=L("house",q);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],X=L("layout-dashboard",W);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],J=L("menu",Z);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],ae=L("pen-line",ee);function ie({className:t}){const[l,x]=_.useState(!1),[n,c]=_.useState(),[b,y]=_.useState(),[o,r]=_.useState(!1),d=M({strict:!1}),h=d.competitionId?parseInt(d.competitionId):void 0,w=d.serieId?parseInt(d.serieId):void 0,{data:a,isLoading:s}=V(h||0),{data:i,isLoading:m}=z(w||(a==null?void 0:a.series_id)||0);_.useEffect(()=>{r(s||m),i?(c(i.id),y(i.name)):a!=null&&a.series_id?(c(a.series_id),y(a.series_name)):(c(void 0),y(void 0))},[a,i,s,m]);const u=()=>x(!1),p=n&&b?[{to:"/player/series/$serieId",params:{serieId:n.toString()},label:"View Overview",icon:X},{to:"/player/series/$serieId/standings",params:{serieId:n.toString()},label:"View Standings",icon:B}]:[],f=[{to:"/player/competitions",label:"All Competitions",icon:U},{to:"/player/series",label:"All Series",icon:K},{to:"/player",label:"Home",icon:Q}],N=({title:g,links:v})=>e.jsxs("div",{className:"py-2",children:[e.jsx("div",{className:"px-3 pb-2",children:e.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:g})}),e.jsx("div",{className:"space-y-1",children:v.map(j=>{const P=j.icon;return e.jsxs(F,{to:j.to,params:j.params||{},onClick:u,className:S("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 font-['Inter']","hover:bg-green-50 focus:outline-2 focus:outline-offset-2 focus:outline-green-600","group"),children:[e.jsx(P,{className:"w-5 h-5 text-gray-400 group-hover:text-green-600 transition-colors duration-200"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 group-hover:text-green-700 transition-colors duration-200",children:j.label})]},j.to)})})]});return e.jsxs("div",{className:S("relative",t),children:[e.jsx("button",{onClick:()=>x(!l),className:S("p-2 rounded-xl transition-all duration-200 touch-manipulation font-['Inter']","hover:bg-green-50 focus:outline-2 focus:outline-offset-2 focus:outline-green-600",l&&"bg-green-50"),"aria-label":"Menu",children:l?e.jsx(O,{className:"w-5 h-5 text-gray-900"}):e.jsx(J,{className:"w-5 h-5 text-gray-900"})}),l&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/25 z-40",onClick:u}),e.jsx("div",{className:S("absolute top-12 right-0 w-80 bg-white rounded-xl shadow-lg border border-gray-200 z-50","md:w-96"),children:e.jsx("div",{className:"p-2",children:o?e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsx(G,{className:"h-6 w-6 animate-spin text-green-600"})}):e.jsxs("nav",{className:"divide-y divide-gray-200",children:[p.length>0&&e.jsx(N,{title:`Series: ${b}`,links:p}),e.jsx(N,{title:"Navigation",links:f})]})})})]})]})}function k(t){return t===0?"E":t>0?`+${t}`:`${t}`}function $(t){return t===0?"text-turf":t<0?"text-flag":"text-charcoal"}function D(t){return t===-1?"-":t===0?"0":t.toString()}function oe(t){return t===-1||t===null?"-":t===0?"0":t.toString()}function le(t){return(t==null?void 0:t.reduce((l,x)=>l+x.participants.length,0))||0}function te(t){return t>0}function A(t,l){return l.reduce((x,n)=>{const c=t[n.number-1];return x+(c&&c>0?c:0)},0)}function H(t,l){return l.reduce((x,n)=>{const c=t[n.number-1];return x+(c&&c>0?n.par:0)},0)}function ne(t){if(!t||t.length===0)return!1;for(const l of t){if(!l.score||!Array.isArray(l.score))return!1;for(let x=0;x<18;x++){const n=l.score[x];if(n===0||n===null||n===void 0)return!1}}return!0}function se({participant:t,course:l,currentHole:x}){const n=l.holes.slice(0,9),c=l.holes.slice(9,18),b=()=>{if(t.scores.some(m=>m===-1))return{frontTotal:null,backTotal:null,totalScore:null,toPar:null,frontToPar:null,backToPar:null};const d=A(t.scores,n),h=A(t.scores,c),w=d+h,a=H(t.scores,n),s=H(t.scores,c),i=a+s;return{frontTotal:d,backTotal:h,totalScore:w,toPar:w>0?w-i:0,frontToPar:d>0?d-a:0,backToPar:h>0?h-s:0}},y=(r,d)=>te(r)?r===1?{color:"text-scorecard font-bold",decoration:"bg-red-800 rounded-full border-2 border-red-800"}:r<d-1?{color:"text-red-800 font-bold",decoration:"border-2 border-red-800 rounded-full shadow-[0_0_0_2px_white,0_0_0_4px_#aa2626]"}:r===d-1?{color:"text-red-800 font-bold",decoration:"border-2 border-red-800 rounded-full"}:r===d?{color:"text-turf",decoration:""}:r===d+1?{color:"text-blue-900 font-bold",decoration:"border-2 border-blue-900"}:r===d+2?{color:"text-blue-900 font-bold",decoration:"border-2 border-blue-900 shadow-[0_0_0_2px_white,0_0_0_4px_#1e40af]"}:r>=d+3?{color:"text-blue-600 font-bold",decoration:"border-2 border-blue-600 shadow-[0_0_0_2px_white,0_0_0_4px_#60a5fa]"}:{color:"text-charcoal",decoration:""}:r===-1?{color:"text-red-600",decoration:""}:r===0?{color:"text-soft-grey",decoration:""}:{color:"text-charcoal",decoration:""},o=b();return e.jsxs("div",{className:"bg-scorecard overflow-hidden",children:[e.jsx("div",{className:"bg-turf text-scorecard px-2 py-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold text-base font-display",children:t.name}),t.isMultiPlayer&&e.jsx("span",{className:"text-rough text-sm",children:"ðŸ‘¥"})]}),t.type&&e.jsx("span",{className:"text-rough text-sm font-primary",children:t.type})]})}),e.jsxs("div",{className:"border-b border-soft-grey",children:[e.jsx("div",{className:"bg-turf text-scorecard px-2 py-1",children:e.jsx("span",{className:"text-sm font-medium font-primary",children:"FRONT NINE"})}),e.jsx("div",{className:"bg-rough bg-opacity-30",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-10 min-w-10 px-0.5 py-1 text-xs font-medium text-fairway border-r border-soft-grey font-primary",children:"Hole"}),n.map(r=>e.jsx("div",{className:S("min-w-6 px-0.5 py-1 text-center text-xs font-medium text-fairway border-r border-soft-grey flex-1 font-primary",r.number===x&&"bg-coral"),children:r.number},r.number)),e.jsx("div",{className:"min-w-10 px-0.5 py-1 text-center text-xs font-medium text-fairway bg-rough bg-opacity-50 font-primary",children:"OUT"})]})}),e.jsx("div",{className:"bg-rough bg-opacity-20",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-10 min-w-10 px-0.5 py-1 text-xs font-medium text-fairway border-r border-soft-grey font-primary",children:"Par"}),n.map(r=>e.jsx("div",{className:"min-w-6 px-0.5 py-1 text-center text-xs font-medium text-fairway border-r border-soft-grey flex-1 font-primary",children:r.par},r.number)),e.jsx("div",{className:"min-w-10 px-0.5 py-1 text-center text-xs font-bold text-fairway bg-rough bg-opacity-40 font-display",children:n.reduce((r,d)=>r+d.par,0)})]})}),e.jsx("div",{className:"bg-scorecard border-b border-soft-grey",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-10 min-w-10 px-0.5 py-1 text-xs font-medium text-fairway border-r border-soft-grey font-primary",children:"Score"}),n.map(r=>{const d=t.scores[r.number-1]??0,h=y(d,r.par);return e.jsx("div",{className:S("min-w-6 px-0.5 py-1 text-center text-xs font-medium flex items-center justify-center border-r border-soft-grey flex-1",r.number===x&&"bg-coral bg-opacity-20"),children:e.jsx("div",{className:S("w-5 h-5 flex items-center justify-center text-xs font-display",h.color,h.decoration),children:D(d)})},r.number)}),e.jsx("div",{className:"min-w-10 px-0.5 py-1 text-center text-xs font-bold text-charcoal bg-rough bg-opacity-40 font-display",children:o.frontTotal??"-"})]})})]}),e.jsxs("div",{className:"border-b border-soft-grey",children:[e.jsx("div",{className:"bg-turf text-scorecard px-2 py-1",children:e.jsx("span",{className:"text-sm font-medium font-primary",children:"BACK NINE"})}),e.jsx("div",{className:"bg-rough bg-opacity-30",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-10 min-w-10 px-0.5 py-1 text-xs font-medium text-fairway border-r border-soft-grey font-primary",children:"Hole"}),c.map(r=>e.jsx("div",{className:S("min-w-6 px-0.5 py-1 text-center text-xs font-medium text-fairway border-r border-soft-grey flex-1 font-primary",r.number===x&&"bg-coral"),children:r.number},r.number)),e.jsx("div",{className:"min-w-10 px-0.5 py-1 text-center text-xs font-medium text-fairway bg-rough bg-opacity-50 font-primary",children:"IN"})]})}),e.jsx("div",{className:"bg-rough bg-opacity-20",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-10 min-w-10 px-0.5 py-1 text-xs font-medium text-fairway border-r border-soft-grey font-primary",children:"Par"}),c.map(r=>e.jsx("div",{className:"min-w-6 px-0.5 py-1 text-center text-xs font-medium text-fairway border-r border-soft-grey flex-1 font-primary",children:r.par},r.number)),e.jsx("div",{className:"min-w-10 px-0.5 py-1 text-center text-xs font-bold text-fairway bg-rough bg-opacity-40 font-display",children:c.reduce((r,d)=>r+d.par,0)})]})}),e.jsx("div",{className:"bg-scorecard",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-10 min-w-10 px-0.5 py-1 text-xs font-medium text-fairway border-r border-soft-grey font-primary",children:"Score"}),c.map(r=>{const d=t.scores[r.number-1]??0,h=y(d,r.par);return e.jsx("div",{className:S("min-w-6 px-0.5 py-1 text-center text-xs font-medium flex items-center justify-center border-r border-soft-grey flex-1",r.number===x&&"bg-coral bg-opacity-20"),children:e.jsx("div",{className:S("w-5 h-5 flex items-center justify-center text-xs font-display",h.color,h.decoration),children:D(d)})},r.number)}),e.jsx("div",{className:"min-w-10 px-0.5 py-1 text-center text-xs font-bold text-charcoal bg-rough bg-opacity-40 font-display",children:o.backTotal??"-"})]})})]}),e.jsx("div",{className:"bg-rough bg-opacity-20 px-2 py-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-fairway font-primary",children:"Total Score"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-turf text-sm font-primary",children:["Total: ",o.totalScore??"-"]}),e.jsxs("span",{className:"text-base font-bold text-charcoal font-display",children:["To par:"," ",o.totalScore&&o.toPar!==null?k(o.toPar):"-"]})]})]})})]})}function de({visible:t,participant:l,course:x,onClose:n}){return!t||!l||!x?null:e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-2 bg-black bg-opacity-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-200",children:[e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Scorecard"})}),e.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors flex-shrink-0 ml-2",children:e.jsx(O,{className:"h-5 w-5"})})]}),e.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-180px)]",children:e.jsx("div",{className:"p-2",children:e.jsx(se,{participant:{id:l.id.toString(),name:l.player_names||l.position_name,type:l.player_names?`${l.team_name}, ${l.position_name}`:l.team_name,scores:l.score},course:x})})}),e.jsx("div",{className:"p-3 border-t border-gray-200",children:e.jsx("button",{onClick:n,className:"w-full bg-gray-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-gray-700 transition-colors",children:"Close Scorecard"})})]})})}function ce({leaderboard:t,leaderboardLoading:l,onParticipantClick:x,isRoundView:n=!1}){const[c,b]=_.useState("all"),y=s=>{const i=s.participant.score.includes(-1),m=s.participant.is_locked;return s.holesPlayed>0?m&&!i?"FINISHED":"IN_PROGRESS":"NOT_STARTED"},o=s=>{const i=y(s);return i==="NOT_STARTED"?s.startTime?s.startTime:"TBD":i==="FINISHED"?"F":s.holesPlayed.toString()},d=(t?[...t].sort((s,i)=>{const m=s.participant.score.includes(-1),u=i.participant.score.includes(-1),p=s.holesPlayed>0,f=i.holesPlayed>0,N=p&&!m,g=f&&!u,v=p&&m,j=f&&u,P=!p,I=!f;return N&&!g?-1:!N&&g?1:v&&I?-1:P&&j?1:N&&g?s.relativeToPar-i.relativeToPar:0}):[]).filter(s=>c==="finished"?y(s)==="FINISHED":!0),h=(s,i)=>{if(i===0)return"border-gray-300 text-gray-500";switch(s){case 0:return"border-yellow-400 text-yellow-400";case 1:return"border-gray-400 text-gray-400";case 2:return"border-orange-400 text-orange-400";default:return"border-gray-300 text-gray-500"}},w=(s,i)=>{if(i===0)return"bg-scorecard hover:bg-gray-50";switch(s){case 0:return"bg-yellow-50 hover:bg-yellow-100";case 1:return"bg-gray-50 hover:bg-gray-100";case 2:return"bg-orange-50 hover:bg-orange-100";default:return"bg-scorecard hover:bg-gray-50"}},a=e.jsxs("div",{className:"space-y-3 md:space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg md:text-xl font-semibold text-fairway font-display",children:"Leaderboard"}),e.jsx("div",{className:"text-xs md:text-sm text-turf font-primary",children:"Live scoring"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>b("all"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${c==="all"?"bg-coral text-scorecard":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"All"}),e.jsx("button",{onClick:()=>b("finished"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${c==="finished"?"bg-coral text-scorecard":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Only Finished"})]}),l?e.jsx("div",{className:"p-4 text-charcoal font-primary",children:"Loading leaderboard..."}):!t||t.length===0?e.jsx("div",{className:"text-center py-6 md:py-8 text-soft-grey font-primary",children:"No scores reported yet."}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"md:hidden space-y-3",children:d.map((s,i)=>{const m=s.participant.score.includes(-1),u=i===0,p=y(s),f=o(s);return e.jsx("button",{onClick:()=>x(s.participant.id),className:`w-full text-left bg-scorecard rounded-lg p-4 shadow-sm border transition-all duration-200 hover:shadow-md hover:border-turf cursor-pointer ${u?"border-coral/20 shadow-md ring-2 ring-coral/10":"border-soft-grey"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsx("div",{className:`w-12 h-12 rounded-full border-2 flex items-center justify-center text-lg font-bold mr-3 ${h(i,s.holesPlayed)}`,children:s.holesPlayed===0?"-":i+1}),e.jsx("div",{children:s.participant.player_names?e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-body-lg font-semibold text-charcoal font-display",children:s.participant.player_names}),e.jsxs("p",{className:"text-label-sm text-turf font-primary",children:[s.participant.team_name," ",s.participant.position_name]})]}):e.jsx(e.Fragment,{children:e.jsxs("h3",{className:"text-body-lg font-semibold text-charcoal font-display",children:[s.participant.team_name," ",s.participant.position_name]})})})]}),e.jsx("div",{className:"flex items-center space-x-4 text-right ml-auto",children:p==="NOT_STARTED"?e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Start Time"}),e.jsx("div",{className:"text-lg font-medium text-gray-500",children:f})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Hole"}),e.jsx("div",{className:"text-xl font-bold text-gray-800",children:f})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"To Par"}),e.jsx("div",{className:`text-xl font-bold ${m?"text-gray-500":$(s.relativeToPar)}`,children:m?"-":k(s.relativeToPar)})]})]})})]})},s.participant.id)})}),e.jsx("div",{className:"hidden md:block",children:e.jsx("div",{className:"bg-scorecard rounded-lg border border-soft-grey overflow-hidden shadow-sm",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-soft-grey",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-charcoal font-display",children:"Pos"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-charcoal font-display",children:"Player/Team"}),e.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-charcoal font-display",children:"Hole & Score"}),e.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-charcoal font-display"})]})}),e.jsx("tbody",{children:d.map((s,i)=>{const m=s.participant.score.includes(-1),u=y(s),p=o(s);return e.jsxs("tr",{className:`border-b border-soft-grey last:border-b-0 transition-colors duration-200 ${w(i,s.holesPlayed)}`,children:[e.jsx("td",{className:"py-4 px-4",children:e.jsx("div",{className:`w-8 h-8 rounded-full border-2 flex items-center justify-center text-sm font-bold ${h(i,s.holesPlayed)}`,children:s.holesPlayed===0?"-":i+1})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("div",{children:s.participant.player_names?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-body-md font-semibold text-charcoal font-display",children:s.participant.player_names}),e.jsxs("div",{className:"text-label-sm text-turf font-primary",children:[s.participant.team_name," ",s.participant.position_name]})]}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"text-body-md font-semibold text-charcoal font-display",children:[s.participant.team_name," ",s.participant.position_name]})})})}),e.jsx("td",{className:"py-4 px-4 text-center",children:u==="NOT_STARTED"?e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Start Time"}),e.jsx("div",{className:"text-base font-medium text-gray-500",children:p})]}):e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Hole"}),e.jsx("div",{className:"text-xl font-bold text-charcoal font-display",children:p})]}),u==="FINISHED"?e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Total"}),e.jsx("div",{className:"text-xl font-bold text-charcoal font-display",children:m?"-":s.totalShots})]}):e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"To Par"}),e.jsx("div",{className:`text-xl font-bold font-display ${m?"text-gray-500":$(s.relativeToPar)}`,children:m?"-":k(s.relativeToPar)})]})]})}),e.jsx("td",{className:"py-4 px-4 text-center",children:e.jsx("button",{onClick:()=>x(s.participant.id),className:"bg-turf text-scorecard px-3 py-2 rounded-md text-sm font-medium hover:bg-fairway transition-colors duration-200 font-primary",children:"View Card"})})]},s.participant.id)})})]})})})]})]});return n?e.jsx("div",{className:"h-full overflow-y-auto bg-scorecard",children:e.jsx("div",{className:"p-4",children:a})}):a}function xe({teeTimes:t,teeTimesLoading:l,competitionId:x,currentTeeTimeId:n,currentTeeTime:c,showCurrentGroup:b=!1,totalParticipants:y=0}){return b?e.jsx("div",{className:"h-full overflow-y-auto bg-scorecard",children:e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg md:text-xl font-semibold text-fairway font-display",children:"Round Participants"}),e.jsx("div",{className:"text-xs md:text-sm text-turf font-primary",children:n?"Current group":`${y} total`})]}),n&&c&&e.jsxs("div",{className:"bg-rough bg-opacity-20 rounded-xl border border-turf p-4 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"text-sm md:text-lg font-semibold text-fairway font-display",children:["Your Group - ",c.teetime]}),e.jsx("span",{className:"text-xs md:text-sm text-scorecard bg-coral px-2 py-1 rounded-full font-primary font-medium",children:"Active"})]}),e.jsx("div",{className:"space-y-2",children:c.participants.map(o=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-scorecard rounded-xl border border-turf",children:[e.jsx("div",{className:"flex-1",children:e.jsx("h4",{className:"text-sm md:text-base font-medium text-fairway font-primary",children:o.player_names?`${o.player_names}, ${o.team_name} ${T(o.position_name)}`:`${o.team_name} ${T(o.position_name)}`})}),e.jsx("div",{className:"text-xs text-turf",children:E(o.position_name)&&e.jsx(R,{className:"w-4 h-4 inline-block"})})]},o.id))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm md:text-base font-medium text-fairway mb-3 font-primary",children:n?"Other Groups":"All Groups"}),!t||t.length===0?e.jsx("div",{className:"text-center py-6 md:py-8 text-soft-grey font-primary",children:"No tee times scheduled for this competition."}):e.jsx("div",{className:"space-y-3",children:t.filter(o=>!n||o.id!==parseInt(n)).map(o=>e.jsxs("div",{className:"bg-scorecard rounded-xl border border-soft-grey overflow-hidden",children:[e.jsx("div",{className:"bg-rough bg-opacity-30 px-4 py-2 border-b border-soft-grey",children:e.jsx("h4",{className:"text-sm md:text-base font-semibold text-fairway font-display",children:o.teetime})}),e.jsx("div",{className:"divide-y divide-soft-grey",children:o.participants.map(r=>e.jsxs("div",{className:"px-4 py-2 flex items-center justify-between",children:[e.jsx("div",{className:"flex-1",children:e.jsx("h5",{className:"text-xs md:text-sm font-medium text-fairway font-primary",children:r.player_names?`${r.player_names}, ${r.team_name} ${T(r.position_name)}`:`${r.team_name} ${T(r.position_name)}`})}),e.jsx("div",{className:"text-xs text-turf",children:E(r.position_name)&&e.jsx(R,{className:"w-3 h-3 inline-block"})})]},r.id))})]},o.id))})]})]})}):e.jsxs("div",{className:"space-y-3 md:space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg md:text-xl font-semibold text-fairway font-display",children:"Tee Times"}),e.jsxs("div",{className:"text-xs md:text-sm text-turf font-primary",children:[(t==null?void 0:t.length)||0," tee times"]})]}),l?e.jsx("div",{className:"p-4 text-charcoal font-primary",children:"Loading tee times..."}):!t||t.length===0?e.jsx("div",{className:"text-center py-6 md:py-8 text-soft-grey text-sm font-primary",children:"No tee times scheduled for this competition yet."}):e.jsx("div",{className:"space-y-3",children:t.map(o=>e.jsxs("div",{className:"bg-scorecard rounded-xl border border-soft-grey overflow-hidden",children:[e.jsx("div",{className:"bg-rough bg-opacity-30 px-4 py-3 border-b border-soft-grey",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h4",{className:"text-base md:text-lg font-semibold text-fairway font-display flex items-center gap-2",children:[e.jsx(Y,{className:"h-4 w-4 md:h-5 md:w-5 text-turf"}),o.teetime]}),e.jsxs("div",{className:"text-xs md:text-sm text-turf font-primary",children:[o.participants.length," players"]})]})}),o.participants.length===0?e.jsx("div",{className:"text-center py-4 text-soft-grey text-sm font-primary",children:"No participants assigned to this tee time yet."}):e.jsx("div",{className:"divide-y divide-soft-grey",children:o.participants.map(r=>e.jsxs(F,{to:`/player/competitions/${x}/tee-times/${o.id}`,className:"px-4 py-3 flex items-center justify-between hover:bg-rough hover:bg-opacity-20 transition-colors",children:[e.jsx("div",{className:"flex-1",children:e.jsx("h5",{className:"text-sm md:text-base font-medium text-fairway font-primary",children:r.player_names?`${r.player_names}, ${r.team_name} ${T(r.position_name)}`:`${r.team_name} ${T(r.position_name)}`})}),e.jsx("div",{className:"text-xs text-turf",children:E(r.position_name)&&e.jsx(R,{className:"w-4 h-4 inline-block"})})]},r.id))})]},o.id))})]})}function me({teamResults:t,leaderboardLoading:l,individualResults:x,isRoundView:n=!1,onParticipantClick:c}){const[b,y]=_.useState("all"),o=t==null?void 0:t.filter(a=>b==="finished"?a.status==="FINISHED":!0),r=a=>x?x.filter(i=>i.participant.team_name===a).sort((i,m)=>{const u=i.participant.score.includes(-1),p=m.participant.score.includes(-1),f=i.holesPlayed>0,N=m.holesPlayed>0,g=f&&!u,v=N&&!p,j=f&&u,P=N&&p,I=!f,C=!N;return g&&!v?-1:!g&&v?1:j&&C?-1:I&&P?1:g&&v?i.relativeToPar-m.relativeToPar:0}):[],d=a=>{const s=a.participant.score.includes(-1),i=a.participant.is_locked;return a.holesPlayed>0?i&&!s?"FINISHED":"IN_PROGRESS":"NOT_STARTED"},h=a=>{const s=d(a);return s==="NOT_STARTED"?a.startTime?a.startTime:"TBD":s==="FINISHED"?"F":a.holesPlayed.toString()},w=e.jsxs("div",{className:"space-y-4 md:space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl md:text-2xl font-bold text-fairway font-display",children:"Team Results"}),e.jsx("p",{className:"text-sm md:text-base text-turf font-primary mt-1",children:"Team standings with individual player results"})]}),e.jsxs("div",{className:"text-center text-xs md:text-sm text-turf font-primary bg-rough/20 px-3 py-2 rounded-full border border-soft-grey",children:[(t==null?void 0:t.filter(a=>a.status!=="NOT_STARTED").length)||0," ","teams scored"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>y("all"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${b==="all"?"bg-coral text-scorecard":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"All"}),e.jsx("button",{onClick:()=>y("finished"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${b==="finished"?"bg-coral text-scorecard":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Only Finished"})]}),l?e.jsx("div",{className:"flex items-center justify-center py-8 md:py-12",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-coral border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-charcoal font-primary",children:"Loading team results..."})]})}):!t||t.length===0?e.jsx("div",{className:"text-center py-8 md:py-12 bg-rough/10 rounded-xl border border-soft-grey",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("div",{className:"w-16 h-16 bg-soft-grey/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-soft-grey",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("h3",{className:"text-lg font-semibold text-charcoal font-display mb-2",children:"No Results Yet"}),e.jsx("p",{className:"text-soft-grey font-primary",children:"Team results will appear here once scores are submitted."})]})}):e.jsx("div",{className:"space-y-3",children:o==null?void 0:o.map((a,s)=>{const i=s===0&&a.status!=="NOT_STARTED",m=s<=2&&a.status!=="NOT_STARTED",u=a.status!=="NOT_STARTED",p=r(a.teamName);return e.jsxs("div",{className:`relative bg-scorecard rounded-xl p-4 shadow-sm border transition-all duration-300 hover:shadow-md ${i?"border-coral/30 shadow-lg ring-2 ring-coral/20 bg-gradient-to-br from-scorecard to-coral/5":m?"border-turf/30 shadow-md ring-1 ring-turf/20 bg-gradient-to-br from-scorecard to-turf/5":u?"border-soft-grey hover:border-turf/40":"border-soft-grey/50 opacity-75 bg-scorecard/50"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs("div",{className:`w-10 h-10 rounded-full border-2 flex items-center justify-center text-sm font-bold shadow-md ${i?"bg-scorecard text-coral border-coral":m?"bg-scorecard text-turf border-turf":u?"bg-scorecard text-charcoal border-charcoal":"bg-scorecard text-soft-grey border-soft-grey"}`,children:["#",s+1]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg md:text-xl font-bold text-charcoal font-display",children:a.teamName}),i&&e.jsxs("div",{className:"flex items-center gap-1 bg-coral/20 text-coral px-2 py-1 rounded-full text-xs font-medium mt-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 2L13.09 8.26L20 9L15 13.74L16.18 20.66L10 17.27L3.82 20.66L5 13.74L0 9L6.91 8.26L10 2Z",clipRule:"evenodd"})}),"Leader"]})]})]}),e.jsx("div",{className:"flex items-center gap-4 text-sm text-turf font-primary",children:e.jsxs("span",{children:[p.length," players"]})})]}),e.jsx("div",{className:"text-right flex flex-col items-end gap-2",children:a.status==="NOT_STARTED"?e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs font-medium text-turf mb-1 uppercase tracking-wide",children:"Status"}),e.jsx("div",{className:"text-lg font-medium text-soft-grey bg-soft-grey/10 px-3 py-1 rounded-lg",children:"Not Started"})]}):a.status==="IN_PROGRESS"?e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-turf mb-1 uppercase tracking-wide",children:"Score"}),e.jsx("div",{className:`text-xl font-bold font-display px-3 py-1 rounded-lg ${a.totalRelativeScore!==null?$(a.totalRelativeScore):"bg-charcoal/10 text-charcoal"}`,children:a.totalRelativeScore!==null?k(a.totalRelativeScore):"-"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-turf mb-1 uppercase tracking-wide",children:"Points"}),e.jsx("div",{className:"text-xl font-bold font-display px-3 py-1 rounded-lg bg-charcoal/10 text-charcoal",children:a.teamPoints})]})]}):e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-turf mb-1 uppercase tracking-wide",children:"Total Shots"}),e.jsx("div",{className:"text-2xl font-bold text-charcoal font-display px-3 py-1 rounded-lg bg-charcoal/10",children:a.totalShots||"-"})]}),a.teamPoints!==null&&e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-turf mb-1 uppercase tracking-wide",children:"Points"}),e.jsx("div",{className:`text-xl font-bold font-display px-3 py-1 rounded-lg shadow-md ${i?"bg-coral text-scorecard":m?"bg-turf text-scorecard":"bg-charcoal/10 text-charcoal"}`,children:a.teamPoints})]})]})})]}),e.jsxs("div",{className:"border-t border-soft-grey/30 pt-3",children:[e.jsx("h5",{className:"text-sm font-semibold text-fairway mb-2 font-primary uppercase tracking-wide",children:"Individual Players"}),e.jsx("div",{className:"space-y-1",children:p.map((f,N)=>{const g=d(f),v=h(f),j=f.participant.score.includes(-1);return e.jsxs("button",{onClick:()=>c==null?void 0:c(f.participant.id),className:`w-full flex items-center justify-between py-2 px-3 rounded-lg transition-colors text-left ${g!=="NOT_STARTED"?"bg-rough/10 hover:bg-rough/20 cursor-pointer":"bg-soft-grey/5 cursor-default"} ${c?"hover:shadow-sm":""}`,disabled:!c||g==="NOT_STARTED",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium ${g!=="NOT_STARTED"?"bg-turf/20 text-turf":"bg-soft-grey/20 text-soft-grey"}`,children:N+1}),e.jsx("div",{className:"flex-1",children:e.jsx("span",{className:`font-medium font-primary text-sm ${g!=="NOT_STARTED"?"text-charcoal":"text-soft-grey"}`,children:f.participant.player_names?`${f.participant.player_names} (${f.participant.position_name})`:f.participant.position_name})})]}),e.jsx("div",{className:"flex items-center gap-3",children:g==="NOT_STARTED"?e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Start Time"}),e.jsx("div",{className:"text-sm font-medium text-gray-500",children:v})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Thru"}),e.jsx("div",{className:"text-sm font-bold text-gray-800",children:v})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"To Par"}),e.jsx("div",{className:`text-sm font-bold ${j?"text-gray-500":$(f.relativeToPar)}`,children:j?"-":k(f.relativeToPar)})]})]})})]},f.participant.id)})})]})]},a.teamId)})})]});return n?e.jsx("div",{className:"h-full overflow-y-auto bg-scorecard",children:e.jsx("div",{className:"p-4 md:p-6",children:w})}):w}export{ie as H,ce as L,ae as P,se as S,me as T,xe as a,de as b,le as c,oe as d,k as f,$ as g,ne as i};
