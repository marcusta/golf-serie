import{p as O,j as e,x as _,X as F,r as H,n as C,L as B,E as S,D as k,U as I}from"./index-TkSeMcCd.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],G=O("pen-line",V);function P(s){return s===0?"E":s>0?`+${s}`:`${s}`}function T(s){return s===0?"text-turf":s<0?"text-flag":"text-charcoal"}function E(s){return s===-1?"-":s===0?"0":s.toString()}function Y(s){return s===-1||s===null?"-":s===0?"0":s.toString()}function K(s){return(s==null?void 0:s.reduce((n,c)=>n+c.participants.length,0))||0}function M(s){return s>0}function D(s,n){return n.reduce((c,d)=>{const i=s[d.number-1];return c+(i&&i>0?i:0)},0)}function L(s,n){return n.reduce((c,d)=>{const i=s[d.number-1];return c+(i&&i>0?d.par:0)},0)}function W(s){if(!s||s.length===0)return!1;for(const n of s){if(!n.score||!Array.isArray(n.score))return!1;for(let c=0;c<18;c++){const d=n.score[c];if(d===0||d===null||d===void 0)return!1}}return!0}function U({participant:s,course:n,currentHole:c}){const d=n.holes.slice(0,9),i=n.holes.slice(9,18),f=()=>{if(s.scores.some(x=>x===-1))return{frontTotal:null,backTotal:null,totalScore:null,toPar:null,frontToPar:null,backToPar:null};const a=D(s.scores,d),u=D(s.scores,i),v=a+u,l=L(s.scores,d),r=L(s.scores,i),o=l+r;return{frontTotal:a,backTotal:u,totalScore:v,toPar:v>0?v-o:0,frontToPar:a>0?a-l:0,backToPar:u>0?u-r:0}},g=(t,a)=>M(t)?t===1?{color:"text-scorecard font-bold",decoration:"bg-red-800 rounded-full border-2 border-red-800"}:t<a-1?{color:"text-red-800 font-bold",decoration:"border-2 border-red-800 rounded-full shadow-[0_0_0_2px_white,0_0_0_4px_#aa2626]"}:t===a-1?{color:"text-red-800 font-bold",decoration:"border-2 border-red-800 rounded-full"}:t===a?{color:"text-turf",decoration:""}:t===a+1?{color:"text-blue-900 font-bold",decoration:"border-2 border-blue-900"}:t===a+2?{color:"text-blue-900 font-bold",decoration:"border-2 border-blue-900 shadow-[0_0_0_2px_white,0_0_0_4px_#1e40af]"}:t>=a+3?{color:"text-blue-600 font-bold",decoration:"border-2 border-blue-600 shadow-[0_0_0_2px_white,0_0_0_4px_#60a5fa]"}:{color:"text-charcoal",decoration:""}:t===-1?{color:"text-red-600",decoration:""}:t===0?{color:"text-soft-grey",decoration:""}:{color:"text-charcoal",decoration:""},h=f();return e.jsxs("div",{className:"bg-scorecard overflow-hidden",children:[e.jsx("div",{className:"bg-turf text-scorecard px-2 py-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold text-base font-display",children:s.name}),s.isMultiPlayer&&e.jsx("span",{className:"text-rough text-sm",children:"ðŸ‘¥"})]}),s.type&&e.jsx("span",{className:"text-rough text-sm font-primary",children:s.type})]})}),e.jsxs("div",{className:"border-b border-soft-grey",children:[e.jsx("div",{className:"bg-turf text-scorecard px-2 py-1",children:e.jsx("span",{className:"text-sm font-medium font-primary",children:"FRONT NINE"})}),e.jsx("div",{className:"bg-rough bg-opacity-30",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-10 min-w-10 px-0.5 py-1 text-xs font-medium text-fairway border-r border-soft-grey font-primary",children:"Hole"}),d.map(t=>e.jsx("div",{className:_("min-w-6 px-0.5 py-1 text-center text-xs font-medium text-fairway border-r border-soft-grey flex-1 font-primary",t.number===c&&"bg-coral"),children:t.number},t.number)),e.jsx("div",{className:"min-w-10 px-0.5 py-1 text-center text-xs font-medium text-fairway bg-rough bg-opacity-50 font-primary",children:"OUT"})]})}),e.jsx("div",{className:"bg-rough bg-opacity-20",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-10 min-w-10 px-0.5 py-1 text-xs font-medium text-fairway border-r border-soft-grey font-primary",children:"Par"}),d.map(t=>e.jsx("div",{className:"min-w-6 px-0.5 py-1 text-center text-xs font-medium text-fairway border-r border-soft-grey flex-1 font-primary",children:t.par},t.number)),e.jsx("div",{className:"min-w-10 px-0.5 py-1 text-center text-xs font-bold text-fairway bg-rough bg-opacity-40 font-display",children:d.reduce((t,a)=>t+a.par,0)})]})}),e.jsx("div",{className:"bg-scorecard border-b border-soft-grey",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-10 min-w-10 px-0.5 py-1 text-xs font-medium text-fairway border-r border-soft-grey font-primary",children:"Score"}),d.map(t=>{const a=s.scores[t.number-1]??0,u=g(a,t.par);return e.jsx("div",{className:_("min-w-6 px-0.5 py-1 text-center text-xs font-medium flex items-center justify-center border-r border-soft-grey flex-1",t.number===c&&"bg-coral bg-opacity-20"),children:e.jsx("div",{className:_("w-5 h-5 flex items-center justify-center text-xs font-display",u.color,u.decoration),children:E(a)})},t.number)}),e.jsx("div",{className:"min-w-10 px-0.5 py-1 text-center text-xs font-bold text-charcoal bg-rough bg-opacity-40 font-display",children:h.frontTotal??"-"})]})})]}),e.jsxs("div",{className:"border-b border-soft-grey",children:[e.jsx("div",{className:"bg-turf text-scorecard px-2 py-1",children:e.jsx("span",{className:"text-sm font-medium font-primary",children:"BACK NINE"})}),e.jsx("div",{className:"bg-rough bg-opacity-30",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-10 min-w-10 px-0.5 py-1 text-xs font-medium text-fairway border-r border-soft-grey font-primary",children:"Hole"}),i.map(t=>e.jsx("div",{className:_("min-w-6 px-0.5 py-1 text-center text-xs font-medium text-fairway border-r border-soft-grey flex-1 font-primary",t.number===c&&"bg-coral"),children:t.number},t.number)),e.jsx("div",{className:"min-w-10 px-0.5 py-1 text-center text-xs font-medium text-fairway bg-rough bg-opacity-50 font-primary",children:"IN"})]})}),e.jsx("div",{className:"bg-rough bg-opacity-20",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-10 min-w-10 px-0.5 py-1 text-xs font-medium text-fairway border-r border-soft-grey font-primary",children:"Par"}),i.map(t=>e.jsx("div",{className:"min-w-6 px-0.5 py-1 text-center text-xs font-medium text-fairway border-r border-soft-grey flex-1 font-primary",children:t.par},t.number)),e.jsx("div",{className:"min-w-10 px-0.5 py-1 text-center text-xs font-bold text-fairway bg-rough bg-opacity-40 font-display",children:i.reduce((t,a)=>t+a.par,0)})]})}),e.jsx("div",{className:"bg-scorecard",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-10 min-w-10 px-0.5 py-1 text-xs font-medium text-fairway border-r border-soft-grey font-primary",children:"Score"}),i.map(t=>{const a=s.scores[t.number-1]??0,u=g(a,t.par);return e.jsx("div",{className:_("min-w-6 px-0.5 py-1 text-center text-xs font-medium flex items-center justify-center border-r border-soft-grey flex-1",t.number===c&&"bg-coral bg-opacity-20"),children:e.jsx("div",{className:_("w-5 h-5 flex items-center justify-center text-xs font-display",u.color,u.decoration),children:E(a)})},t.number)}),e.jsx("div",{className:"min-w-10 px-0.5 py-1 text-center text-xs font-bold text-charcoal bg-rough bg-opacity-40 font-display",children:h.backTotal??"-"})]})})]}),e.jsx("div",{className:"bg-rough bg-opacity-20 px-2 py-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-fairway font-primary",children:"Total Score"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-turf text-sm font-primary",children:["Total: ",h.totalScore??"-"]}),e.jsxs("span",{className:"text-base font-bold text-charcoal font-display",children:["To par:"," ",h.totalScore&&h.toPar!==null?P(h.toPar):"-"]})]})]})})]})}function X({visible:s,participant:n,course:c,onClose:d}){return!s||!n||!c?null:e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-2 bg-black bg-opacity-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-200",children:[e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Scorecard"})}),e.jsx("button",{onClick:d,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors flex-shrink-0 ml-2",children:e.jsx(F,{className:"h-5 w-5"})})]}),e.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-180px)]",children:e.jsx("div",{className:"p-2",children:e.jsx(U,{participant:{id:n.id.toString(),name:n.player_names||n.position_name,type:n.player_names?`${n.team_name}, ${n.position_name}`:n.team_name,scores:n.score},course:c})})}),e.jsx("div",{className:"p-3 border-t border-gray-200",children:e.jsx("button",{onClick:d,className:"w-full bg-gray-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-gray-700 transition-colors",children:"Close Scorecard"})})]})})}function Z({leaderboard:s,leaderboardLoading:n,onParticipantClick:c,isRoundView:d=!1}){const[i,f]=H.useState("all"),g=r=>{const o=r.participant.score.includes(-1),x=r.participant.is_locked;return r.holesPlayed>0?x&&!o?"FINISHED":"IN_PROGRESS":"NOT_STARTED"},h=r=>{const o=g(r);return o==="NOT_STARTED"?r.startTime?r.startTime:"TBD":o==="FINISHED"?"F":r.holesPlayed.toString()},a=(s?[...s].sort((r,o)=>{const x=r.participant.score.includes(-1),p=o.participant.score.includes(-1),b=r.holesPlayed>0,m=o.holesPlayed>0,j=b&&!x,y=m&&!p,N=b&&x,w=m&&p,$=!b,R=!m;return j&&!y?-1:!j&&y?1:N&&R?-1:$&&w?1:j&&y?r.relativeToPar-o.relativeToPar:0}):[]).filter(r=>i==="finished"?g(r)==="FINISHED":!0),u=(r,o)=>{if(o===0)return"border-gray-300 text-gray-500";switch(r){case 0:return"border-yellow-400 text-yellow-400";case 1:return"border-gray-400 text-gray-400";case 2:return"border-orange-400 text-orange-400";default:return"border-gray-300 text-gray-500"}},v=(r,o)=>{if(o===0)return"bg-scorecard hover:bg-gray-50";switch(r){case 0:return"bg-yellow-50 hover:bg-yellow-100";case 1:return"bg-gray-50 hover:bg-gray-100";case 2:return"bg-orange-50 hover:bg-orange-100";default:return"bg-scorecard hover:bg-gray-50"}},l=e.jsxs("div",{className:"space-y-3 md:space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg md:text-xl font-semibold text-fairway font-display",children:"Leaderboard"}),e.jsx("div",{className:"text-xs md:text-sm text-turf font-primary",children:"Live scoring"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>f("all"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${i==="all"?"bg-coral text-scorecard":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"All"}),e.jsx("button",{onClick:()=>f("finished"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${i==="finished"?"bg-coral text-scorecard":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Only Finished"})]}),n?e.jsx("div",{className:"p-4 text-charcoal font-primary",children:"Loading leaderboard..."}):!s||s.length===0?e.jsx("div",{className:"text-center py-6 md:py-8 text-soft-grey font-primary",children:"No scores reported yet."}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"md:hidden space-y-3",children:a.map((r,o)=>{const x=r.participant.score.includes(-1),p=o===0,b=g(r),m=h(r);return e.jsx("button",{onClick:()=>c(r.participant.id),className:`w-full text-left bg-scorecard rounded-lg p-4 shadow-sm border transition-all duration-200 hover:shadow-md hover:border-turf cursor-pointer ${p?"border-coral/20 shadow-md ring-2 ring-coral/10":"border-soft-grey"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsx("div",{className:`w-12 h-12 rounded-full border-2 flex items-center justify-center text-lg font-bold mr-3 ${u(o,r.holesPlayed)}`,children:r.holesPlayed===0?"-":o+1}),e.jsx("div",{children:r.participant.player_names?e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-body-lg font-semibold text-charcoal font-display",children:r.participant.player_names}),e.jsxs("p",{className:"text-label-sm text-turf font-primary",children:[r.participant.team_name," ",r.participant.position_name]})]}):e.jsx(e.Fragment,{children:e.jsxs("h3",{className:"text-body-lg font-semibold text-charcoal font-display",children:[r.participant.team_name," ",r.participant.position_name]})})})]}),e.jsx("div",{className:"flex items-center space-x-4 text-right ml-auto",children:b==="NOT_STARTED"?e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Start Time"}),e.jsx("div",{className:"text-lg font-medium text-gray-500",children:m})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Hole"}),e.jsx("div",{className:"text-xl font-bold text-gray-800",children:m})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"To Par"}),e.jsx("div",{className:`text-xl font-bold ${x?"text-gray-500":T(r.relativeToPar)}`,children:x?"-":P(r.relativeToPar)})]})]})})]})},r.participant.id)})}),e.jsx("div",{className:"hidden md:block",children:e.jsx("div",{className:"bg-scorecard rounded-lg border border-soft-grey overflow-hidden shadow-sm",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-soft-grey",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-charcoal font-display",children:"Pos"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-charcoal font-display",children:"Player/Team"}),e.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-charcoal font-display",children:"Hole & Score"}),e.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-charcoal font-display"})]})}),e.jsx("tbody",{children:a.map((r,o)=>{const x=r.participant.score.includes(-1),p=g(r),b=h(r);return e.jsxs("tr",{className:`border-b border-soft-grey last:border-b-0 transition-colors duration-200 ${v(o,r.holesPlayed)}`,children:[e.jsx("td",{className:"py-4 px-4",children:e.jsx("div",{className:`w-8 h-8 rounded-full border-2 flex items-center justify-center text-sm font-bold ${u(o,r.holesPlayed)}`,children:r.holesPlayed===0?"-":o+1})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("div",{children:r.participant.player_names?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-body-md font-semibold text-charcoal font-display",children:r.participant.player_names}),e.jsxs("div",{className:"text-label-sm text-turf font-primary",children:[r.participant.team_name," ",r.participant.position_name]})]}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"text-body-md font-semibold text-charcoal font-display",children:[r.participant.team_name," ",r.participant.position_name]})})})}),e.jsx("td",{className:"py-4 px-4 text-center",children:p==="NOT_STARTED"?e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Start Time"}),e.jsx("div",{className:"text-base font-medium text-gray-500",children:b})]}):e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Hole"}),e.jsx("div",{className:"text-xl font-bold text-charcoal font-display",children:b})]}),p==="FINISHED"?e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Total"}),e.jsx("div",{className:"text-xl font-bold text-charcoal font-display",children:x?"-":r.totalShots})]}):e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"To Par"}),e.jsx("div",{className:`text-xl font-bold font-display ${x?"text-gray-500":T(r.relativeToPar)}`,children:x?"-":P(r.relativeToPar)})]})]})}),e.jsx("td",{className:"py-4 px-4 text-center",children:e.jsx("button",{onClick:()=>c(r.participant.id),className:"bg-turf text-scorecard px-3 py-2 rounded-md text-sm font-medium hover:bg-fairway transition-colors duration-200 font-primary",children:"View Card"})})]},r.participant.id)})})]})})})]})]});return d?e.jsx("div",{className:"h-full overflow-y-auto bg-scorecard",children:e.jsx("div",{className:"p-4",children:l})}):l}function q({teeTimes:s,teeTimesLoading:n,competitionId:c,venueType:d="outdoor",currentTeeTimeId:i,currentTeeTime:f,showCurrentGroup:g=!1,totalParticipants:h=0}){return g?e.jsx("div",{className:"h-full overflow-y-auto bg-scorecard",children:e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg md:text-xl font-semibold text-fairway font-display",children:"Round Participants"}),e.jsx("div",{className:"text-xs md:text-sm text-turf font-primary",children:i?"Current group":`${h} total`})]}),i&&f&&e.jsxs("div",{className:"bg-rough bg-opacity-20 rounded-xl border border-turf p-4 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"text-sm md:text-lg font-semibold text-fairway font-display flex items-center gap-2",children:["Your Group - ",f.teetime,e.jsx("span",{className:"text-xs text-turf bg-scorecard px-2 py-1 rounded-full font-primary font-medium",children:d==="indoor"&&f.hitting_bay?`Bay ${f.hitting_bay}`:`Hole ${f.start_hole}`})]}),e.jsx("span",{className:"text-xs md:text-sm text-scorecard bg-coral px-2 py-1 rounded-full font-primary font-medium",children:"Active"})]}),e.jsx("div",{className:"space-y-2",children:f.participants.map(t=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-scorecard rounded-xl border border-turf",children:[e.jsx("div",{className:"flex-1",children:e.jsx("h4",{className:"text-sm md:text-base font-medium text-fairway font-primary",children:t.player_names?`${t.player_names}, ${t.team_name} ${S(t.position_name)}`:`${t.team_name} ${S(t.position_name)}`})}),e.jsx("div",{className:"text-xs text-turf",children:k(t.position_name)&&e.jsx(I,{className:"w-4 h-4 inline-block"})})]},t.id))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm md:text-base font-medium text-fairway mb-3 font-primary",children:i?"Other Groups":"All Groups"}),!s||s.length===0?e.jsx("div",{className:"text-center py-6 md:py-8 text-soft-grey font-primary",children:"No tee times scheduled for this competition."}):e.jsx("div",{className:"space-y-3",children:s.filter(t=>!i||t.id!==parseInt(i)).map(t=>e.jsxs("div",{className:"bg-scorecard rounded-xl border border-soft-grey overflow-hidden",children:[e.jsx("div",{className:"bg-rough bg-opacity-30 px-4 py-2 border-b border-soft-grey",children:e.jsxs("h4",{className:"text-sm md:text-base font-semibold text-fairway font-display flex items-center gap-2",children:[t.teetime,e.jsx("span",{className:"text-xs text-turf bg-scorecard px-2 py-1 rounded-full font-primary font-medium",children:d==="indoor"&&t.hitting_bay?`Bay ${t.hitting_bay}`:`Hole ${t.start_hole}`})]})}),e.jsx("div",{className:"divide-y divide-soft-grey",children:t.participants.map(a=>e.jsxs("div",{className:"px-4 py-2 flex items-center justify-between",children:[e.jsx("div",{className:"flex-1",children:e.jsx("h5",{className:"text-xs md:text-sm font-medium text-fairway font-primary",children:a.player_names?`${a.player_names}, ${a.team_name} ${S(a.position_name)}`:`${a.team_name} ${S(a.position_name)}`})}),e.jsx("div",{className:"text-xs text-turf",children:k(a.position_name)&&e.jsx(I,{className:"w-3 h-3 inline-block"})})]},a.id))})]},t.id))})]})]})}):e.jsxs("div",{className:"space-y-3 md:space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg md:text-xl font-semibold text-fairway font-display",children:"Tee Times"}),e.jsxs("div",{className:"text-xs md:text-sm text-turf font-primary",children:[(s==null?void 0:s.length)||0," tee times"]})]}),n?e.jsx("div",{className:"p-4 text-charcoal font-primary",children:"Loading tee times..."}):!s||s.length===0?e.jsx("div",{className:"text-center py-6 md:py-8 text-soft-grey text-sm font-primary",children:"No tee times scheduled for this competition yet."}):e.jsx("div",{className:"space-y-3",children:s.map(t=>e.jsxs("div",{className:"bg-scorecard rounded-xl border border-soft-grey overflow-hidden",children:[e.jsx("div",{className:"bg-rough bg-opacity-30 px-4 py-3 border-b border-soft-grey",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h4",{className:"text-base md:text-lg font-semibold text-fairway font-display flex items-center gap-2",children:[e.jsx(C,{className:"h-4 w-4 md:h-5 md:w-5 text-turf"}),t.teetime,e.jsx("span",{className:"text-xs md:text-sm text-turf bg-scorecard px-2 py-1 rounded-full font-primary font-medium",children:d==="indoor"&&t.hitting_bay?`Bay ${t.hitting_bay}`:`Hole ${t.start_hole}`})]}),e.jsxs("div",{className:"text-xs md:text-sm text-turf font-primary",children:[t.participants.length," players"]})]})}),t.participants.length===0?e.jsx("div",{className:"text-center py-4 text-soft-grey text-sm font-primary",children:"No participants assigned to this tee time yet."}):e.jsx("div",{className:"divide-y divide-soft-grey",children:t.participants.map(a=>e.jsxs(B,{to:`/player/competitions/${c}/tee-times/${t.id}`,className:"px-4 py-3 flex items-center justify-between hover:bg-rough hover:bg-opacity-20 transition-colors",children:[e.jsx("div",{className:"flex-1",children:e.jsx("h5",{className:"text-sm md:text-base font-medium text-fairway font-primary",children:a.player_names?`${a.player_names}, ${a.team_name} ${S(a.position_name)}`:`${a.team_name} ${S(a.position_name)}`})}),e.jsx("div",{className:"text-xs text-turf",children:k(a.position_name)&&e.jsx(I,{className:"w-4 h-4 inline-block"})})]},a.id))})]},t.id))})]})}function J({teamResults:s,leaderboardLoading:n,individualResults:c,isRoundView:d=!1,onParticipantClick:i}){const[f,g]=H.useState("all"),h=s==null?void 0:s.filter(l=>f==="finished"?l.status==="FINISHED":!0),t=l=>c?c.filter(o=>o.participant.team_name===l).sort((o,x)=>{const p=o.participant.score.includes(-1),b=x.participant.score.includes(-1),m=o.holesPlayed>0,j=x.holesPlayed>0,y=m&&!p,N=j&&!b,w=m&&p,$=j&&b,R=!m,A=!j;return y&&!N?-1:!y&&N?1:w&&A?-1:R&&$?1:y&&N?o.relativeToPar-x.relativeToPar:0}):[],a=l=>{const r=l.participant.score.includes(-1),o=l.participant.is_locked;return l.holesPlayed>0?o&&!r?"FINISHED":"IN_PROGRESS":"NOT_STARTED"},u=l=>{const r=a(l);return r==="NOT_STARTED"?l.startTime?l.startTime:"TBD":r==="FINISHED"?"F":l.holesPlayed.toString()},v=e.jsxs("div",{className:"space-y-4 md:space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl md:text-2xl font-bold text-fairway font-display",children:"Team Results"}),e.jsx("p",{className:"text-sm md:text-base text-turf font-primary mt-1",children:"Team standings with individual player results"})]}),e.jsxs("div",{className:"text-center text-xs md:text-sm text-turf font-primary bg-rough/20 px-3 py-2 rounded-full border border-soft-grey",children:[(s==null?void 0:s.filter(l=>l.status!=="NOT_STARTED").length)||0," ","teams scored"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>g("all"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${f==="all"?"bg-coral text-scorecard":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"All"}),e.jsx("button",{onClick:()=>g("finished"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${f==="finished"?"bg-coral text-scorecard":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Only Finished"})]}),n?e.jsx("div",{className:"flex items-center justify-center py-8 md:py-12",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-coral border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-charcoal font-primary",children:"Loading team results..."})]})}):!s||s.length===0?e.jsx("div",{className:"text-center py-8 md:py-12 bg-rough/10 rounded-xl border border-soft-grey",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("div",{className:"w-16 h-16 bg-soft-grey/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-soft-grey",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("h3",{className:"text-lg font-semibold text-charcoal font-display mb-2",children:"No Results Yet"}),e.jsx("p",{className:"text-soft-grey font-primary",children:"Team results will appear here once scores are submitted."})]})}):e.jsx("div",{className:"space-y-3",children:h==null?void 0:h.map((l,r)=>{const o=r===0&&l.status!=="NOT_STARTED",x=r<=2&&l.status!=="NOT_STARTED",p=l.status!=="NOT_STARTED",b=t(l.teamName);return e.jsxs("div",{className:`relative bg-scorecard rounded-xl p-4 shadow-sm border transition-all duration-300 hover:shadow-md ${o?"border-coral/30 shadow-lg ring-2 ring-coral/20 bg-gradient-to-br from-scorecard to-coral/5":x?"border-turf/30 shadow-md ring-1 ring-turf/20 bg-gradient-to-br from-scorecard to-turf/5":p?"border-soft-grey hover:border-turf/40":"border-soft-grey/50 opacity-75 bg-scorecard/50"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs("div",{className:`w-10 h-10 rounded-full border-2 flex items-center justify-center text-sm font-bold shadow-md ${o?"bg-scorecard text-coral border-coral":x?"bg-scorecard text-turf border-turf":p?"bg-scorecard text-charcoal border-charcoal":"bg-scorecard text-soft-grey border-soft-grey"}`,children:["#",r+1]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg md:text-xl font-bold text-charcoal font-display",children:l.teamName}),o&&e.jsxs("div",{className:"flex items-center gap-1 bg-coral/20 text-coral px-2 py-1 rounded-full text-xs font-medium mt-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 2L13.09 8.26L20 9L15 13.74L16.18 20.66L10 17.27L3.82 20.66L5 13.74L0 9L6.91 8.26L10 2Z",clipRule:"evenodd"})}),"Leader"]})]})]}),e.jsx("div",{className:"flex items-center gap-4 text-sm text-turf font-primary",children:e.jsxs("span",{children:[b.length," players"]})})]}),e.jsx("div",{className:"text-right flex flex-col items-end gap-2",children:l.status==="NOT_STARTED"?e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs font-medium text-turf mb-1 uppercase tracking-wide",children:"Status"}),e.jsx("div",{className:"text-lg font-medium text-soft-grey bg-soft-grey/10 px-3 py-1 rounded-lg",children:"Not Started"})]}):l.status==="IN_PROGRESS"?e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-turf mb-1 uppercase tracking-wide",children:"Score"}),e.jsx("div",{className:`text-xl font-bold font-display px-3 py-1 rounded-lg ${l.totalRelativeScore!==null?T(l.totalRelativeScore):"bg-charcoal/10 text-charcoal"}`,children:l.totalRelativeScore!==null?P(l.totalRelativeScore):"-"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-turf mb-1 uppercase tracking-wide",children:"Points"}),e.jsx("div",{className:"text-xl font-bold font-display px-3 py-1 rounded-lg bg-charcoal/10 text-charcoal",children:l.teamPoints})]})]}):e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-turf mb-1 uppercase tracking-wide",children:"Total Shots"}),e.jsx("div",{className:"text-2xl font-bold text-charcoal font-display px-3 py-1 rounded-lg bg-charcoal/10",children:l.totalShots||"-"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-turf mb-1 uppercase tracking-wide",children:"To Par"}),e.jsx("div",{className:`text-xl font-bold font-display px-3 py-1 rounded-lg ${l.totalRelativeScore!==null?T(l.totalRelativeScore):"bg-charcoal/10 text-charcoal"}`,children:l.totalRelativeScore!==null?P(l.totalRelativeScore):"-"})]}),l.teamPoints!==null&&e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-turf mb-1 uppercase tracking-wide",children:"Points"}),e.jsx("div",{className:`text-xl font-bold font-display px-3 py-1 rounded-lg shadow-md ${o?"bg-coral text-scorecard":x?"bg-turf text-scorecard":"bg-charcoal/10 text-charcoal"}`,children:l.teamPoints})]})]})})]}),e.jsxs("div",{className:"border-t border-soft-grey/30 pt-3",children:[e.jsx("h5",{className:"text-sm font-semibold text-fairway mb-2 font-primary uppercase tracking-wide",children:"Individual Players"}),e.jsx("div",{className:"space-y-1",children:b.map((m,j)=>{const y=a(m),N=u(m),w=m.participant.score.includes(-1);return e.jsxs("button",{onClick:()=>i==null?void 0:i(m.participant.id),className:`w-full flex items-center justify-between py-2 px-3 rounded-lg transition-colors text-left ${y!=="NOT_STARTED"?"bg-rough/10 hover:bg-rough/20 cursor-pointer":"bg-soft-grey/5 cursor-default"} ${i?"hover:shadow-sm":""}`,disabled:!i||y==="NOT_STARTED",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium ${y!=="NOT_STARTED"?"bg-turf/20 text-turf":"bg-soft-grey/20 text-soft-grey"}`,children:j+1}),e.jsx("div",{className:"flex-1",children:e.jsx("span",{className:`font-medium font-primary text-sm ${y!=="NOT_STARTED"?"text-charcoal":"text-soft-grey"}`,children:m.participant.player_names?`${m.participant.player_names} (${m.participant.position_name})`:m.participant.position_name})})]}),e.jsx("div",{className:"flex items-center gap-3",children:y==="NOT_STARTED"?e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Start Time"}),e.jsx("div",{className:"text-sm font-medium text-gray-500",children:N})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Thru"}),e.jsx("div",{className:"text-sm font-bold text-gray-800",children:N})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"To Par"}),e.jsx("div",{className:`text-sm font-bold ${w?"text-gray-500":T(m.relativeToPar)}`,children:w?"-":P(m.relativeToPar)})]})]})})]},m.participant.id)})})]})]},l.teamId)})})]});return d?e.jsx("div",{className:"h-full overflow-y-auto bg-scorecard",children:e.jsx("div",{className:"p-4 md:p-6",children:v})}):v}export{Z as L,q as P,U as S,J as T,X as a,G as b,K as c,Y as d,P as f,T as g,W as i};
