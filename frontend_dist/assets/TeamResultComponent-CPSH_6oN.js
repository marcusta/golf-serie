import{D as B,r as H,j as e,V as k,X as Z,a9 as ee,aa as te,ab as se,ac as re,ad as ae,ae as U,p as le,e as ne,B as ie,af as ce,b as oe,$ as G,U as O,ag as de,ah as xe,P as me,ai as fe,Q as he,a0 as Y}from"./index-B1lBAky0.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ue=B("circle-check",pe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ye=B("circle",be);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],_e=B("pen-line",Ne);function D(r){return r===0?"E":r>0?`+${r}`:`${r}`}function A(r){return r===0?"text-turf":r<0?"text-flag":"text-charcoal"}function W(r){return r===-1?"-":r===0?"0":r.toString()}function Fe(r){return r===-1||r===null?"-":r===0?"0":r.toString()}function Te(r){return(r==null?void 0:r.reduce((o,m)=>o+m.participants.length,0))||0}function I(r){return r>0}function q(r,o){return o.reduce((m,f)=>{const d=r[f.number-1];return m+(d&&d>0?d:0)},0)}function X(r,o){return o.reduce((m,f)=>{const d=r[f.number-1];return m+(d&&d>0?f.par:0)},0)}function $e(r){if(!r||r.length===0)return!1;for(const o of r){if(!o.score||!Array.isArray(o.score))return!1;for(let m=0;m<18;m++){const f=o.score[m];if(f===0||f===null||f===void 0)return!1}}return!0}const R=18;function je(r,o){if(!o||o.length===0){const d=Math.floor(r/R),n=r%R;return Array(R).fill(d).map((b,w)=>w<n?b+1:b)}if(o.length!==R)return console.warn("Invalid stroke index length, expected 18"),Array(R).fill(0);const m=Array(R).fill(0);if(r<0){const d=Math.abs(r);for(let n=0;n<d&&n<R;n++){const b=o.indexOf(R-n);b!==-1&&(m[b]=-1)}return m}let f=r;for(;f>0;){const d=Math.floor(f/R),n=f%R;if(d>0){for(let b=0;b<R;b++)m[b]+=d;f=n}for(let b=1;b<=n;b++){const w=o.indexOf(b);w!==-1&&(m[w]+=1)}f=0}return m}function ge({participant:r,course:o,currentHole:m,strokeIndex:f,handicapStrokesPerHole:d,courseHandicap:n,handicapIndex:b}){const w=o.holes.slice(0,9),p=o.holes.slice(9,18),N=H.useMemo(()=>{if(d)return d;if(f&&f.length===18&&n!==void 0)return je(n,f)},[d,f,n]),_=!!(f&&N&&n!==void 0),$=()=>{if(r.scores.some(l=>l===-1))return{frontTotal:null,backTotal:null,totalScore:null,toPar:null,frontToPar:null,backToPar:null,netFrontTotal:null,netBackTotal:null,netTotalScore:null,netToPar:null};const s=q(r.scores,w),c=q(r.scores,p),h=s+c,S=X(r.scores,w),F=X(r.scores,p),i=S+F;let y=null,u=null,t=null,x=null;if(_&&N){const l=N.slice(0,9).reduce((g,v)=>g+v,0);y=s-l;const P=N.slice(9,18).reduce((g,v)=>g+v,0);u=c-P,t=y+u,x=t>0?t-i:0}return{frontTotal:s,backTotal:c,totalScore:h,toPar:h>0?h-i:0,frontToPar:s>0?s-S:0,backToPar:c>0?c-F:0,netFrontTotal:y,netBackTotal:u,netTotalScore:t,netToPar:x}},T=(a,s)=>I(a)?a===1?{color:"text-scorecard font-bold",decoration:"bg-red-800 rounded-full border-2 border-red-800"}:a<s-1?{color:"text-red-800 font-bold",decoration:"border-2 border-red-800 rounded-full shadow-[0_0_0_2px_white,0_0_0_4px_#aa2626]"}:a===s-1?{color:"text-red-800 font-bold",decoration:"border-2 border-red-800 rounded-full"}:a===s?{color:"text-turf",decoration:""}:a===s+1?{color:"text-blue-900 font-bold",decoration:"border-2 border-blue-900"}:a===s+2?{color:"text-blue-900 font-bold",decoration:"border-2 border-blue-900 shadow-[0_0_0_2px_white,0_0_0_4px_#1e40af]"}:a>=s+3?{color:"text-blue-600 font-bold",decoration:"border-2 border-blue-600 shadow-[0_0_0_2px_white,0_0_0_4px_#60a5fa]"}:{color:"text-charcoal",decoration:""}:a===-1?{color:"text-red-600",decoration:""}:a===0?{color:"text-soft-grey",decoration:""}:{color:"text-charcoal",decoration:""},j=$();return e.jsxs("div",{className:"bg-scorecard overflow-hidden",children:[e.jsx("div",{className:"bg-turf text-scorecard px-2 py-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold text-base font-display",children:r.name}),r.isMultiPlayer&&e.jsx("span",{className:"text-rough text-sm",children:"ðŸ‘¥"})]}),e.jsxs("div",{className:"flex items-center gap-3 text-sm font-primary",children:[_&&e.jsxs(e.Fragment,{children:[b!==void 0&&e.jsxs("span",{className:"text-scorecard/70",children:["HCP ",b.toFixed(1)]}),n!==void 0&&e.jsxs("span",{className:"text-scorecard font-medium",children:["(",n,")"]})]}),r.type&&e.jsx("span",{className:"text-scorecard/70",children:r.type})]})]})}),e.jsxs("div",{className:"border-b border-soft-grey",children:[e.jsx("div",{className:"bg-rough/40",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-10 min-w-10 px-0.5 py-1 text-xs font-medium text-fairway border-r border-soft-grey font-primary",children:"Hole"}),w.map(a=>e.jsx("div",{className:k("min-w-6 px-0.5 py-1 text-center text-xs font-medium text-fairway border-r border-soft-grey flex-1 font-primary",a.number===m&&"bg-turf text-scorecard"),children:a.number},a.number)),e.jsx("div",{className:"min-w-10 px-0.5 py-1 text-center text-xs font-medium text-fairway bg-rough/50 font-primary",children:"OUT"})]})}),e.jsx("div",{className:"bg-rough/20",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-10 min-w-10 px-0.5 py-1 text-xs font-medium text-fairway border-r border-soft-grey font-primary",children:"Par"}),w.map(a=>e.jsx("div",{className:"min-w-6 px-0.5 py-1 text-center text-xs font-medium text-fairway border-r border-soft-grey flex-1 font-primary",children:a.par},a.number)),e.jsx("div",{className:"min-w-10 px-0.5 py-1 text-center text-xs font-bold text-fairway bg-rough/50 font-display",children:w.reduce((a,s)=>a+s.par,0)})]})}),_&&f&&e.jsx("div",{className:"bg-scorecard",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-10 min-w-10 px-0.5 py-1 text-xs font-medium text-fairway border-r border-soft-grey font-primary",children:"SI"}),w.map(a=>{const s=f[a.number-1],c=(N==null?void 0:N[a.number-1])??0;return e.jsx("div",{className:k("min-w-6 px-0.5 py-1 text-center text-xs border-r border-soft-grey flex-1 font-primary",c>0&&"text-charcoal font-bold bg-amber-100",c<0&&"text-charcoal font-bold bg-red-100",c===0&&"text-charcoal/50"),children:s},a.number)}),e.jsx("div",{className:"min-w-10 px-0.5 py-1 text-center text-xs font-medium text-fairway bg-rough/30 font-primary",children:"-"})]})}),e.jsx("div",{className:"bg-scorecard border-b border-soft-grey",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-10 min-w-10 px-0.5 py-1 text-xs font-medium text-fairway border-r border-soft-grey font-primary",children:"Score"}),w.map(a=>{const s=r.scores[a.number-1]??0,c=T(s,a.par);return e.jsx("div",{className:k("min-w-6 px-0.5 py-1 text-center text-xs font-medium flex items-center justify-center border-r border-soft-grey flex-1",a.number===m&&"bg-turf/10"),children:e.jsx("div",{className:k("w-5 h-5 flex items-center justify-center text-xs font-display",c.color,c.decoration),children:W(s)})},a.number)}),e.jsx("div",{className:"min-w-10 px-0.5 py-1 text-center text-xs font-bold text-charcoal bg-rough/50 font-display",children:j.frontTotal??"-"})]})}),_&&N&&e.jsx("div",{className:"bg-scorecard border-b border-soft-grey border-l-2 border-l-turf",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-10 min-w-10 px-0.5 py-1 text-xs font-medium text-turf border-r border-soft-grey font-primary",children:"Net"}),w.map(a=>{const s=r.scores[a.number-1]??0,c=N[a.number-1]??0,h=I(s)?s-c:0,S=I(s)?T(h,a.par):{color:"text-soft-grey",decoration:""};return e.jsx("div",{className:k("min-w-6 px-0.5 py-1 text-center text-xs font-medium flex items-center justify-center border-r border-soft-grey flex-1",a.number===m&&"bg-turf/10"),children:e.jsx("div",{className:k("w-5 h-5 flex items-center justify-center text-xs font-display",S.color,S.decoration),children:I(s)?h:"-"})},a.number)}),e.jsx("div",{className:"min-w-10 px-0.5 py-1 text-center text-xs font-bold text-turf bg-rough/30 font-display",children:j.netFrontTotal??"-"})]})})]}),e.jsxs("div",{className:"border-b border-soft-grey",children:[e.jsx("div",{className:"bg-rough/40",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-10 min-w-10 px-0.5 py-1 text-xs font-medium text-fairway border-r border-soft-grey font-primary",children:"Hole"}),p.map(a=>e.jsx("div",{className:k("min-w-6 px-0.5 py-1 text-center text-xs font-medium text-fairway border-r border-soft-grey flex-1 font-primary",a.number===m&&"bg-turf text-scorecard"),children:a.number},a.number)),e.jsx("div",{className:"min-w-10 px-0.5 py-1 text-center text-xs font-medium text-fairway bg-rough/50 font-primary",children:"IN"})]})}),e.jsx("div",{className:"bg-rough/20",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-10 min-w-10 px-0.5 py-1 text-xs font-medium text-fairway border-r border-soft-grey font-primary",children:"Par"}),p.map(a=>e.jsx("div",{className:"min-w-6 px-0.5 py-1 text-center text-xs font-medium text-fairway border-r border-soft-grey flex-1 font-primary",children:a.par},a.number)),e.jsx("div",{className:"min-w-10 px-0.5 py-1 text-center text-xs font-bold text-fairway bg-rough/50 font-display",children:p.reduce((a,s)=>a+s.par,0)})]})}),_&&f&&e.jsx("div",{className:"bg-scorecard",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-10 min-w-10 px-0.5 py-1 text-xs font-medium text-fairway border-r border-soft-grey font-primary",children:"SI"}),p.map(a=>{const s=f[a.number-1],c=(N==null?void 0:N[a.number-1])??0;return e.jsx("div",{className:k("min-w-6 px-0.5 py-1 text-center text-xs border-r border-soft-grey flex-1 font-primary",c>0&&"text-charcoal font-bold bg-amber-100",c<0&&"text-charcoal font-bold bg-red-100",c===0&&"text-charcoal/50"),children:s},a.number)}),e.jsx("div",{className:"min-w-10 px-0.5 py-1 text-center text-xs font-medium text-fairway bg-rough/30 font-primary",children:"-"})]})}),e.jsx("div",{className:"bg-scorecard",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-10 min-w-10 px-0.5 py-1 text-xs font-medium text-fairway border-r border-soft-grey font-primary",children:"Score"}),p.map(a=>{const s=r.scores[a.number-1]??0,c=T(s,a.par);return e.jsx("div",{className:k("min-w-6 px-0.5 py-1 text-center text-xs font-medium flex items-center justify-center border-r border-soft-grey flex-1",a.number===m&&"bg-turf/10"),children:e.jsx("div",{className:k("w-5 h-5 flex items-center justify-center text-xs font-display",c.color,c.decoration),children:W(s)})},a.number)}),e.jsx("div",{className:"min-w-10 px-0.5 py-1 text-center text-xs font-bold text-charcoal bg-rough/50 font-display",children:j.backTotal??"-"})]})}),_&&N&&e.jsx("div",{className:"bg-scorecard border-l-2 border-l-turf",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-10 min-w-10 px-0.5 py-1 text-xs font-medium text-turf border-r border-soft-grey font-primary",children:"Net"}),p.map(a=>{const s=r.scores[a.number-1]??0,c=N[a.number-1]??0,h=I(s)?s-c:0,S=I(s)?T(h,a.par):{color:"text-soft-grey",decoration:""};return e.jsx("div",{className:k("min-w-6 px-0.5 py-1 text-center text-xs font-medium flex items-center justify-center border-r border-soft-grey flex-1",a.number===m&&"bg-turf/10"),children:e.jsx("div",{className:k("w-5 h-5 flex items-center justify-center text-xs font-display",S.color,S.decoration),children:I(s)?h:"-"})},a.number)}),e.jsx("div",{className:"min-w-10 px-0.5 py-1 text-center text-xs font-bold text-turf bg-rough/30 font-display",children:j.netBackTotal??"-"})]})})]}),e.jsx("div",{className:"bg-rough/30 px-2 py-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-fairway font-primary",children:_?"Gross":"Total Score"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-turf text-sm font-primary",children:["Total: ",j.totalScore??"-"]}),e.jsxs("span",{className:"text-base font-bold text-charcoal font-display",children:["To par:"," ",j.totalScore&&j.toPar!==null?D(j.toPar):"-"]})]})]})}),_&&e.jsx("div",{className:"bg-scorecard px-2 py-2 border-t border-soft-grey border-l-2 border-l-turf",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-turf font-primary",children:"Net"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-charcoal/70 text-sm font-primary",children:["Total: ",j.netTotalScore??"-"]}),e.jsxs("span",{className:"text-base font-bold text-turf font-display",children:["To par:"," ",j.netTotalScore&&j.netToPar!==null?D(j.netToPar):"-"]})]})]})})]})}function ke({visible:r,participant:o,course:m,onClose:f,isTourCompetition:d=!1,netScoringData:n}){return!r||!o||!m?null:e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-2 bg-black bg-opacity-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-200",children:[e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Scorecard"})}),e.jsx("button",{onClick:f,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors flex-shrink-0 ml-2",children:e.jsx(Z,{className:"h-5 w-5"})})]}),e.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-180px)]",children:e.jsx("div",{className:"p-2",children:e.jsx(ge,{participant:{id:o.id.toString(),name:o.player_names||o.position_name,type:d?void 0:o.player_names?`${o.team_name}, ${o.position_name}`:o.team_name,scores:o.score},course:m,strokeIndex:n==null?void 0:n.strokeIndex,handicapStrokesPerHole:n==null?void 0:n.handicapStrokesPerHole,courseHandicap:n==null?void 0:n.courseHandicap,handicapIndex:n==null?void 0:n.handicapIndex})})}),e.jsx("div",{className:"p-3 border-t border-gray-200",children:e.jsx("button",{onClick:f,className:"w-full bg-gray-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-gray-700 transition-colors",children:"Close Scorecard"})})]})})}function Re({leaderboard:r,leaderboardLoading:o,onParticipantClick:m,isRoundView:f=!1,isTourCompetition:d=!1,scoringMode:n,teeInfo:b,categoryTees:w,categories:p}){const[N,_]=H.useState("all"),[$,T]=H.useState(void 0),[j,a]=H.useState(n==="net"||n==="both"?"net":"gross");H.useEffect(()=>{p&&p.length>0&&$===void 0&&T(p[0].id)},[p,$]);const s=n==="net"||n==="both",c=t=>{if(t.isDNF)return"DNF";const x=t.participant.score.includes(-1),l=t.participant.is_locked;return t.holesPlayed>0?l&&!x?"FINISHED":"IN_PROGRESS":"NOT_STARTED"},h=t=>{const x=c(t);return x==="DNF"?"DNF":x==="NOT_STARTED"?t.startTime?t.startTime:"TBD":x==="FINISHED"?"F":t.holesPlayed.toString()},F=(r?[...r].sort((t,x)=>{if(t.isDNF&&!x.isDNF)return 1;if(!t.isDNF&&x.isDNF)return-1;if(t.isDNF&&x.isDNF)return x.holesPlayed-t.holesPlayed;const l=t.participant.score.includes(-1),P=x.participant.score.includes(-1),g=t.holesPlayed>0,v=x.holesPlayed>0,E=g&&!l,C=v&&!P,V=g&&l,M=v&&P,z=!g,Q=!v;if(E&&!C)return-1;if(!E&&C)return 1;if(V&&Q)return-1;if(z&&M)return 1;if(E&&C){if(j==="net"){const J=t.netRelativeToPar??t.relativeToPar,K=x.netRelativeToPar??x.relativeToPar;return J-K}return t.relativeToPar-x.relativeToPar}return 0}):[]).filter(t=>!(N==="finished"&&c(t)!=="FINISHED"||$!==void 0&&t.participant.category_id!==$)),i=(t,x,l)=>{if(l)return"border-red-300 text-red-500";if(x===0)return"border-gray-300 text-gray-500";switch(t){case 0:return"border-yellow-400 text-yellow-400";case 1:return"border-gray-400 text-gray-400";case 2:return"border-orange-400 text-orange-400";default:return"border-gray-300 text-gray-500"}},y=(t,x,l)=>{if(l)return"bg-red-50/50 hover:bg-red-100/50";if(x===0)return"bg-scorecard hover:bg-gray-50";switch(t){case 0:return"bg-yellow-50 hover:bg-yellow-100";case 1:return"bg-gray-50 hover:bg-gray-100";case 2:return"bg-orange-50 hover:bg-orange-100";default:return"bg-scorecard hover:bg-gray-50"}},u=e.jsxs("div",{className:"space-y-3 md:space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg md:text-xl font-semibold text-fairway font-display",children:"Leaderboard"}),w&&w.length>0?e.jsx("div",{className:"text-xs text-turf font-primary mt-1 space-y-0.5",children:w.map(t=>e.jsxs("div",{children:[e.jsxs("span",{className:"font-medium",children:[t.categoryName,":"]})," ",t.teeName," (CR: ",t.courseRating.toFixed(1),", SR: ",t.slopeRating,")"]},t.categoryId))}):b?e.jsxs("div",{className:"text-xs text-turf font-primary mt-1",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full mr-1.5 align-middle",style:{backgroundColor:b.color||"#666"}}),b.name," Tees (CR: ",b.courseRating.toFixed(1),", SR: ",b.slopeRating,")"]}):null]}),e.jsx("div",{className:"text-xs md:text-sm text-turf font-primary",children:"Live scoring"})]}),(p&&p.length>=1||n==="both")&&e.jsxs("div",{className:"flex items-center justify-between gap-4 pb-2",children:[p&&p.length>1&&$!==void 0?e.jsxs(ee,{value:$.toString(),onValueChange:t=>T(Number(t)),children:[e.jsx(te,{className:"w-auto min-w-[120px] pr-4 bg-scorecard border-soft-grey text-charcoal",children:e.jsx(se,{placeholder:"Select category"})}),e.jsx(re,{className:"bg-scorecard border-soft-grey",children:p.map(t=>e.jsx(ae,{value:t.id.toString(),className:"text-charcoal",children:t.name},t.id))})]}):p&&p.length===1?e.jsx("span",{className:"text-sm font-medium text-charcoal px-3 py-1.5 bg-rough/20 rounded-lg",children:p[0].name}):e.jsx("div",{}),n==="both"&&e.jsxs("div",{className:"flex rounded-lg overflow-hidden border border-soft-grey",children:[e.jsx("button",{onClick:()=>a("gross"),className:`px-4 py-1.5 text-sm font-medium transition-colors ${j==="gross"?"bg-turf text-scorecard":"bg-scorecard text-charcoal hover:bg-rough/30"}`,children:"Gross"}),e.jsx("button",{onClick:()=>a("net"),className:`px-4 py-1.5 text-sm font-medium transition-colors border-l border-soft-grey ${j==="net"?"bg-turf text-scorecard":"bg-scorecard text-charcoal hover:bg-rough/30"}`,children:"Net"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[e.jsxs("div",{className:"flex rounded-lg overflow-hidden border border-soft-grey",children:[e.jsx("button",{onClick:()=>_("all"),className:`px-3 py-1.5 text-sm font-medium transition-colors ${N==="all"?"bg-turf text-scorecard":"bg-scorecard text-charcoal hover:bg-rough/30"}`,children:"All"}),e.jsx("button",{onClick:()=>_("finished"),className:`px-3 py-1.5 text-sm font-medium transition-colors border-l border-soft-grey ${N==="finished"?"bg-turf text-scorecard":"bg-scorecard text-charcoal hover:bg-rough/30"}`,children:"Only Finished"})]}),e.jsxs("span",{className:"text-sm text-charcoal/60 ml-auto",children:[F.length," players"]})]}),o?e.jsx("div",{className:"p-4 text-charcoal font-primary",children:"Loading leaderboard..."}):!r||r.length===0?e.jsx("div",{className:"text-center py-6 md:py-8 text-soft-grey font-primary",children:"No scores reported yet."}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"md:hidden",children:[e.jsxs("div",{className:"flex items-center px-4 py-2 border-b-2 border-soft-grey bg-gray-50 text-xs text-gray-500 font-medium",children:[e.jsx("div",{className:"w-7 mr-2",children:"#"}),e.jsx("div",{className:"flex-1 min-w-0",children:"Player"}),e.jsxs("div",{className:`flex items-center ${s?"gap-1":""}`,children:[e.jsx("div",{className:"w-10 text-center",children:"Gross"}),s&&e.jsx("div",{className:"w-10 text-center",children:"Net"}),e.jsx("div",{className:"w-8 text-center",children:"Thru"}),d&&e.jsx("div",{className:"w-8 text-center",children:"Pts"})]})]}),F.map((t,x)=>{const l=t.participant.score.includes(-1),P=x===0&&t.holesPlayed>0&&!t.isDNF,g=c(t),v=h(t);return e.jsx("button",{onClick:()=>m(t.participant.id),className:`w-full text-left px-4 py-2.5 border-b border-soft-grey/50 last:border-b-0 hover:bg-gray-50 transition-colors cursor-pointer ${P?"border-l-4 border-l-coral bg-coral/5":""} ${t.isDNF?"bg-red-50/50":""}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-7 text-base font-bold mr-2 ${i(x,t.holesPlayed,t.isDNF)}`,children:t.isDNF||t.holesPlayed===0?"-":x+1}),e.jsx("div",{className:"flex-1 min-w-0 mr-2",children:t.participant.player_names?e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:`text-sm font-semibold font-display truncate ${t.isDNF?"text-gray-500":"text-charcoal"}`,children:e.jsx(U,{playerId:t.participant.player_id,playerName:t.participant.player_names,skipFriendCheck:d})}),s&&t.participant.handicap_index!==void 0&&e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsxs("span",{className:"text-xs text-turf font-primary",children:["HCP ",t.participant.handicap_index.toFixed(1)]}),t.courseHandicap!==void 0&&e.jsxs("span",{className:"text-xs bg-coral/20 text-coral px-1 py-0.5 rounded font-medium font-primary",children:["PH ",t.courseHandicap]})]})]}):e.jsx("h3",{className:`text-sm font-semibold font-display truncate ${t.isDNF?"text-gray-500":"text-charcoal"}`,children:d?t.participant.position_name:`${t.participant.team_name} ${t.participant.position_name}`})}),e.jsx("div",{className:`flex items-center ${s?"gap-1":""}`,children:g==="NOT_STARTED"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-10 text-center text-sm text-gray-500",children:v}),d&&e.jsx("div",{className:"w-8 text-center text-sm text-gray-400",children:"-"})]}):g==="DNF"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-10 text-center text-lg font-bold text-gray-400",children:t.holesPlayed>0?D(t.relativeToPar):"-"}),s&&e.jsx("div",{className:"w-10 text-center text-lg font-bold text-gray-400",children:"-"}),e.jsx("div",{className:"w-8 text-center text-xs font-bold text-red-500",children:"DNF"}),d&&e.jsx("div",{className:"w-8 text-center text-sm text-gray-400",children:"-"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`w-10 text-center text-lg font-bold ${l?"text-gray-400":A(t.relativeToPar)}`,children:l?"-":D(t.relativeToPar)}),s&&e.jsx("div",{className:`w-10 text-center text-lg font-bold ${l||t.netRelativeToPar===void 0?"text-gray-400":A(t.netRelativeToPar)}`,children:l||t.netRelativeToPar===void 0?"-":D(t.netRelativeToPar)}),e.jsx("div",{className:"w-8 text-center text-base font-semibold text-gray-600",children:v}),d&&(()=>{const E=j==="net"?t.netPoints:t.points;return e.jsx("div",{className:`w-8 text-center text-sm font-bold ${E&&E>0?t.isProjected?"text-turf/70":"text-turf":"text-gray-400"}`,children:E&&E>0?E:"-"})})()]})})]})},t.participant.id)})]}),e.jsx("div",{className:"hidden md:block",children:e.jsx("div",{className:"bg-scorecard rounded-lg border border-soft-grey overflow-hidden shadow-sm",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-soft-grey",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-charcoal font-display",children:"Pos"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-charcoal font-display",children:d?"Player":"Player/Team"}),e.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-charcoal font-display",children:"Hole & Score"}),d&&e.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-charcoal font-display",children:"Pts"}),e.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-charcoal font-display"})]})}),e.jsx("tbody",{children:F.map((t,x)=>{const l=t.participant.score.includes(-1),P=c(t),g=h(t);return e.jsxs("tr",{className:`border-b border-soft-grey last:border-b-0 transition-colors duration-200 ${y(x,t.holesPlayed,t.isDNF)}`,children:[e.jsx("td",{className:"py-4 px-4",children:e.jsx("div",{className:`text-sm font-bold ${i(x,t.holesPlayed,t.isDNF)}`,children:t.isDNF||t.holesPlayed===0?"-":x+1})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{children:[t.participant.player_names?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`text-body-md font-semibold font-display ${t.isDNF?"text-gray-500":"text-charcoal"}`,children:e.jsx(U,{playerId:t.participant.player_id,playerName:t.participant.player_names,skipFriendCheck:d})}),!d&&e.jsxs("div",{className:"text-label-sm text-turf font-primary",children:[t.participant.team_name," ",t.participant.position_name]})]}):e.jsx(e.Fragment,{children:e.jsx("div",{className:`text-body-md font-semibold font-display ${t.isDNF?"text-gray-500":"text-charcoal"}`,children:d?t.participant.position_name:`${t.participant.team_name} ${t.participant.position_name}`})}),s&&t.participant.handicap_index!==void 0&&e.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[e.jsxs("span",{className:"text-xs text-turf font-primary",children:["HCP ",t.participant.handicap_index.toFixed(1)]}),t.courseHandicap!==void 0&&e.jsxs("span",{className:"text-xs bg-coral/20 text-coral px-1.5 py-0.5 rounded font-medium font-primary",children:["PH ",t.courseHandicap]})]})]})}),e.jsx("td",{className:"py-4 px-4 text-center",children:P==="NOT_STARTED"?e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Start Time"}),e.jsx("div",{className:"text-base font-medium text-gray-500",children:g})]}):P==="DNF"?e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Status"}),e.jsx("div",{className:"text-xl font-bold text-red-500 font-display",children:"DNF"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-xs text-gray-500",children:["Thru ",t.holesPlayed]}),e.jsx("div",{className:"text-xl font-bold text-gray-400 font-display",children:t.holesPlayed>0?D(t.relativeToPar):"-"})]})]}):e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Hole"}),e.jsx("div",{className:"text-xl font-bold text-charcoal font-display",children:g})]}),P==="FINISHED"?e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:s?"Gross":"Total"}),e.jsx("div",{className:"text-xl font-bold text-charcoal font-display",children:l?"-":t.totalShots})]}):e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:s?"Gross":"To Par"}),e.jsx("div",{className:`text-xl font-bold font-display ${l?"text-gray-500":A(t.relativeToPar)}`,children:l?"-":D(t.relativeToPar)})]}),s&&(P==="FINISHED"?e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Net"}),e.jsx("div",{className:"text-xl font-bold text-charcoal font-display",children:l||t.netTotalShots===void 0?"-":t.netTotalShots})]}):e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Net"}),e.jsx("div",{className:`text-xl font-bold font-display ${l||t.netRelativeToPar===void 0?"text-gray-500":A(t.netRelativeToPar)}`,children:l||t.netRelativeToPar===void 0?"-":D(t.netRelativeToPar)})]}))]})}),d&&(()=>{const v=j==="net"?t.netPoints:t.points;return e.jsxs("td",{className:"py-4 px-4 text-center",children:[e.jsx("div",{className:`text-lg font-bold ${v&&v>0?t.isProjected?"text-turf/70":"text-turf":"text-gray-400"}`,children:v&&v>0?v:"-"}),t.isProjected&&v&&v>0&&e.jsx("div",{className:"text-xs text-gray-500",children:"(proj)"})]})})(),e.jsx("td",{className:"py-4 px-4 text-center",children:e.jsx("button",{onClick:()=>m(t.participant.id),className:"bg-turf text-scorecard px-3 py-2 rounded-md text-sm font-medium hover:bg-fairway transition-colors duration-200 font-primary",children:"View Card"})})]},t.participant.id)})})]})})})]})]});return f?e.jsx("div",{className:"h-full overflow-y-auto bg-scorecard",children:e.jsx("div",{className:"p-4",children:u})}):u}function ve(r){return r.participants.length>0&&r.participants.every(o=>o.is_locked)}function we(r){return r.participants.some(o=>Array.isArray(o.score)&&o.score.some(m=>m!==0))}function Se(r){let o=0;for(const m of r.participants)if(Array.isArray(m.score)){for(let f=m.score.length-1;f>=0;f--)if(m.score[f]!==0){o=Math.max(o,f+1);break}}return o}function L(r){return ve(r)?"finished":we(r)?"playing":"not_started"}function De({teeTimes:r,teeTimesLoading:o,competitionId:m,venueType:f="outdoor",currentTeeTimeId:d,currentTeeTime:n,showCurrentGroup:b=!1,totalParticipants:w=0,isTourCompetition:p=!1,isOpenStart:N=!1,onGroupUpdated:_}){var F;const[$,T]=H.useState(!1),[j,a]=H.useState({open:!1,url:"",title:""}),{data:s}=le(p?parseInt(m):0),c=i=>p?i.player_names||"Player":i.player_names?`${i.player_names}, ${i.team_name} ${Y(i.position_name)}`:`${i.team_name} ${Y(i.position_name)}`,S=p&&N&&!(i=>i?i.participants.some(y=>Array.isArray(y.score)&&y.score.some(u=>u!==0)):!1)(n);return b?e.jsxs("div",{className:"h-full overflow-y-auto bg-scorecard",children:[e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg md:text-xl font-semibold text-fairway font-display",children:"Round Participants"}),e.jsx("div",{className:"text-xs md:text-sm text-turf font-primary",children:d?"Current group":`${w} total`})]}),d&&n&&e.jsxs("div",{className:"border-l-4 border-turf mb-4",children:[e.jsxs("div",{className:"bg-rough/20 px-4 py-3 flex items-center justify-between",children:[e.jsxs("h3",{className:"text-sm md:text-lg font-semibold text-fairway font-display flex items-center gap-2",children:[N?"Your Group":`Your Group - ${n.teetime}`,e.jsx("span",{className:"text-xs text-turf font-primary font-medium",children:f==="indoor"&&n.hitting_bay?`Â· Bay ${n.hitting_bay}`:`Â· Hole ${n.start_hole}`})]}),S?e.jsxs(de,{onClick:()=>T(!0),variant:"ghost",size:"sm",className:"text-turf hover:text-fairway hover:bg-turf/10",children:[e.jsx(xe,{className:"h-4 w-4 mr-1"}),"Edit"]}):e.jsx("span",{className:"text-xs md:text-sm text-coral font-semibold font-primary",children:"Active"})]}),e.jsx("div",{className:"divide-y divide-soft-grey",children:n.participants.map((i,y)=>{var x;const u=(x=s==null?void 0:s.group)==null?void 0:x.players[y],t=p&&u?u.name:c(i);return e.jsxs("div",{className:"px-4 py-3 flex items-center justify-between hover:bg-gray-50/50 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("h4",{className:"text-sm md:text-base font-medium text-fairway font-primary",children:[t,(u==null?void 0:u.is_you)&&e.jsx("span",{className:"text-xs text-turf ml-2",children:"(you)"})]}),p&&(u==null?void 0:u.handicap)!==void 0&&e.jsxs("div",{className:"text-sm text-charcoal/70",children:["HCP ",u.handicap.toFixed(1)]})]}),e.jsx("div",{className:"flex items-center gap-2",children:G(i.position_name)&&e.jsx(O,{className:"w-4 h-4 inline-block text-turf"})})]},i.id)})})]}),(()=>{if(!r||r.length===0)return e.jsx("div",{className:"text-center py-6 md:py-8 text-soft-grey font-primary",children:"No tee times scheduled for this competition."});const i=r.filter(l=>!d||l.id!==parseInt(d)),y=i.filter(l=>L(l)==="playing"),u=i.filter(l=>L(l)==="not_started"),t=i.filter(l=>L(l)==="finished"),x=(l,P)=>e.jsxs("div",{className:"border-l-4 border-soft-grey hover:border-turf transition-colors",children:[e.jsxs("div",{className:"bg-rough/20 px-4 py-2 flex items-center justify-between",children:[e.jsxs("h4",{className:"text-sm font-semibold text-fairway font-display flex items-center gap-2",children:[N?"Group":l.teetime,e.jsx("span",{className:"text-xs text-charcoal/50 font-primary font-normal",children:f==="indoor"&&l.hitting_bay?`Â· Bay ${l.hitting_bay}`:`Â· Start ${l.start_hole}`})]}),P]}),e.jsx("div",{className:"divide-y divide-soft-grey/50",children:l.participants.map(g=>e.jsxs("div",{className:"px-4 py-2 flex items-center justify-between",children:[e.jsx("h5",{className:"text-xs md:text-sm font-medium text-fairway font-primary",children:c(g)}),G(g.position_name)&&e.jsx(O,{className:"w-3 h-3 text-turf"})]},g.id))})]},l.id);return e.jsxs("div",{className:"space-y-6",children:[y.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-medium text-fairway mb-3 font-primary flex items-center gap-2",children:[e.jsx(me,{className:"w-4 h-4 text-coral"}),"On Course",e.jsxs("span",{className:"text-charcoal/50 font-normal",children:["(",y.length,")"]})]}),e.jsx("div",{className:"space-y-3",children:y.map(l=>{const P=Se(l);return x(l,e.jsxs("span",{className:"text-xs text-coral font-semibold font-primary",children:["Hole ",P]}))})})]}),u.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-medium text-fairway mb-3 font-primary flex items-center gap-2",children:[e.jsx(ye,{className:"w-4 h-4 text-charcoal/40"}),"Waiting to Start",e.jsxs("span",{className:"text-charcoal/50 font-normal",children:["(",u.length,")"]})]}),e.jsx("div",{className:"space-y-3",children:u.map(l=>x(l))})]}),t.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-medium text-fairway mb-3 font-primary flex items-center gap-2",children:[e.jsx(ue,{className:"w-4 h-4 text-turf"}),"Finished",e.jsxs("span",{className:"text-charcoal/50 font-normal",children:["(",t.length,")"]})]}),e.jsx("div",{className:"space-y-3",children:t.map(l=>x(l,e.jsx("span",{className:"text-xs text-turf font-medium font-primary",children:"Done"})))})]}),i.length===0&&e.jsx("div",{className:"text-center py-6 text-charcoal/50 text-sm font-primary",children:"No other groups in this competition."})]})})()]}),S&&e.jsx(fe,{isOpen:$,onClose:()=>T(!1),competitionId:parseInt(m),currentGroupSize:(n==null?void 0:n.participants.length)||0,maxGroupSize:4,mode:"add_to_existing",currentGroupMembers:((F=s==null?void 0:s.group)==null?void 0:F.players)||[],onSuccess:()=>{_==null||_()}}),e.jsx(he,{open:j.open,onOpenChange:i=>a(y=>({...y,open:i})),url:j.url,title:j.title,description:"Scan to view this tee time group"})]}):e.jsxs("div",{className:"space-y-3 md:space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg md:text-xl font-semibold text-fairway font-display",children:"Tee Times"}),e.jsxs("div",{className:"text-xs md:text-sm text-turf font-primary",children:[(r==null?void 0:r.length)||0," tee times"]})]}),o?e.jsx("div",{className:"p-4 text-charcoal font-primary",children:"Loading tee times..."}):!r||r.length===0?e.jsx("div",{className:"text-center py-6 md:py-8 text-soft-grey text-sm font-primary",children:"No tee times scheduled for this competition yet."}):e.jsx("div",{className:"space-y-6",children:r.map(i=>e.jsxs("div",{className:"border-l-4 border-turf",children:[e.jsx("div",{className:"bg-rough/20 px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h4",{className:"text-base md:text-lg font-semibold text-fairway font-display flex items-center gap-2",children:[e.jsx(ne,{className:"h-4 w-4 md:h-5 md:w-5 text-turf"}),i.teetime,e.jsx("span",{className:"text-xs md:text-sm text-turf font-primary font-medium",children:f==="indoor"&&i.hitting_bay?`Â· Bay ${i.hitting_bay}`:`Â· Hole ${i.start_hole}`})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>a({open:!0,url:ce(parseInt(m),i.id),title:`Tee Time ${i.teetime}`}),className:"p-1.5 text-turf hover:text-fairway hover:bg-turf/10 rounded-lg transition-colors",title:"Share tee time",children:e.jsx(ie,{className:"h-4 w-4"})}),e.jsxs("div",{className:"text-xs md:text-sm text-turf font-primary",children:[i.participants.length," players"]})]})]})}),i.participants.length===0?e.jsx("div",{className:"text-center py-4 text-soft-grey text-sm font-primary",children:"No participants assigned to this tee time yet."}):e.jsx("div",{className:"divide-y divide-soft-grey",children:i.participants.map(y=>e.jsxs(oe,{to:`/player/competitions/${m}/tee-times/${i.id}`,className:"px-4 py-3 flex items-center justify-between hover:bg-rough hover:bg-opacity-20 transition-colors",children:[e.jsx("div",{className:"flex-1",children:e.jsx("h5",{className:"text-sm md:text-base font-medium text-fairway font-primary",children:c(y)})}),e.jsx("div",{className:"text-xs text-turf",children:G(y.position_name)&&e.jsx(O,{className:"w-4 h-4 inline-block"})})]},y.id))})]},i.id))})]})}function Ee({teamResults:r,leaderboardLoading:o,individualResults:m,isRoundView:f=!1,onParticipantClick:d}){const[n,b]=H.useState("all"),[w,p]=H.useState(new Set),N=s=>{p(c=>{const h=new Set(c);return h.has(s)?h.delete(s):h.add(s),h})},_=r==null?void 0:r.filter(s=>n==="finished"?s.status==="FINISHED":!0),$=s=>m?m.filter(h=>h.participant.team_name===s).sort((h,S)=>{const F=h.participant.score.includes(-1),i=S.participant.score.includes(-1),y=h.holesPlayed>0,u=S.holesPlayed>0,t=y&&!F,x=u&&!i,l=y&&F,P=u&&i,g=!y,v=!u;return t&&!x?-1:!t&&x?1:l&&v?-1:g&&P?1:t&&x?h.relativeToPar-S.relativeToPar:0}):[],T=s=>{const c=s.participant.score.includes(-1),h=s.participant.is_locked;return s.holesPlayed>0?h&&!c?"FINISHED":"IN_PROGRESS":"NOT_STARTED"},j=s=>{const c=T(s);return c==="NOT_STARTED"?s.startTime?s.startTime:"TBD":c==="FINISHED"?"F":s.holesPlayed.toString()},a=e.jsxs("div",{className:"space-y-4 md:space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h2",{className:"text-xl md:text-2xl font-bold text-fairway font-display",children:"Team Results"})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>b("all"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${n==="all"?"bg-coral text-scorecard":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"All"}),e.jsx("button",{onClick:()=>b("finished"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${n==="finished"?"bg-coral text-scorecard":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Only Finished"})]}),o?e.jsx("div",{className:"flex items-center justify-center py-8 md:py-12",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-coral border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-charcoal font-primary",children:"Loading team results..."})]})}):!r||r.length===0?e.jsxs("div",{className:"text-center py-8 md:py-12",children:[e.jsx("h3",{className:"text-lg font-semibold text-charcoal font-display mb-2",children:"No Results Yet"}),e.jsx("p",{className:"text-soft-grey font-primary",children:"Team results will appear here once scores are submitted."})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between pb-2 mb-2 pr-3 border-b border-soft-grey text-xs text-charcoal/50 uppercase tracking-wide",children:[e.jsx("div",{className:"flex-1",children:"Team"}),e.jsxs("div",{className:"flex items-center gap-4 text-right",children:[e.jsx("div",{className:"w-14",children:"To Par"}),e.jsx("div",{className:"w-10",children:"Pts"})]})]}),e.jsx("div",{className:"divide-y divide-soft-grey",children:_==null?void 0:_.map((s,c)=>{const h=c===0&&s.status!=="NOT_STARTED",S=c<=2&&s.status!=="NOT_STARTED",F=s.status!=="NOT_STARTED",i=$(s.teamName),y=w.has(s.teamId),u=h?"border-l-4 border-l-coral bg-coral/5":S?"border-l-4 border-l-turf":F?"border-l-4 border-l-charcoal/20":"";return e.jsxs("div",{className:`${u} ${F?"":"opacity-60"}`,children:[e.jsxs("button",{onClick:()=>F&&i.length>0&&N(s.teamId),className:`w-full flex items-center justify-between py-3 pr-3 text-left ${F&&i.length>0?"hover:bg-gray-50/50 cursor-pointer":""}`,children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[F&&i.length>0?e.jsx("svg",{className:`w-4 h-4 text-charcoal/30 transition-transform flex-shrink-0 ${y?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}):e.jsx("div",{className:"w-4"}),e.jsx("span",{className:`text-base font-bold w-5 flex-shrink-0 ${h?"text-coral":S?"text-turf":F?"text-charcoal":"text-soft-grey"}`,children:c+1}),e.jsx("span",{className:"text-base font-semibold text-charcoal font-display truncate",children:s.teamName})]}),e.jsx("div",{className:"flex items-center gap-4 text-right flex-shrink-0",children:s.status==="NOT_STARTED"?e.jsx("span",{className:"text-sm text-soft-grey",children:"â€”"}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`w-14 text-base font-bold font-display ${s.totalRelativeScore!==null?A(s.totalRelativeScore):"text-charcoal"}`,children:s.totalRelativeScore!==null?D(s.totalRelativeScore):"-"}),e.jsx("div",{className:`w-10 text-base font-bold font-display ${h?"text-coral":S?"text-turf":"text-charcoal"}`,children:s.teamPoints??"-"})]})})]}),y&&i.length>0&&e.jsxs("div",{className:"pl-7 pr-4 pb-3 bg-gray-50/50",children:[s.totalShots&&e.jsxs("div",{className:"text-xs text-charcoal/50 mb-2",children:["Total: ",s.totalShots," shots"]}),e.jsx("div",{className:"divide-y divide-soft-grey/30",children:i.map((t,x)=>{const l=T(t),P=j(t),g=t.participant.score.includes(-1);return e.jsxs("button",{onClick:v=>{v.stopPropagation(),d==null||d(t.participant.id)},className:`w-full flex items-center justify-between py-2 transition-colors text-left ${l!=="NOT_STARTED"&&d?"hover:bg-gray-50 cursor-pointer":"cursor-default"}`,disabled:!d||l==="NOT_STARTED",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsx("span",{className:"text-xs text-charcoal/30 w-4",children:x+1}),e.jsx("span",{className:`font-medium font-primary text-sm ${l!=="NOT_STARTED"?"text-charcoal":"text-soft-grey"}`,children:t.participant.player_names?`${t.participant.player_names} (${t.participant.position_name})`:t.participant.position_name})]}),e.jsx("div",{className:"flex items-center gap-4 text-sm",children:l==="NOT_STARTED"?e.jsx("span",{className:"text-charcoal/40",children:P}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-charcoal/60 w-6 text-center",children:P}),e.jsx("span",{className:`font-bold w-8 text-right ${g?"text-charcoal/40":A(t.relativeToPar)}`,children:g?"-":D(t.relativeToPar)})]})})]},t.participant.id)})})]})]},s.teamId)})})]})]});return f?e.jsx("div",{className:"h-full overflow-y-auto bg-scorecard",children:e.jsx("div",{className:"p-4 md:p-6",children:a})}):a}export{ye as C,Re as L,De as P,ge as S,Ee as T,ue as a,ke as b,Te as c,je as d,_e as e,D as f,A as g,Fe as h,$e as i};
