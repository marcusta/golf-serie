const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AdminLayout-CxYDs-l4.js","assets/vendor-react-BBbvyIoV.js","assets/markdown-editor-BsRyHcBw.js","assets/markdown-editor-8FYW-GsQ.css","assets/vendor-react-gyt9TyUT.css","assets/vendor-tanstack-CYWaa4c3.js","assets/CompetitionDetail-TR5P4LNr.js","assets/pointCalculation-BG6HQdvo.js","assets/CompetitionRound-DCj3nIm5.js"])))=>i.map(i=>d[i]);
import{j as e,L as ke,S as Qs,r as $,c as Ct,T as St,O as Vs,P as Tt,C as Gs,d as _t,X as ze,e as Ws,D as Js,f as Pt,g as W,h as je,E as as,i as $t,k as Ee,l as Ce,I as Dt,m as Hs,U as G,n as ie,o as Et,p as At,q as Lt,s as Ft,A as rs,F as Me,t as As,u as Oe,v as Ue,w as It,x as Je,y as Rt,z as es,B as ws,G as ss,H as De,J as qt,K as Te,N as zt,Q as Mt,V as Ot,W as Ut,Y as _e,Z as Kt,_ as Bt,$ as Ys,a0 as Qt,a1 as Se,a2 as Vt,a3 as Gt,a4 as Wt,a5 as ys,a6 as qe,a7 as Jt,a8 as Ht,a9 as Yt,aa as Xt,ab as Ls,ac as Xs,ad as Zt,ae as ea,af as sa}from"./vendor-react-BBbvyIoV.js";import{u as Zs,O as ts,a as Y,b as B,c as V,L as U,d as ve,e as ta,R as aa,f as J,l as ks,N as ra,g as na,_ as Cs,Q as ia,h as oa,i as la,j as ca}from"./vendor-tanstack-CYWaa4c3.js";import{F as da}from"./markdown-editor-BsRyHcBw.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function a(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=a(n);fetch(n.href,i)}})();function et(s){var t,a,r="";if(typeof s=="string"||typeof s=="number")r+=s;else if(typeof s=="object")if(Array.isArray(s)){var n=s.length;for(t=0;t<n;t++)s[t]&&(a=et(s[t]))&&(r&&(r+=" "),r+=a)}else for(a in s)s[a]&&(r&&(r+=" "),r+=a);return r}function st(){for(var s,t,a=0,r="",n=arguments.length;a<n;a++)(s=arguments[a])&&(t=et(s))&&(r&&(r+=" "),r+=t);return r}const Ss="-",ma=s=>{const t=ua(s),{conflictingClassGroups:a,conflictingClassGroupModifiers:r}=s;return{getClassGroupId:o=>{const l=o.split(Ss);return l[0]===""&&l.length!==1&&l.shift(),tt(l,t)||xa(o)},getConflictingClassGroupIds:(o,l)=>{const c=a[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},tt=(s,t)=>{var o;if(s.length===0)return t.classGroupId;const a=s[0],r=t.nextPart.get(a),n=r?tt(s.slice(1),r):void 0;if(n)return n;if(t.validators.length===0)return;const i=s.join(Ss);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},Fs=/^\[(.+)\]$/,xa=s=>{if(Fs.test(s)){const t=Fs.exec(s)[1],a=t==null?void 0:t.substring(0,t.indexOf(":"));if(a)return"arbitrary.."+a}},ua=s=>{const{theme:t,classGroups:a}=s,r={nextPart:new Map,validators:[]};for(const n in a)js(a[n],r,n,t);return r},js=(s,t,a,r)=>{s.forEach(n=>{if(typeof n=="string"){const i=n===""?t:Is(t,n);i.classGroupId=a;return}if(typeof n=="function"){if(ha(n)){js(n(r),t,a,r);return}t.validators.push({validator:n,classGroupId:a});return}Object.entries(n).forEach(([i,o])=>{js(o,Is(t,i),a,r)})})},Is=(s,t)=>{let a=s;return t.split(Ss).forEach(r=>{a.nextPart.has(r)||a.nextPart.set(r,{nextPart:new Map,validators:[]}),a=a.nextPart.get(r)}),a},ha=s=>s.isThemeGetter,pa=s=>{if(s<1)return{get:()=>{},set:()=>{}};let t=0,a=new Map,r=new Map;const n=(i,o)=>{a.set(i,o),t++,t>s&&(t=0,r=a,a=new Map)};return{get(i){let o=a.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return n(i,o),o},set(i,o){a.has(i)?a.set(i,o):n(i,o)}}},vs="!",Ns=":",ga=Ns.length,fa=s=>{const{prefix:t,experimentalParseClassName:a}=s;let r=n=>{const i=[];let o=0,l=0,c=0,m;for(let T=0;T<n.length;T++){let P=n[T];if(o===0&&l===0){if(P===Ns){i.push(n.slice(c,T)),c=T+ga;continue}if(P==="/"){m=T;continue}}P==="["?o++:P==="]"?o--:P==="("?l++:P===")"&&l--}const C=i.length===0?n:n.substring(c),v=ba(C),w=v!==C,b=m&&m>c?m-c:void 0;return{modifiers:i,hasImportantModifier:w,baseClassName:v,maybePostfixModifierPosition:b}};if(t){const n=t+Ns,i=r;r=o=>o.startsWith(n)?i(o.substring(n.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(a){const n=r;r=i=>a({className:i,parseClassName:n})}return r},ba=s=>s.endsWith(vs)?s.substring(0,s.length-1):s.startsWith(vs)?s.substring(1):s,ya=s=>{const t=Object.fromEntries(s.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const n=[];let i=[];return r.forEach(o=>{o[0]==="["||t[o]?(n.push(...i.sort(),o),i=[]):i.push(o)}),n.push(...i.sort()),n}},ja=s=>({cache:pa(s.cacheSize),parseClassName:fa(s),sortModifiers:ya(s),...ma(s)}),va=/\s+/,Na=(s,t)=>{const{parseClassName:a,getClassGroupId:r,getConflictingClassGroupIds:n,sortModifiers:i}=t,o=[],l=s.trim().split(va);let c="";for(let m=l.length-1;m>=0;m-=1){const C=l[m],{isExternal:v,modifiers:w,hasImportantModifier:b,baseClassName:T,maybePostfixModifierPosition:P}=a(C);if(v){c=C+(c.length>0?" "+c:c);continue}let N=!!P,k=r(N?T.substring(0,P):T);if(!k){if(!N){c=C+(c.length>0?" "+c:c);continue}if(k=r(T),!k){c=C+(c.length>0?" "+c:c);continue}N=!1}const p=i(w).join(":"),L=b?p+vs:p,D=L+k;if(o.includes(D))continue;o.push(D);const F=n(k,N);for(let j=0;j<F.length;++j){const _=F[j];o.push(L+_)}c=C+(c.length>0?" "+c:c)}return c};function wa(){let s=0,t,a,r="";for(;s<arguments.length;)(t=arguments[s++])&&(a=at(t))&&(r&&(r+=" "),r+=a);return r}const at=s=>{if(typeof s=="string")return s;let t,a="";for(let r=0;r<s.length;r++)s[r]&&(t=at(s[r]))&&(a&&(a+=" "),a+=t);return a};function ka(s,...t){let a,r,n,i=o;function o(c){const m=t.reduce((C,v)=>v(C),s());return a=ja(m),r=a.cache.get,n=a.cache.set,i=l,l(c)}function l(c){const m=r(c);if(m)return m;const C=Na(c,a);return n(c,C),C}return function(){return i(wa.apply(null,arguments))}}const H=s=>{const t=a=>a[s]||[];return t.isThemeGetter=!0,t},rt=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,nt=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Ca=/^\d+\/\d+$/,Sa=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ta=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_a=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Pa=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$a=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,$e=s=>Ca.test(s),M=s=>!!s&&!Number.isNaN(Number(s)),be=s=>!!s&&Number.isInteger(Number(s)),ms=s=>s.endsWith("%")&&M(s.slice(0,-1)),pe=s=>Sa.test(s),Da=()=>!0,Ea=s=>Ta.test(s)&&!_a.test(s),it=()=>!1,Aa=s=>Pa.test(s),La=s=>$a.test(s),Fa=s=>!E(s)&&!A(s),Ia=s=>Ae(s,ct,it),E=s=>rt.test(s),we=s=>Ae(s,dt,Ea),xs=s=>Ae(s,Oa,M),Rs=s=>Ae(s,ot,it),Ra=s=>Ae(s,lt,La),He=s=>Ae(s,mt,Aa),A=s=>nt.test(s),Re=s=>Le(s,dt),qa=s=>Le(s,Ua),qs=s=>Le(s,ot),za=s=>Le(s,ct),Ma=s=>Le(s,lt),Ye=s=>Le(s,mt,!0),Ae=(s,t,a)=>{const r=rt.exec(s);return r?r[1]?t(r[1]):a(r[2]):!1},Le=(s,t,a=!1)=>{const r=nt.exec(s);return r?r[1]?t(r[1]):a:!1},ot=s=>s==="position"||s==="percentage",lt=s=>s==="image"||s==="url",ct=s=>s==="length"||s==="size"||s==="bg-size",dt=s=>s==="length",Oa=s=>s==="number",Ua=s=>s==="family-name",mt=s=>s==="shadow",Ka=()=>{const s=H("color"),t=H("font"),a=H("text"),r=H("font-weight"),n=H("tracking"),i=H("leading"),o=H("breakpoint"),l=H("container"),c=H("spacing"),m=H("radius"),C=H("shadow"),v=H("inset-shadow"),w=H("text-shadow"),b=H("drop-shadow"),T=H("blur"),P=H("perspective"),N=H("aspect"),k=H("ease"),p=H("animate"),L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],F=()=>[...D(),A,E],j=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto","contain","none"],u=()=>[A,E,c],h=()=>[$e,"full","auto",...u()],d=()=>[be,"none","subgrid",A,E],y=()=>["auto",{span:["full",be,A,E]},be,A,E],x=()=>[be,"auto",A,E],S=()=>["auto","min","max","fr",A,E],z=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],f=()=>["start","end","center","stretch","center-safe","end-safe"],I=()=>["auto",...u()],K=()=>[$e,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...u()],g=()=>[s,A,E],O=()=>[...D(),qs,Rs,{position:[A,E]}],he=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Pe=()=>["auto","cover","contain",za,Ia,{size:[A,E]}],cs=()=>[ms,Re,we],se=()=>["","none","full",m,A,E],re=()=>["",M,Re,we],Qe=()=>["solid","dashed","dotted","double"],Ds=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],X=()=>[M,ms,qs,Rs],Es=()=>["","none",T,A,E],Ve=()=>["none",M,A,E],Ge=()=>["none",M,A,E],ds=()=>[M,A,E],We=()=>[$e,"full",...u()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[pe],breakpoint:[pe],color:[Da],container:[pe],"drop-shadow":[pe],ease:["in","out","in-out"],font:[Fa],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[pe],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[pe],shadow:[pe],spacing:["px",M],text:[pe],"text-shadow":[pe],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",$e,E,A,N]}],container:["container"],columns:[{columns:[M,E,A,l]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:F()}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:h()}],"inset-x":[{"inset-x":h()}],"inset-y":[{"inset-y":h()}],start:[{start:h()}],end:[{end:h()}],top:[{top:h()}],right:[{right:h()}],bottom:[{bottom:h()}],left:[{left:h()}],visibility:["visible","invisible","collapse"],z:[{z:[be,"auto",A,E]}],basis:[{basis:[$e,"full","auto",l,...u()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[M,$e,"auto","initial","none",E]}],grow:[{grow:["",M,A,E]}],shrink:[{shrink:["",M,A,E]}],order:[{order:[be,"first","last","none",A,E]}],"grid-cols":[{"grid-cols":d()}],"col-start-end":[{col:y()}],"col-start":[{"col-start":x()}],"col-end":[{"col-end":x()}],"grid-rows":[{"grid-rows":d()}],"row-start-end":[{row:y()}],"row-start":[{"row-start":x()}],"row-end":[{"row-end":x()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":S()}],"auto-rows":[{"auto-rows":S()}],gap:[{gap:u()}],"gap-x":[{"gap-x":u()}],"gap-y":[{"gap-y":u()}],"justify-content":[{justify:[...z(),"normal"]}],"justify-items":[{"justify-items":[...f(),"normal"]}],"justify-self":[{"justify-self":["auto",...f()]}],"align-content":[{content:["normal",...z()]}],"align-items":[{items:[...f(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...f(),{baseline:["","last"]}]}],"place-content":[{"place-content":z()}],"place-items":[{"place-items":[...f(),"baseline"]}],"place-self":[{"place-self":["auto",...f()]}],p:[{p:u()}],px:[{px:u()}],py:[{py:u()}],ps:[{ps:u()}],pe:[{pe:u()}],pt:[{pt:u()}],pr:[{pr:u()}],pb:[{pb:u()}],pl:[{pl:u()}],m:[{m:I()}],mx:[{mx:I()}],my:[{my:I()}],ms:[{ms:I()}],me:[{me:I()}],mt:[{mt:I()}],mr:[{mr:I()}],mb:[{mb:I()}],ml:[{ml:I()}],"space-x":[{"space-x":u()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":u()}],"space-y-reverse":["space-y-reverse"],size:[{size:K()}],w:[{w:[l,"screen",...K()]}],"min-w":[{"min-w":[l,"screen","none",...K()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...K()]}],h:[{h:["screen","lh",...K()]}],"min-h":[{"min-h":["screen","lh","none",...K()]}],"max-h":[{"max-h":["screen","lh",...K()]}],"font-size":[{text:["base",a,Re,we]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,A,xs]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ms,E]}],"font-family":[{font:[qa,E,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[n,A,E]}],"line-clamp":[{"line-clamp":[M,"none",A,xs]}],leading:[{leading:[i,...u()]}],"list-image":[{"list-image":["none",A,E]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",A,E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:g()}],"text-color":[{text:g()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Qe(),"wavy"]}],"text-decoration-thickness":[{decoration:[M,"from-font","auto",A,we]}],"text-decoration-color":[{decoration:g()}],"underline-offset":[{"underline-offset":[M,"auto",A,E]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:u()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",A,E]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",A,E]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:O()}],"bg-repeat":[{bg:he()}],"bg-size":[{bg:Pe()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},be,A,E],radial:["",A,E],conic:[be,A,E]},Ma,Ra]}],"bg-color":[{bg:g()}],"gradient-from-pos":[{from:cs()}],"gradient-via-pos":[{via:cs()}],"gradient-to-pos":[{to:cs()}],"gradient-from":[{from:g()}],"gradient-via":[{via:g()}],"gradient-to":[{to:g()}],rounded:[{rounded:se()}],"rounded-s":[{"rounded-s":se()}],"rounded-e":[{"rounded-e":se()}],"rounded-t":[{"rounded-t":se()}],"rounded-r":[{"rounded-r":se()}],"rounded-b":[{"rounded-b":se()}],"rounded-l":[{"rounded-l":se()}],"rounded-ss":[{"rounded-ss":se()}],"rounded-se":[{"rounded-se":se()}],"rounded-ee":[{"rounded-ee":se()}],"rounded-es":[{"rounded-es":se()}],"rounded-tl":[{"rounded-tl":se()}],"rounded-tr":[{"rounded-tr":se()}],"rounded-br":[{"rounded-br":se()}],"rounded-bl":[{"rounded-bl":se()}],"border-w":[{border:re()}],"border-w-x":[{"border-x":re()}],"border-w-y":[{"border-y":re()}],"border-w-s":[{"border-s":re()}],"border-w-e":[{"border-e":re()}],"border-w-t":[{"border-t":re()}],"border-w-r":[{"border-r":re()}],"border-w-b":[{"border-b":re()}],"border-w-l":[{"border-l":re()}],"divide-x":[{"divide-x":re()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":re()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Qe(),"hidden","none"]}],"divide-style":[{divide:[...Qe(),"hidden","none"]}],"border-color":[{border:g()}],"border-color-x":[{"border-x":g()}],"border-color-y":[{"border-y":g()}],"border-color-s":[{"border-s":g()}],"border-color-e":[{"border-e":g()}],"border-color-t":[{"border-t":g()}],"border-color-r":[{"border-r":g()}],"border-color-b":[{"border-b":g()}],"border-color-l":[{"border-l":g()}],"divide-color":[{divide:g()}],"outline-style":[{outline:[...Qe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[M,A,E]}],"outline-w":[{outline:["",M,Re,we]}],"outline-color":[{outline:g()}],shadow:[{shadow:["","none",C,Ye,He]}],"shadow-color":[{shadow:g()}],"inset-shadow":[{"inset-shadow":["none",v,Ye,He]}],"inset-shadow-color":[{"inset-shadow":g()}],"ring-w":[{ring:re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:g()}],"ring-offset-w":[{"ring-offset":[M,we]}],"ring-offset-color":[{"ring-offset":g()}],"inset-ring-w":[{"inset-ring":re()}],"inset-ring-color":[{"inset-ring":g()}],"text-shadow":[{"text-shadow":["none",w,Ye,He]}],"text-shadow-color":[{"text-shadow":g()}],opacity:[{opacity:[M,A,E]}],"mix-blend":[{"mix-blend":[...Ds(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ds()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[M]}],"mask-image-linear-from-pos":[{"mask-linear-from":X()}],"mask-image-linear-to-pos":[{"mask-linear-to":X()}],"mask-image-linear-from-color":[{"mask-linear-from":g()}],"mask-image-linear-to-color":[{"mask-linear-to":g()}],"mask-image-t-from-pos":[{"mask-t-from":X()}],"mask-image-t-to-pos":[{"mask-t-to":X()}],"mask-image-t-from-color":[{"mask-t-from":g()}],"mask-image-t-to-color":[{"mask-t-to":g()}],"mask-image-r-from-pos":[{"mask-r-from":X()}],"mask-image-r-to-pos":[{"mask-r-to":X()}],"mask-image-r-from-color":[{"mask-r-from":g()}],"mask-image-r-to-color":[{"mask-r-to":g()}],"mask-image-b-from-pos":[{"mask-b-from":X()}],"mask-image-b-to-pos":[{"mask-b-to":X()}],"mask-image-b-from-color":[{"mask-b-from":g()}],"mask-image-b-to-color":[{"mask-b-to":g()}],"mask-image-l-from-pos":[{"mask-l-from":X()}],"mask-image-l-to-pos":[{"mask-l-to":X()}],"mask-image-l-from-color":[{"mask-l-from":g()}],"mask-image-l-to-color":[{"mask-l-to":g()}],"mask-image-x-from-pos":[{"mask-x-from":X()}],"mask-image-x-to-pos":[{"mask-x-to":X()}],"mask-image-x-from-color":[{"mask-x-from":g()}],"mask-image-x-to-color":[{"mask-x-to":g()}],"mask-image-y-from-pos":[{"mask-y-from":X()}],"mask-image-y-to-pos":[{"mask-y-to":X()}],"mask-image-y-from-color":[{"mask-y-from":g()}],"mask-image-y-to-color":[{"mask-y-to":g()}],"mask-image-radial":[{"mask-radial":[A,E]}],"mask-image-radial-from-pos":[{"mask-radial-from":X()}],"mask-image-radial-to-pos":[{"mask-radial-to":X()}],"mask-image-radial-from-color":[{"mask-radial-from":g()}],"mask-image-radial-to-color":[{"mask-radial-to":g()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[M]}],"mask-image-conic-from-pos":[{"mask-conic-from":X()}],"mask-image-conic-to-pos":[{"mask-conic-to":X()}],"mask-image-conic-from-color":[{"mask-conic-from":g()}],"mask-image-conic-to-color":[{"mask-conic-to":g()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:O()}],"mask-repeat":[{mask:he()}],"mask-size":[{mask:Pe()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",A,E]}],filter:[{filter:["","none",A,E]}],blur:[{blur:Es()}],brightness:[{brightness:[M,A,E]}],contrast:[{contrast:[M,A,E]}],"drop-shadow":[{"drop-shadow":["","none",b,Ye,He]}],"drop-shadow-color":[{"drop-shadow":g()}],grayscale:[{grayscale:["",M,A,E]}],"hue-rotate":[{"hue-rotate":[M,A,E]}],invert:[{invert:["",M,A,E]}],saturate:[{saturate:[M,A,E]}],sepia:[{sepia:["",M,A,E]}],"backdrop-filter":[{"backdrop-filter":["","none",A,E]}],"backdrop-blur":[{"backdrop-blur":Es()}],"backdrop-brightness":[{"backdrop-brightness":[M,A,E]}],"backdrop-contrast":[{"backdrop-contrast":[M,A,E]}],"backdrop-grayscale":[{"backdrop-grayscale":["",M,A,E]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[M,A,E]}],"backdrop-invert":[{"backdrop-invert":["",M,A,E]}],"backdrop-opacity":[{"backdrop-opacity":[M,A,E]}],"backdrop-saturate":[{"backdrop-saturate":[M,A,E]}],"backdrop-sepia":[{"backdrop-sepia":["",M,A,E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":u()}],"border-spacing-x":[{"border-spacing-x":u()}],"border-spacing-y":[{"border-spacing-y":u()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",A,E]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[M,"initial",A,E]}],ease:[{ease:["linear","initial",k,A,E]}],delay:[{delay:[M,A,E]}],animate:[{animate:["none",p,A,E]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[P,A,E]}],"perspective-origin":[{"perspective-origin":F()}],rotate:[{rotate:Ve()}],"rotate-x":[{"rotate-x":Ve()}],"rotate-y":[{"rotate-y":Ve()}],"rotate-z":[{"rotate-z":Ve()}],scale:[{scale:Ge()}],"scale-x":[{"scale-x":Ge()}],"scale-y":[{"scale-y":Ge()}],"scale-z":[{"scale-z":Ge()}],"scale-3d":["scale-3d"],skew:[{skew:ds()}],"skew-x":[{"skew-x":ds()}],"skew-y":[{"skew-y":ds()}],transform:[{transform:[A,E,"","none","gpu","cpu"]}],"transform-origin":[{origin:F()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:We()}],"translate-x":[{"translate-x":We()}],"translate-y":[{"translate-y":We()}],"translate-z":[{"translate-z":We()}],"translate-none":["translate-none"],accent:[{accent:g()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:g()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",A,E]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":u()}],"scroll-mx":[{"scroll-mx":u()}],"scroll-my":[{"scroll-my":u()}],"scroll-ms":[{"scroll-ms":u()}],"scroll-me":[{"scroll-me":u()}],"scroll-mt":[{"scroll-mt":u()}],"scroll-mr":[{"scroll-mr":u()}],"scroll-mb":[{"scroll-mb":u()}],"scroll-ml":[{"scroll-ml":u()}],"scroll-p":[{"scroll-p":u()}],"scroll-px":[{"scroll-px":u()}],"scroll-py":[{"scroll-py":u()}],"scroll-ps":[{"scroll-ps":u()}],"scroll-pe":[{"scroll-pe":u()}],"scroll-pt":[{"scroll-pt":u()}],"scroll-pr":[{"scroll-pr":u()}],"scroll-pb":[{"scroll-pb":u()}],"scroll-pl":[{"scroll-pl":u()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",A,E]}],fill:[{fill:["none",...g()]}],"stroke-w":[{stroke:[M,Re,we,xs]}],stroke:[{stroke:["none",...g()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Ba=ka(Ka);function Q(...s){return Ba(st(s))}const Qa="/golf-serie/tapscore_horizontal.png",Va="/golf-serie/tapscore_logo.png",Ts=({size:s="md",variant:t="color",layout:a="horizontal",className:r})=>{const n={sm:a==="horizontal"?"h-6":"h-8 w-8",md:a==="horizontal"?"h-8":"h-10 w-10",lg:a==="horizontal"?"h-10":"h-12 w-12",xl:a==="horizontal"?"h-12":"h-16 w-16"},i=a==="horizontal"?Qa:Va,o=()=>{switch(t){case"light":return{filter:"brightness(0) invert(1)"};case"dark":return{filter:"brightness(0.8)"};case"color":default:return{}}};return e.jsx("div",{className:Q("flex items-center",r),children:e.jsx("img",{src:i,alt:"TapScore Logo",className:Q("object-contain transition-all duration-200",n[s]),style:o(),onError:l=>{console.error("Failed to load TapScore logo:",i),a==="horizontal"?l.currentTarget.src="/tapscore_horizontal.png":l.currentTarget.src="/tapscore_logo.png"}})})};function Ga(){const{location:s}=Zs(),t=s.pathname.includes("/competitions/")&&(s.pathname.includes("/tee-times/")||s.pathname.match(/\/competitions\/\d+$/)),a=s.pathname.includes("/admin")||s.pathname.includes("/player");return t||a?e.jsx(ts,{}):e.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-scorecard via-scorecard to-rough",children:[e.jsx("header",{className:"border-b-2 border-soft-grey bg-fairway shadow-[0_2px_8px_rgba(27,67,50,0.15)] sticky top-0 z-10",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4 py-3",children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(Ts,{size:"md",variant:"color",layout:"horizontal"})})})}),e.jsx("div",{className:"flex-1 flex flex-col items-center w-full",children:e.jsx("main",{className:"w-full max-w-6xl px-4 py-8 flex-1",children:e.jsx("div",{className:"bg-scorecard rounded-xl shadow-[0_2px_8px_rgba(27,67,50,0.08)] border-2 border-soft-grey p-6 lg:p-8 min-h-[70vh]",children:e.jsx(ts,{})})})})]})}function xt(){return window.location.pathname.startsWith("/golf-serie")?"/golf-serie":""}function Wa(){const s=window.localStorage.getItem("E2E_API_PORT");return s?`http://localhost:${s}/api`:`${xt()}/api`}const q=Wa();function _s(){return e.jsx("div",{className:"flex justify-center items-center h-full p-8",children:e.jsx(ke,{className:"h-8 w-8 animate-spin text-turf"})})}function ut(){return Y({queryKey:["series"],queryFn:async()=>{const s=await fetch(`${q}/series`);if(!s.ok)throw new Error("Network response was not ok");return s.json()}})}function ht(){return Y({queryKey:["series","public"],queryFn:async()=>{const s=await fetch(`${q}/series/public`);if(!s.ok)throw new Error("Network response was not ok");return s.json()}})}function Fe(s){return Y({queryKey:["series",s],queryFn:async()=>{const t=await fetch(`${q}/series/${s}`);if(!t.ok)throw new Error("Network response was not ok");return t.json()},enabled:s>0})}function ns(s){return Y({queryKey:["series",s,"standings"],queryFn:async()=>{const t=await fetch(`${q}/series/${s}/standings`);if(!t.ok)throw new Error("Network response was not ok");return t.json()},enabled:s>0})}function Ke(s){return Y({queryKey:["series",s,"competitions"],queryFn:async()=>{const t=await fetch(`${q}/series/${s}/competitions`);if(!t.ok)throw new Error("Network response was not ok");return t.json()},enabled:s>0})}function Ps(s){return Y({queryKey:["series",s,"teams"],queryFn:async()=>{const t=await fetch(`${q}/series/${s}/teams`);if(!t.ok)throw new Error("Network response was not ok");return t.json()},enabled:s>0})}function Ja(){const s=B();return V({mutationFn:async t=>{const a=await fetch(`${q}/series`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw new Error("Network response was not ok");return a.json()},onSuccess:()=>{s.invalidateQueries({queryKey:["series"]})}})}function pt(){const s=B();return V({mutationFn:async({id:t,data:a})=>{const r=await fetch(`${q}/series/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!r.ok)throw new Error("Network response was not ok");return r.json()},onSuccess:(t,{id:a})=>{s.invalidateQueries({queryKey:["series"]}),s.invalidateQueries({queryKey:["series",a]}),s.invalidateQueries({queryKey:["series","public"]})}})}function Ha(){const s=B();return V({mutationFn:async t=>{const a=await fetch(`${q}/series/${t}`,{method:"DELETE"});if(!a.ok)throw new Error("Network response was not ok");return a.json()},onSuccess:()=>{s.invalidateQueries({queryKey:["series"]}),s.invalidateQueries({queryKey:["series","public"]})}})}function gt(s){return Y({queryKey:["series",s,"available-teams"],queryFn:async()=>{const t=await fetch(`${q}/series/${s}/available-teams`);if(!t.ok)throw new Error("Network response was not ok");return t.json()},enabled:s>0})}function ft(){const s=B();return V({mutationFn:async({seriesId:t,teamId:a})=>{const r=await fetch(`${q}/series/${t}/teams/${a}`,{method:"POST"});if(!r.ok)throw new Error("Network response was not ok");return r.json()},onSuccess:(t,{seriesId:a})=>{s.invalidateQueries({queryKey:["series",a,"teams"]}),s.invalidateQueries({queryKey:["series",a,"available-teams"]}),s.invalidateQueries({queryKey:["series",a,"standings"]})}})}function bt(){const s=B();return V({mutationFn:async({seriesId:t,teamId:a})=>{const r=await fetch(`${q}/series/${t}/teams/${a}`,{method:"DELETE"});if(!r.ok)throw new Error("Network response was not ok");return r.json()},onSuccess:(t,{seriesId:a})=>{s.invalidateQueries({queryKey:["series",a,"teams"]}),s.invalidateQueries({queryKey:["series",a,"available-teams"]}),s.invalidateQueries({queryKey:["series",a,"standings"]})}})}function is(s){return Y({queryKey:["series",s,"documents"],queryFn:async()=>{const t=await fetch(`${q}/series/${s}/documents`);if(!t.ok)throw new Error("Network response was not ok");return t.json()},enabled:s>0})}function Ya(){const s=B();return V({mutationFn:async({seriesId:t,data:a})=>{const r=await fetch(`${q}/series/${t}/documents`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!r.ok)throw new Error("Network response was not ok");return r.json()},onSuccess:(t,{seriesId:a})=>{s.invalidateQueries({queryKey:["series",a,"documents"]})}})}function Xa(){const s=B();return V({mutationFn:async({seriesId:t,documentId:a,data:r})=>{const n=await fetch(`${q}/series/${t}/documents/${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!n.ok)throw new Error("Network response was not ok");return n.json()},onSuccess:(t,{seriesId:a})=>{s.invalidateQueries({queryKey:["series",a,"documents"]})}})}function Za(){const s=B();return V({mutationFn:async({seriesId:t,documentId:a})=>{const r=await fetch(`${q}/series/${t}/documents/${a}`,{method:"DELETE"});if(!r.ok)throw new Error("Network response was not ok");return r.json()},onSuccess:(t,{seriesId:a})=>{s.invalidateQueries({queryKey:["series",a,"documents"]})}})}function yt(){return Y({queryKey:["teams"],queryFn:async()=>{const s=await fetch(`${q}/teams`);if(!s.ok)throw new Error("Network response was not ok");return s.json()}})}function er(){const s=B();return V({mutationFn:async t=>{const a=await fetch(`${q}/teams`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw new Error("Network response was not ok");return a.json()},onSuccess:()=>{s.invalidateQueries({queryKey:["teams"]})}})}function sr(){const s=B();return V({mutationFn:async({id:t,data:a})=>{const r=await fetch(`${q}/teams/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!r.ok)throw new Error("Network response was not ok");return r.json()},onSuccess:()=>{s.invalidateQueries({queryKey:["teams"]})}})}function tr(){const s=B();return V({mutationFn:async t=>{const a=await fetch(`${q}/teams/${t}`,{method:"DELETE"});if(!a.ok)throw new Error("Network response was not ok");return a.json()},onSuccess:()=>{s.invalidateQueries({queryKey:["teams"]})}})}function Z({className:s,...t}){return e.jsx("div",{"data-slot":"card",className:Q("bg-scorecard text-charcoal flex flex-col gap-6 rounded-xl border-2 border-soft-grey py-6 shadow-[0_2px_8px_rgba(27,67,50,0.08)] transition-all duration-200 hover:shadow-[0_4px_16px_rgba(27,67,50,0.12)] hover:-translate-y-0.5",s),...t})}function le({className:s,...t}){return e.jsx("div",{"data-slot":"card-header",className:Q("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [&.border-b]:border-b-2 [&.border-b]:border-soft-grey [&.border-b]:pb-6",s),...t})}function ye({className:s,...t}){return e.jsx("div",{"data-slot":"card-title",className:Q("leading-tight font-semibold font-['DM_Sans'] text-charcoal text-lg",s),...t})}function ee({className:s,...t}){return e.jsx("div",{"data-slot":"card-content",className:Q("px-6 font-['Inter']",s),...t})}const zs=s=>typeof s=="boolean"?`${s}`:s===0?"0":s,Ms=st,jt=(s,t)=>a=>{var r;if((t==null?void 0:t.variants)==null)return Ms(s,a==null?void 0:a.class,a==null?void 0:a.className);const{variants:n,defaultVariants:i}=t,o=Object.keys(n).map(m=>{const C=a==null?void 0:a[m],v=i==null?void 0:i[m];if(C===null)return null;const w=zs(C)||zs(v);return n[m][w]}),l=a&&Object.entries(a).reduce((m,C)=>{let[v,w]=C;return w===void 0||(m[v]=w),m},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((m,C)=>{let{class:v,className:w,...b}=C;return Object.entries(b).every(T=>{let[P,N]=T;return Array.isArray(N)?N.includes({...i,...l}[P]):{...i,...l}[P]===N})?[...m,v,w]:m},[]);return Ms(s,o,c,a==null?void 0:a.class,a==null?void 0:a.className)},ar=jt("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function de({className:s,variant:t,asChild:a=!1,...r}){const n=a?Qs:"span";return e.jsx(n,{"data-slot":"badge",className:Q(ar({variant:t}),s),...r})}function ae({className:s,...t}){return e.jsx("div",{"data-slot":"skeleton",className:Q("bg-accent animate-pulse rounded-md",s),...t})}const rr=jt("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-semibold font-['Inter'] transition-all duration-200 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-turf",{variants:{variant:{default:"bg-coral text-scorecard border-2 border-coral shadow-sm hover:bg-[#E8890A] hover:border-[#E8890A] hover:-translate-y-0.5 hover:shadow-md active:translate-y-0 focus-visible:outline-turf",destructive:"bg-flag text-scorecard border-2 border-flag shadow-sm hover:bg-[#DC2449] hover:border-[#DC2449] hover:-translate-y-0.5 active:translate-y-0 focus-visible:outline-flag",outline:"border-2 border-soft-grey bg-scorecard text-charcoal shadow-sm hover:bg-rough hover:border-rough hover:text-fairway hover:-translate-y-0.5 active:translate-y-0 focus-visible:outline-turf",secondary:"bg-transparent text-turf border-2 border-turf shadow-sm hover:bg-rough hover:text-fairway hover:-translate-y-0.5 active:translate-y-0 focus-visible:outline-turf",ghost:"text-charcoal hover:bg-rough hover:text-fairway focus-visible:outline-turf",link:"text-turf underline-offset-4 hover:underline hover:text-fairway focus-visible:outline-turf"},size:{default:"h-10 px-6 py-2.5 has-[>svg]:px-4",sm:"h-8 rounded-lg gap-1.5 px-4 has-[>svg]:px-3 text-sm",lg:"h-12 rounded-xl px-8 has-[>svg]:px-6 text-base",icon:"size-10"}},defaultVariants:{variant:"default",size:"default"}});function R({className:s,variant:t,size:a,asChild:r=!1,...n}){const i=r?Qs:"button";return e.jsx(i,{"data-slot":"button",className:Q(rr({variant:t,size:a,className:s})),...n})}const ne=$.forwardRef(({className:s,type:t,...a},r)=>e.jsx("input",{type:t,className:Q("flex h-10 w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:r,...a}));ne.displayName="Input";function us({className:s,...t}){return e.jsx("textarea",{"data-slot":"textarea",className:Q("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),...t})}function Ze({className:s,...t}){return e.jsx(Ct,{"data-slot":"switch",className:Q("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...t,children:e.jsx(St,{"data-slot":"switch-thumb",className:Q("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}const ge=Pt,nr=Tt,vt=$.forwardRef(({className:s,...t},a)=>e.jsx(Vs,{ref:a,className:Q("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...t}));vt.displayName=Vs.displayName;const me=$.forwardRef(({className:s,children:t,...a},r)=>e.jsxs(nr,{children:[e.jsx(vt,{}),e.jsxs(Gs,{ref:r,className:Q("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-gray-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...a,children:[t,e.jsxs(_t,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-gray-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-gray-100 data-[state=open]:text-gray-500",children:[e.jsx(ze,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));me.displayName=Gs.displayName;const xe=({className:s,...t})=>e.jsx("div",{className:Q("flex flex-col space-y-1.5 text-center sm:text-left",s),...t});xe.displayName="DialogHeader";const fe=({className:s,...t})=>e.jsx("div",{className:Q("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t});fe.displayName="DialogFooter";const ue=$.forwardRef(({className:s,...t},a)=>e.jsx(Ws,{ref:a,className:Q("text-lg font-semibold leading-none tracking-tight",s),...t}));ue.displayName=Ws.displayName;const ir=$.forwardRef(({className:s,...t},a)=>e.jsx(Js,{ref:a,className:Q("text-sm text-gray-500",s),...t}));ir.displayName=Js.displayName;function or(){return e.jsxs(Z,{className:"mb-4",children:[e.jsx(le,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ae,{className:"h-6 w-[200px]"}),e.jsx(ae,{className:"h-5 w-[80px] rounded-full"})]})}),e.jsxs(ee,{children:[e.jsx(ae,{className:"h-4 w-full mb-2"}),e.jsx(ae,{className:"h-4 w-[150px]"})]})]})}function lr(){const{data:s,isLoading:t,error:a}=ut(),r=Ja(),n=pt(),i=Ha(),o=ft(),l=bt(),[c,m]=$.useState(!1),[C,v]=$.useState(null),[w,b]=$.useState(!1),[T,P]=$.useState(null),[N,k]=$.useState({name:"",description:"",banner_image_url:"",is_public:!0}),{data:p}=Ps((T==null?void 0:T.id)||0),{data:L}=gt((T==null?void 0:T.id)||0),D=()=>{v(null),k({name:"",description:"",banner_image_url:"",is_public:!0}),m(!0)},F=x=>{v(x),k({name:x.name,description:x.description||"",banner_image_url:x.banner_image_url||"",is_public:x.is_public}),m(!0)},j=async x=>{if(window.confirm(`Are you sure you want to delete series "${x.name}"?`))try{await i.mutateAsync(x.id)}catch(S){console.error("Failed to delete series:",S),alert("Failed to delete series. Please try again.")}},_=async x=>{x.preventDefault();try{const S={name:N.name,description:N.description||void 0,banner_image_url:N.banner_image_url||void 0,is_public:N.is_public};C?await n.mutateAsync({id:C.id,data:S}):await r.mutateAsync(S),m(!1)}catch(S){console.error("Failed to save series:",S),alert("Failed to save series. Please try again.")}},u=x=>{const{name:S,value:z}=x.target;k(f=>({...f,[S]:z}))},h=x=>{P(x),b(!0)},d=async x=>{if(T)try{await o.mutateAsync({seriesId:T.id,teamId:x})}catch(S){console.error("Failed to add team to series:",S),alert("Failed to add team to series. Please try again.")}},y=async x=>{if(T)try{await l.mutateAsync({seriesId:T.id,teamId:x})}catch(S){console.error("Failed to remove team from series:",S),alert("Failed to remove team from series. Please try again.")}};return t?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(W,{className:"h-8 w-8 text-blue-600"}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Series"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(de,{variant:"secondary",className:"text-sm",children:"Loading..."}),e.jsxs(R,{onClick:D,className:"flex items-center gap-2",children:[e.jsx(je,{className:"h-4 w-4"}),"Add Series"]})]})]}),e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[...Array(6)].map((x,S)=>e.jsx(or,{},S))})]}),e.jsx(ge,{open:c,onOpenChange:m,children:e.jsxs(me,{className:"max-w-md",children:[e.jsx(xe,{children:e.jsx(ue,{children:C?"Edit Series":"Create New Series"})}),e.jsxs("form",{onSubmit:_,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"name",className:"text-sm font-medium",children:"Series Name"}),e.jsx(ne,{id:"name",name:"name",value:N.name,onChange:u,placeholder:"Enter series name",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"description",className:"text-sm font-medium",children:"Description"}),e.jsx(us,{id:"description",name:"description",value:N.description,onChange:u,placeholder:"Enter series description (optional)",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"banner_image_url",className:"text-sm font-medium",children:"Banner Image URL"}),e.jsx(ne,{id:"banner_image_url",name:"banner_image_url",type:"url",value:N.banner_image_url,onChange:u,placeholder:"https://example.com/banner.jpg (optional)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{id:"is_public",checked:N.is_public,onCheckedChange:x=>k(S=>({...S,is_public:x}))}),e.jsx("label",{htmlFor:"is_public",className:"text-sm font-medium",children:"Public series (visible to players)"})]}),e.jsxs(fe,{children:[e.jsx(R,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),e.jsx(R,{type:"submit",children:C?"Update":"Create"})]})]})]})})]}):a?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(W,{className:"h-8 w-8 text-blue-600"}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Series"})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(R,{onClick:D,className:"flex items-center gap-2",children:[e.jsx(je,{className:"h-4 w-4"}),"Add Series"]})})]}),e.jsx(Z,{className:"border-red-200 bg-red-50",children:e.jsxs(ee,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-red-700",children:[e.jsx(W,{className:"h-5 w-5"}),e.jsx("p",{className:"font-medium",children:"Error loading series"})]}),e.jsx("p",{className:"text-red-600 text-sm mt-2",children:"Please try refreshing the page or contact support if the problem persists. You can still create new series using the button above."})]})})]}),e.jsx(ge,{open:c,onOpenChange:m,children:e.jsxs(me,{className:"max-w-md",children:[e.jsx(xe,{children:e.jsx(ue,{children:C?"Edit Series":"Create New Series"})}),e.jsxs("form",{onSubmit:_,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"name",className:"text-sm font-medium",children:"Series Name"}),e.jsx(ne,{id:"name",name:"name",value:N.name,onChange:u,placeholder:"Enter series name",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"description",className:"text-sm font-medium",children:"Description"}),e.jsx(us,{id:"description",name:"description",value:N.description,onChange:u,placeholder:"Enter series description (optional)",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"banner_image_url",className:"text-sm font-medium",children:"Banner Image URL"}),e.jsx(ne,{id:"banner_image_url",name:"banner_image_url",type:"url",value:N.banner_image_url,onChange:u,placeholder:"https://example.com/banner.jpg (optional)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{id:"is_public",checked:N.is_public,onCheckedChange:x=>k(S=>({...S,is_public:x}))}),e.jsx("label",{htmlFor:"is_public",className:"text-sm font-medium",children:"Public series (visible to players)"})]}),e.jsxs(fe,{children:[e.jsx(R,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),e.jsx(R,{type:"submit",children:C?"Update":"Create"})]})]})]})})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(W,{className:"h-8 w-8 text-blue-600"}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Series"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(de,{variant:"secondary",className:"text-sm",children:[(s==null?void 0:s.length)||0," ",((s==null?void 0:s.length)===1,"series")]}),e.jsxs(R,{onClick:D,className:"flex items-center gap-2",children:[e.jsx(je,{className:"h-4 w-4"}),"Add Series"]})]})]}),!s||s.length===0?e.jsx(Z,{className:"border-dashed border-2 border-gray-300",children:e.jsxs(ee,{className:"p-12 text-center",children:[e.jsx(W,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No series yet"}),e.jsx("p",{className:"text-gray-600",children:"Create series to organize multiple competitions into tournaments."})]})}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:s.map(x=>e.jsxs(Z,{className:"hover:shadow-lg transition-shadow duration-200",children:[e.jsx(le,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs(ye,{className:"text-lg text-gray-900 flex items-center gap-2",children:[e.jsx(W,{className:"h-5 w-5 text-blue-600"}),x.name]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxs(de,{variant:"outline",className:"text-xs",children:["#",x.id]}),e.jsxs(de,{variant:x.is_public?"default":"secondary",className:"text-xs flex items-center gap-1",children:[x.is_public?e.jsx(as,{className:"h-3 w-3"}):e.jsx($t,{className:"h-3 w-3"}),x.is_public?"Public":"Private"]})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(R,{variant:"ghost",size:"icon",onClick:()=>F(x),className:"h-8 w-8",children:e.jsx(Ee,{className:"h-4 w-4"})}),e.jsx(R,{variant:"ghost",size:"icon",onClick:()=>j(x),className:"h-8 w-8 text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(Ce,{className:"h-4 w-4"})})]})]})}),e.jsxs(ee,{className:"pt-0",children:[x.description&&e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:x.description}),x.banner_image_url&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-3",children:[e.jsx(Dt,{className:"h-4 w-4"}),e.jsx("span",{children:"Has banner image"})]}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs(U,{to:`/admin/series/${x.id}`,className:"flex items-center gap-1 hover:text-blue-600",children:[e.jsx(Hs,{className:"h-4 w-4"}),e.jsx("span",{children:"Admin"})]}),e.jsxs("button",{onClick:()=>h(x),className:"flex items-center gap-1 hover:text-blue-600",children:[e.jsx(G,{className:"h-4 w-4"}),e.jsx("span",{children:"Manage Teams"})]}),e.jsxs(U,{to:`/admin/competitions?series=${x.id}`,className:"flex items-center gap-1 hover:text-blue-600",children:[e.jsx(ie,{className:"h-4 w-4"}),e.jsx("span",{children:"Competitions"})]})]})})]})]},x.id))})]}),e.jsx(ge,{open:c,onOpenChange:m,children:e.jsxs(me,{className:"max-w-md",children:[e.jsx(xe,{children:e.jsx(ue,{children:C?"Edit Series":"Create New Series"})}),e.jsxs("form",{onSubmit:_,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"name",className:"text-sm font-medium",children:"Series Name"}),e.jsx(ne,{id:"name",name:"name",value:N.name,onChange:u,placeholder:"Enter series name",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"description",className:"text-sm font-medium",children:"Description"}),e.jsx(us,{id:"description",name:"description",value:N.description,onChange:u,placeholder:"Enter series description (optional)",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"banner_image_url",className:"text-sm font-medium",children:"Banner Image URL"}),e.jsx(ne,{id:"banner_image_url",name:"banner_image_url",type:"url",value:N.banner_image_url,onChange:u,placeholder:"https://example.com/banner.jpg (optional)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{id:"is_public",checked:N.is_public,onCheckedChange:x=>k(S=>({...S,is_public:x}))}),e.jsx("label",{htmlFor:"is_public",className:"text-sm font-medium",children:"Public series (visible to players)"})]}),e.jsxs(fe,{children:[e.jsx(R,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),e.jsx(R,{type:"submit",children:C?"Update":"Create"})]})]})]})}),e.jsx(ge,{open:w,onOpenChange:b,children:e.jsxs(me,{className:"max-w-2xl",children:[e.jsx(xe,{children:e.jsxs(ue,{children:["Manage Teams - ",T==null?void 0:T.name]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-3",children:"Teams in Series"}),p&&p.length>0?e.jsx("div",{className:"space-y-2",children:p.map(x=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"font-medium",children:x.name})]}),e.jsx(R,{variant:"outline",size:"sm",onClick:()=>y(x.id),className:"text-red-600 hover:text-red-700",children:"Remove"})]},x.id))}):e.jsx("p",{className:"text-gray-500 text-sm",children:"No teams in this series yet."})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-3",children:"Available Teams"}),L&&L.length>0?e.jsx("div",{className:"space-y-2",children:L.map(x=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"h-4 w-4 text-gray-600"}),e.jsx("span",{className:"font-medium",children:x.name})]}),e.jsx(R,{variant:"outline",size:"sm",onClick:()=>d(x.id),className:"text-blue-600 hover:text-blue-700",children:"Add to Series"})]},x.id))}):e.jsx("p",{className:"text-gray-500 text-sm",children:"All teams are already in this series."})]})]}),e.jsx(fe,{children:e.jsx(R,{type:"button",variant:"outline",onClick:()=>b(!1),children:"Close"})})]})})]})}function cr({className:s,...t}){return e.jsx(Et,{"data-slot":"tabs",className:Q("flex flex-col gap-2",s),...t})}function dr({className:s,...t}){return e.jsx(At,{"data-slot":"tabs-list",className:Q("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",s),...t})}function hs({className:s,...t}){return e.jsx(Lt,{"data-slot":"tabs-trigger",className:Q("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...t})}function ps({className:s,...t}){return e.jsx(Ft,{"data-slot":"tabs-content",className:Q("flex-1 outline-none",s),...t})}function mr({value:s,onChange:t,height:a=400}){return $.useEffect(()=>()=>{document.body.style.overflow=""},[]),e.jsx("div",{className:"markdown-editor",children:e.jsx(da,{value:s,onChange:r=>t(r||""),height:a,preview:"edit",hideToolbar:!1,"data-color-mode":"light",onFocus:()=>{document.body.style.overflow=""},onBlur:()=>{document.body.style.overflow=""}})})}function xr(){const{serieId:s}=ve({from:"/admin/series/$serieId"}),t=parseInt(s),{data:a,isLoading:r}=Fe(t),n=pt(),{data:i}=Ps(t),{data:o}=gt(t),l=ft(),c=bt(),{data:m}=is(t),C=Ya(),v=Xa(),w=Za(),[b,T]=$.useState("settings"),[P,N]=$.useState(!1),[k,p]=$.useState({name:"",banner_image_url:"",is_public:!0,landing_document_id:void 0}),[L,D]=$.useState(!1),[F,j]=$.useState(!1),[_,u]=$.useState(null),[h,d]=$.useState({title:"",content:""});$.useEffect(()=>{a&&p({name:a.name,banner_image_url:a.banner_image_url||"",is_public:a.is_public,landing_document_id:a.landing_document_id})},[a]),$.useEffect(()=>{L||(document.body.style.overflow="")},[L]),$.useEffect(()=>()=>{document.body.style.overflow=""},[]);const y=async()=>{if(a)try{await n.mutateAsync({id:a.id,data:{name:k.name,banner_image_url:k.banner_image_url||void 0,is_public:k.is_public,landing_document_id:k.landing_document_id}}),N(!1)}catch(g){console.error("Failed to update series:",g),alert("Failed to update series. Please try again.")}},x=async g=>{try{await l.mutateAsync({seriesId:t,teamId:g})}catch(O){console.error("Failed to add team to series:",O),alert("Failed to add team to series. Please try again.")}},S=async g=>{try{await c.mutateAsync({seriesId:t,teamId:g})}catch(O){console.error("Failed to remove team from series:",O),alert("Failed to remove team from series. Please try again.")}},z=()=>{u(null),d({title:"",content:""}),D(!0)},f=g=>{u(g),d({title:g.title,content:g.content}),D(!0)},I=async g=>{g.preventDefault();try{_?await v.mutateAsync({seriesId:t,documentId:_.id,data:h}):await C.mutateAsync({seriesId:t,data:h}),D(!1)}catch(O){console.error("Failed to save document:",O),alert("Failed to save document. Please try again.")}},K=async g=>{if(!a)return;const O=a.landing_document_id===g.id,he=O?`Are you sure you want to delete "${g.title}"? This is currently set as the landing page and will be unset.`:`Are you sure you want to delete "${g.title}"?`;if(window.confirm(he))try{O&&(await n.mutateAsync({id:a.id,data:{landing_document_id:void 0}}),p(Pe=>({...Pe,landing_document_id:void 0}))),await w.mutateAsync({seriesId:t,documentId:g.id})}catch(Pe){console.error("Failed to delete document:",Pe),alert("Failed to delete document. Please try again.")}};return r?e.jsxs("div",{className:"space-y-6",children:[e.jsx(ae,{className:"h-8 w-[300px]"}),e.jsx(ae,{className:"h-[400px] w-full"})]}):a?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(U,{to:"/admin/series",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors",children:[e.jsx(rs,{className:"h-4 w-4"}),"Back to Series"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:a.name}),e.jsxs("p",{className:"text-gray-600",children:["Series #",a.id]})]})]}),e.jsx(de,{variant:a.is_public?"default":"secondary",children:a.is_public?"Public":"Private"})]}),e.jsxs(cr,{value:b,onValueChange:g=>T(g),children:[e.jsxs(dr,{className:"grid w-full grid-cols-3",children:[e.jsxs(hs,{value:"settings",className:"flex items-center gap-2",children:[e.jsx(Hs,{className:"h-4 w-4"}),"Settings"]}),e.jsxs(hs,{value:"teams",className:"flex items-center gap-2",children:[e.jsx(G,{className:"h-4 w-4"}),"Teams"]}),e.jsxs(hs,{value:"documents",className:"flex items-center gap-2",children:[e.jsx(Me,{className:"h-4 w-4"}),"Documents"]})]}),e.jsx(ps,{value:"settings",className:"space-y-6",children:e.jsxs(Z,{children:[e.jsx(le,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ye,{children:"Basic Information"}),P?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(R,{variant:"outline",size:"sm",onClick:()=>{N(!1),p({name:a.name,banner_image_url:a.banner_image_url||"",is_public:a.is_public,landing_document_id:a.landing_document_id})},children:[e.jsx(ze,{className:"h-4 w-4"}),"Cancel"]}),e.jsxs(R,{size:"sm",onClick:y,children:[e.jsx(As,{className:"h-4 w-4"}),"Save"]})]}):e.jsxs(R,{variant:"outline",size:"sm",onClick:()=>N(!0),children:[e.jsx(Ee,{className:"h-4 w-4"}),"Edit"]})]})}),e.jsxs(ee,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"name",className:"text-sm font-medium",children:"Series Name"}),P?e.jsx(ne,{id:"name",value:k.name,onChange:g=>p(O=>({...O,name:g.target.value})),placeholder:"Enter series name"}):e.jsx("p",{className:"text-sm text-gray-900",children:a.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"banner_image_url",className:"text-sm font-medium",children:"Banner Image URL"}),P?e.jsx(ne,{id:"banner_image_url",type:"url",value:k.banner_image_url,onChange:g=>p(O=>({...O,banner_image_url:g.target.value})),placeholder:"https://example.com/banner.jpg"}):e.jsx("p",{className:"text-sm text-gray-900",children:a.banner_image_url||"No banner image set"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{id:"is_public",checked:P?k.is_public:a.is_public,onCheckedChange:P?g=>p(O=>({...O,is_public:g})):void 0,disabled:!P}),e.jsx("label",{htmlFor:"is_public",className:"text-sm font-medium",children:"Public series (visible to players)"})]})]})]})}),e.jsx(ps,{value:"teams",className:"space-y-6",children:e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(Z,{children:[e.jsx(le,{children:e.jsx(ye,{children:"Teams in Series"})}),e.jsx(ee,{children:i&&i.length>0?e.jsx("div",{className:"space-y-2",children:i.map(g=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"font-medium",children:g.name})]}),e.jsx(R,{variant:"outline",size:"sm",onClick:()=>S(g.id),className:"text-red-600 hover:text-red-700",children:"Remove"})]},g.id))}):e.jsx("p",{className:"text-gray-500 text-sm",children:"No teams in this series yet."})})]}),e.jsxs(Z,{children:[e.jsx(le,{children:e.jsx(ye,{children:"Available Teams"})}),e.jsx(ee,{children:o&&o.length>0?e.jsx("div",{className:"space-y-2",children:o.map(g=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"h-4 w-4 text-gray-600"}),e.jsx("span",{className:"font-medium",children:g.name})]}),e.jsx(R,{variant:"outline",size:"sm",onClick:()=>x(g.id),className:"text-blue-600 hover:text-blue-700",children:"Add to Series"})]},g.id))}):e.jsx("p",{className:"text-gray-500 text-sm",children:"All teams are already in this series."})})]})]})}),e.jsxs(ps,{value:"documents",className:"space-y-6",children:[e.jsxs(Z,{children:[e.jsx(le,{children:e.jsx(ye,{children:"Landing Page Settings"})}),e.jsxs(ee,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"landing-document",className:"text-sm font-medium",children:"Landing Page Document"}),e.jsxs("select",{id:"landing-document",value:k.landing_document_id||"",onChange:g=>{const O=g.target.value;p(he=>({...he,landing_document_id:O?parseInt(O):void 0}))},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"None (use series description)"}),m==null?void 0:m.map(g=>e.jsx("option",{value:g.id,children:g.title},g.id))]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Select which document players will see as the main content for this series."})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(R,{variant:"outline",size:"sm",onClick:y,disabled:n.isPending,children:[e.jsx(As,{className:"h-4 w-4 mr-2"}),"Save Landing Page Settings"]}),k.landing_document_id&&e.jsx(R,{variant:"outline",size:"sm",onClick:()=>j(!0),children:"Preview"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Series Documents"}),e.jsxs(R,{onClick:z,children:[e.jsx(je,{className:"h-4 w-4 mr-2"}),"Add Document"]})]}),e.jsx("div",{className:"grid gap-4",children:m&&m.length>0?m.map(g=>e.jsxs(Z,{children:[e.jsx(le,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ye,{className:"text-lg",children:g.title}),(a==null?void 0:a.landing_document_id)===g.id&&e.jsx(de,{variant:"default",className:"bg-blue-100 text-blue-800 hover:bg-blue-100",children:"Landing Page"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(R,{variant:"outline",size:"sm",onClick:()=>f(g),children:[e.jsx(Ee,{className:"h-4 w-4"}),"Edit"]}),e.jsxs(R,{variant:"outline",size:"sm",onClick:()=>K(g),className:"text-red-600 hover:text-red-700",children:[e.jsx(Ce,{className:"h-4 w-4"}),"Delete"]})]})]})}),e.jsx(ee,{children:e.jsx("div",{className:"prose prose-gray max-w-none",children:e.jsx(Oe,{remarkPlugins:[Ue],children:g.content})})})]},g.id)):e.jsx(Z,{children:e.jsxs(ee,{className:"text-center py-8",children:[e.jsx(Me,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No documents created yet."}),e.jsx(R,{variant:"outline",onClick:z,className:"mt-4",children:"Create your first document"})]})})})]})]}),e.jsx(ge,{open:L,onOpenChange:D,children:e.jsxs(me,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[e.jsx(xe,{children:e.jsx(ue,{children:_?"Edit Document":"Create Document"})}),e.jsxs("form",{onSubmit:I,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"document-title",className:"text-sm font-medium",children:"Document Title"}),e.jsx(ne,{id:"document-title",value:h.title,onChange:g=>d(O=>({...O,title:g.target.value})),placeholder:"Enter document title",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"document-content",className:"text-sm font-medium",children:"Content (Markdown)"}),e.jsx(mr,{value:h.content,onChange:g=>d(O=>({...O,content:g})),height:300})]}),e.jsxs(fe,{children:[e.jsx(R,{type:"button",variant:"outline",onClick:()=>D(!1),children:"Cancel"}),e.jsx(R,{type:"submit",children:_?"Update":"Create"})]})]})]})}),e.jsx(ge,{open:F,onOpenChange:j,children:e.jsxs(me,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[e.jsx(xe,{children:e.jsx(ue,{children:"Landing Page Preview"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"This is how players will see the landing page for this series:"}),(()=>{const g=m==null?void 0:m.find(O=>O.id===k.landing_document_id);return g?e.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[e.jsx("div",{className:"bg-gray-50 border-b px-4 py-2",children:e.jsx("h3",{className:"font-medium text-gray-900",children:g.title})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"prose prose-gray max-w-none",children:e.jsx(Oe,{remarkPlugins:[Ue],children:g.content})})})]}):e.jsx("div",{className:"border rounded-lg p-4 bg-gray-50",children:e.jsx("p",{className:"text-gray-500",children:"No document selected for preview."})})})()]}),e.jsx(fe,{children:e.jsx(R,{variant:"outline",onClick:()=>j(!1),children:"Close Preview"})})]})})]}):e.jsx("div",{children:"Series not found"})}function ur(){return e.jsxs(Z,{className:"mb-4",children:[e.jsx(le,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ae,{className:"h-6 w-[180px]"}),e.jsx(ae,{className:"h-5 w-[60px] rounded-full"})]})}),e.jsx(ee,{children:e.jsx(ae,{className:"h-4 w-[120px]"})})]})}function hr(s){const t=[{bg:"bg-blue-50",border:"border-l-blue-500",text:"text-blue-700",icon:"text-blue-600"},{bg:"bg-green-50",border:"border-l-green-500",text:"text-green-700",icon:"text-green-600"},{bg:"bg-purple-50",border:"border-l-purple-500",text:"text-purple-700",icon:"text-purple-600"},{bg:"bg-orange-50",border:"border-l-orange-500",text:"text-orange-700",icon:"text-orange-600"},{bg:"bg-pink-50",border:"border-l-pink-500",text:"text-pink-700",icon:"text-pink-600"},{bg:"bg-teal-50",border:"border-l-teal-500",text:"text-teal-700",icon:"text-teal-600"},{bg:"bg-indigo-50",border:"border-l-indigo-500",text:"text-indigo-700",icon:"text-indigo-600"},{bg:"bg-red-50",border:"border-l-red-500",text:"text-red-700",icon:"text-red-600"}];return t[s%t.length]}function pr(){const{data:s,isLoading:t,error:a}=yt(),r=er(),n=sr(),i=tr(),[o,l]=$.useState(!1),[c,m]=$.useState(null),[C,v]=$.useState(""),w=()=>{m(null),v(""),l(!0)},b=N=>{m(N),v(N.name),l(!0)},T=async N=>{if(window.confirm(`Are you sure you want to delete team "${N.name}"?`))try{await i.mutateAsync(N.id)}catch(k){console.error("Failed to delete team:",k),alert("Failed to delete team. Please try again.")}},P=async N=>{N.preventDefault();try{c?await n.mutateAsync({id:c.id,data:{name:C}}):await r.mutateAsync({name:C}),l(!1)}catch(k){console.error("Failed to save team:",k),alert("Failed to save team. Please try again.")}};return t?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[e.jsx(G,{className:"h-8 w-8 text-green-600"}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Teams"})]}),e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[...Array(6)].map((N,k)=>e.jsx(ur,{},k))})]}):a?e.jsx(Z,{className:"border-red-200 bg-red-50",children:e.jsxs(ee,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-red-700",children:[e.jsx(G,{className:"h-5 w-5"}),e.jsx("p",{className:"font-medium",children:"Error loading teams"})]}),e.jsx("p",{className:"text-red-600 text-sm mt-2",children:"Please try refreshing the page or contact support if the problem persists."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(G,{className:"h-8 w-8 text-green-600"}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Teams"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(de,{variant:"secondary",className:"text-sm",children:[(s==null?void 0:s.length)||0," ",(s==null?void 0:s.length)===1?"team":"teams"]}),e.jsxs(R,{onClick:w,className:"flex items-center gap-2",children:[e.jsx(je,{className:"h-4 w-4"}),"Add Team"]})]})]}),!s||s.length===0?e.jsx(Z,{className:"border-dashed border-2 border-gray-300",children:e.jsxs(ee,{className:"p-12 text-center",children:[e.jsx(G,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No teams yet"}),e.jsx("p",{className:"text-gray-600",children:"Create teams to organize your golf competition participants."})]})}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:s.map((N,k)=>{const p=hr(k);return e.jsxs(Z,{className:`hover:shadow-lg transition-shadow duration-200 border-l-4 ${p.border} ${p.bg}`,children:[e.jsx(le,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(ye,{className:`text-lg ${p.text} flex items-center gap-2`,children:[e.jsx(It,{className:`h-5 w-5 ${p.icon}`}),N.name]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(de,{variant:"outline",className:"text-xs",children:["#",N.id]}),e.jsx(R,{variant:"ghost",size:"icon",onClick:()=>b(N),className:"h-8 w-8",children:e.jsx(Ee,{className:"h-4 w-4"})}),e.jsx(R,{variant:"ghost",size:"icon",onClick:()=>T(N),className:"h-8 w-8 text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(Ce,{className:"h-4 w-4"})})]})]})}),e.jsx(ee,{className:"pt-0",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(ie,{className:"h-4 w-4"}),e.jsx("span",{children:"Pong:"})]})})]},N.id)})}),e.jsx(ge,{open:o,onOpenChange:l,children:e.jsxs(me,{children:[e.jsx(xe,{children:e.jsx(ue,{children:c?"Edit Team":"Create New Team"})}),e.jsxs("form",{onSubmit:P,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"name",className:"text-sm font-medium",children:"Team Name"}),e.jsx(ne,{id:"name",value:C,onChange:N=>v(N.target.value),placeholder:"Enter team name",required:!0})]}),e.jsxs(fe,{children:[e.jsx(R,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"}),e.jsx(R,{type:"submit",children:c?"Update":"Create"})]})]})]})})]})}function Ie(){return Y({queryKey:["courses"],queryFn:async()=>{const s=await fetch(`${q}/courses`);if(!s.ok)throw new Error("Network response was not ok");return s.json()}})}function Wn(s){return Y({queryKey:["course",s],queryFn:async()=>{const t=await fetch(`${q}/courses/${s}`);if(!t.ok)throw new Error("Network response was not ok");return t.json()}})}function gr(){const s=B();return V({mutationFn:async t=>{const a=await fetch(`${q}/courses`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw new Error("Network response was not ok");return a.json()},onSuccess:()=>{s.invalidateQueries({queryKey:["courses"]})}})}function fr(){const s=B();return V({mutationFn:async({id:t,holes:a})=>{const r=await fetch(`${q}/courses/${t}/holes`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!r.ok)throw new Error("Network response was not ok");return r.json()},onSuccess:()=>{s.invalidateQueries({queryKey:["courses"]})}})}function br(){const s=B();return V({mutationFn:async t=>{const a=await fetch(`${q}/courses/${t}`,{method:"DELETE"});if(!a.ok)throw new Error("Network response was not ok");return a.status===204?null:a.json()},onSuccess:()=>{s.invalidateQueries({queryKey:["courses"]})}})}function yr(){return e.jsxs(Z,{className:"mb-4",children:[e.jsxs(le,{children:[e.jsx(ae,{className:"h-6 w-[200px]"}),e.jsx(ae,{className:"h-4 w-[150px]"})]}),e.jsx(ee,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(ae,{className:"h-4 w-full"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ae,{className:"h-6 w-16"}),e.jsx(ae,{className:"h-6 w-16"}),e.jsx(ae,{className:"h-6 w-16"})]})]})})]})}function jr(s){const t=[{bg:"bg-green-50",border:"border-l-green-500",text:"text-green-700",icon:"text-green-600"},{bg:"bg-blue-50",border:"border-l-blue-500",text:"text-blue-700",icon:"text-blue-600"},{bg:"bg-purple-50",border:"border-l-purple-500",text:"text-purple-700",icon:"text-purple-600"},{bg:"bg-orange-50",border:"border-l-orange-500",text:"text-orange-700",icon:"text-orange-600"}];return t[s%t.length]}function vr(){const{data:s,isLoading:t,error:a}=Ie(),r=gr(),n=fr(),i=br(),[o,l]=$.useState(!1),[c,m]=$.useState(null),[C,v]=$.useState(""),[w,b]=$.useState(Array(18).fill(3)),[T,P]=$.useState("name"),N=()=>{m(null),v(""),b(Array(18).fill(3)),P("name"),l(!0)},k=j=>{m(j),v(j.name),b(j.pars.holes),P("pars"),l(!0)},p=async j=>{if(window.confirm(`Are you sure you want to delete course "${j.name}"?`))try{await i.mutateAsync(j.id)}catch(_){console.error("Failed to delete course:",_),alert("Failed to delete course. Please try again.")}},L=(j,_)=>{const u=[...w];u[j]=parseInt(_)||3,b(u)},D=j=>{const _=j.slice(0,9).reduce((h,d)=>h+d,0),u=j.slice(9).reduce((h,d)=>h+d,0);return{out:_,in:u,total:_+u}},F=async j=>{j.preventDefault();try{if(T==="name"){const _=await r.mutateAsync({name:C});m(_),P("pars")}else c&&(await n.mutateAsync({id:c.id,holes:w}),l(!1))}catch(_){console.error("Failed to save course:",_),alert("Failed to save course. Please try again.")}};return t?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[e.jsx(Je,{className:"h-8 w-8 text-green-600"}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Courses"})]}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:[...Array(4)].map((j,_)=>e.jsx(yr,{},_))})]}):a?e.jsx(Z,{className:"border-red-200 bg-red-50",children:e.jsxs(ee,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-red-700",children:[e.jsx(Je,{className:"h-5 w-5"}),e.jsx("p",{className:"font-medium",children:"Error loading courses"})]}),e.jsx("p",{className:"text-red-600 text-sm mt-2",children:"Please try refreshing the page or contact support if the problem persists."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"h-8 w-8 text-green-600"}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Courses"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(de,{variant:"secondary",className:"text-sm",children:[(s==null?void 0:s.length)||0," ",(s==null?void 0:s.length)===1?"course":"courses"]}),e.jsxs(R,{onClick:N,className:"flex items-center gap-2",children:[e.jsx(je,{className:"h-4 w-4"}),"Add Course"]})]})]}),!s||s.length===0?e.jsx(Z,{className:"border-dashed border-2 border-gray-300",children:e.jsxs(ee,{className:"p-12 text-center",children:[e.jsx(Je,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No courses available"}),e.jsx("p",{className:"text-gray-600",children:"Add some golf courses to get started with your scorecard."})]})}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:s.map((j,_)=>e.jsx(Nr,{course:j,index:_,handleEdit:k,handleDelete:p},j.id))}),e.jsx(ge,{open:o,onOpenChange:l,children:e.jsxs(me,{className:"max-w-2xl",children:[e.jsx(xe,{children:e.jsx(ue,{children:T==="name"?"Create New Course":c?"Edit Course Pars":"Set Course Pars"})}),e.jsxs("form",{onSubmit:F,className:"space-y-6",children:[T==="name"?e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"courseName",className:"text-sm font-medium",children:"Course Name"}),e.jsx(ne,{id:"courseName",value:C,onChange:j=>v(j.target.value),placeholder:"Enter course name",required:!0})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Hole Pars"}),e.jsx("div",{className:"grid grid-cols-9 gap-2",children:w.map((j,_)=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("label",{htmlFor:`par-${_+1}`,className:"text-xs text-gray-500",children:["Hole ",_+1]}),e.jsx(ne,{id:`par-${_+1}`,type:"number",min:"3",max:"6",value:j,onChange:u=>L(_,u.target.value),className:"w-full",required:!0})]},_))})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3 pt-4 border-t",children:[e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[e.jsx("p",{className:"text-xs text-green-600 font-medium uppercase tracking-wide",children:"Front 9"}),e.jsxs("p",{className:"text-lg font-bold text-green-700",children:["Par ",D(w).out]})]}),e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("p",{className:"text-xs text-blue-600 font-medium uppercase tracking-wide",children:"Back 9"}),e.jsxs("p",{className:"text-lg font-bold text-blue-700",children:["Par ",D(w).in]})]}),e.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[e.jsx("p",{className:"text-xs text-purple-600 font-medium uppercase tracking-wide",children:"Total"}),e.jsxs("p",{className:"text-lg font-bold text-purple-700",children:["Par ",D(w).total]})]})]})]}),e.jsxs(fe,{children:[e.jsx(R,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"}),e.jsx(R,{type:"submit",children:T==="name"?"Next":c?"Update":"Create"})]})]})]})})]})}function Nr({course:s,index:t,handleEdit:a,handleDelete:r}){const n=jr(t);return e.jsxs(Z,{className:`hover:shadow-lg transition-shadow duration-200 border-l-4 ${n.border} ${n.bg}`,children:[e.jsx(le,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(ye,{className:`text-xl ${n.text} flex items-center gap-2`,children:[e.jsx(Rt,{className:`h-5 w-5 ${n.icon}`}),s.name]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(de,{variant:"outline",className:"text-xs",children:["#",s.id]}),e.jsx(R,{variant:"ghost",size:"icon",onClick:()=>a(s),className:"h-8 w-8",children:e.jsx(Ee,{className:"h-4 w-4"})}),e.jsx(R,{variant:"ghost",size:"icon",onClick:()=>r(s),className:"h-8 w-8 text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(Ce,{className:"h-4 w-4"})})]})]})}),e.jsxs(ee,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[e.jsx("p",{className:"text-xs text-green-600 font-medium uppercase tracking-wide",children:"Front 9"}),e.jsxs("p",{className:"text-lg font-bold text-green-700",children:["Par ",s.pars.out]})]}),e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("p",{className:"text-xs text-blue-600 font-medium uppercase tracking-wide",children:"Back 9"}),e.jsxs("p",{className:"text-lg font-bold text-blue-700",children:["Par ",s.pars.in]})]}),e.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[e.jsx("p",{className:"text-xs text-purple-600 font-medium uppercase tracking-wide",children:"Total"}),e.jsxs("p",{className:"text-lg font-bold text-purple-700",children:["Par ",s.pars.total]})]})]}),e.jsx("div",{className:"pt-2 border-t border-gray-100",children:e.jsx("div",{className:"flex items-center justify-between text-sm text-gray-600",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(es,{className:"h-4 w-4"}),e.jsxs("span",{children:[s.pars.holes.length," holes"]})]})})})]})]},s.id)}function os(){return Y({queryKey:["competitions"],queryFn:async()=>{const s=await fetch(`${q}/competitions`);if(!s.ok)throw new Error("Network response was not ok");return s.json()}})}function Nt(s){return Y({queryKey:["competition",s],queryFn:async()=>{const t=await fetch(`${q}/competitions/${s}`);if(!t.ok)throw new Error("Network response was not ok");const a=await t.json();if(a.series_id)try{const r=await fetch(`${q}/series/${a.series_id}`);if(r.ok){const n=await r.json();return{...a,series_name:n.name}}}catch(r){return console.error("Failed to fetch series details",r),{...a,series_name:void 0}}return a},enabled:s>0})}function wt(s){return Y({queryKey:["competition",s,"leaderboard"],queryFn:async()=>{const t=await fetch(`${q}/competitions/${s}/leaderboard`);if(!t.ok)throw new Error("Network response was not ok");return t.json()},enabled:s>0})}function wr(){const s=B();return V({mutationFn:async t=>{const a=await fetch(`${q}/competitions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw new Error("Failed to create competition");return a.json()},onSuccess:()=>{s.invalidateQueries({queryKey:["competitions"]})}})}function kr(){const s=B();return V({mutationFn:async({id:t,data:a})=>{const r=await fetch(`${q}/competitions/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!r.ok)throw new Error("Failed to update competition");return r.json()},onSuccess:(t,{id:a})=>{s.invalidateQueries({queryKey:["competitions"]}),s.invalidateQueries({queryKey:["competition",a]})}})}function Cr(){const s=B();return V({mutationFn:async t=>{if(!(await fetch(`${q}/competitions/${t}`,{method:"DELETE"})).ok)throw new Error("Failed to delete competition")},onSuccess:()=>{s.invalidateQueries({queryKey:["competitions"]})}})}function Sr(){const s=ta({from:"/admin/competitions"}),t=s.series?parseInt(s.series):null,{data:a,isLoading:r,error:n}=os(),{data:i}=Ke(t||0),{data:o}=Ie(),{data:l}=ut(),c=wr(),m=kr(),C=Cr(),v=t?i:a,w=l==null?void 0:l.find(u=>u.id===t),[b,T]=$.useState(!1),[P,N]=$.useState(null),[k,p]=$.useState({name:"",date:"",course_id:"",series_id:(t==null?void 0:t.toString())||"",manual_entry_format:"out_in_total"});if(r)return e.jsx("div",{children:"Loading competitions..."});if(n)return e.jsx("div",{children:"Error loading competitions"});const L=u=>{var h;N(u),p({name:u.name,date:u.date,course_id:u.course_id.toString(),series_id:((h=u.series_id)==null?void 0:h.toString())||"",manual_entry_format:u.manual_entry_format||"out_in_total"}),T(!0)},D=u=>{confirm("Are you sure you want to delete this competition?")&&C.mutate(u,{onError:h=>{console.error("Error deleting competition:",h),alert("Failed to delete competition. Please try again.")}})},F=async u=>{u.preventDefault();const h={name:k.name,date:k.date,course_id:parseInt(k.course_id),series_id:k.series_id?parseInt(k.series_id):void 0,manual_entry_format:k.manual_entry_format},d=()=>{p({name:"",date:"",course_id:"",series_id:(t==null?void 0:t.toString())||"",manual_entry_format:"out_in_total"}),T(!1),N(null)},y=x=>{console.error("Error saving competition:",x),alert("Failed to save competition. Please try again.")};P?m.mutate({id:P.id,data:h},{onSuccess:d,onError:y}):c.mutate(h,{onSuccess:d,onError:y})},j=u=>{const{name:h,value:d}=u.target;p(y=>({...y,[h]:d}))},_=u=>o==null?void 0:o.find(h=>h.id===u);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[t&&w?e.jsx("div",{className:"flex items-center gap-3 mb-2",children:e.jsxs(U,{to:"/admin/series",className:"flex items-center gap-1 text-blue-600 hover:text-blue-700",children:[e.jsx(rs,{className:"h-4 w-4"}),"Back to Series"]})}):null,e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t&&w?`${w.name} - Competitions`:"Competitions"}),e.jsx("p",{className:"text-gray-600",children:t&&w?`Competitions in the ${w.name} series`:"Manage golf competitions and tournaments"})]}),e.jsxs("button",{onClick:()=>{N(null),p({name:"",date:"",course_id:"",series_id:(t==null?void 0:t.toString())||"",manual_entry_format:"out_in_total"}),T(!0)},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(je,{className:"h-4 w-4"}),"Add Competition"]})]}),b&&e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg border",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:P?"Edit Competition":"Add New Competition"}),e.jsxs("form",{onSubmit:F,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Competition Name"}),e.jsx("input",{type:"text",name:"name",value:k.name,onChange:j,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter competition name",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),e.jsx("input",{type:"date",name:"date",value:k.date,onChange:j,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Course"}),e.jsxs("select",{name:"course_id",value:k.course_id,onChange:j,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Select a course"}),o==null?void 0:o.map(u=>e.jsx("option",{value:u.id,children:u.name},u.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Series (Optional)"}),e.jsxs("select",{name:"series_id",value:k.series_id,onChange:j,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"No series (standalone competition)"}),l==null?void 0:l.map(u=>e.jsx("option",{value:u.id,children:u.name},u.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manual Entry Format"}),e.jsxs("select",{name:"manual_entry_format",value:k.manual_entry_format,onChange:j,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"out_in_total",children:"Out, In, and Total"}),e.jsx("option",{value:"total_only",children:"Total Score Only"})]})]}),e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsx("button",{type:"submit",disabled:c.isPending||m.isPending,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:c.isPending||m.isPending?"Saving...":P?"Update":"Create"}),e.jsx("button",{type:"button",onClick:()=>{T(!1),N(null),p({name:"",date:"",course_id:"",series_id:(t==null?void 0:t.toString())||"",manual_entry_format:"out_in_total"})},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 transition-colors",children:"Cancel"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:t&&w?`${w.name} Competitions`:"All Competitions"}),v&&e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[v.length," competition",v.length!==1?"s":""]})]}),e.jsx("div",{className:"divide-y divide-gray-200",children:v&&v.length===0?e.jsx("div",{className:"px-6 py-8 text-center text-gray-500",children:t&&w?e.jsxs("p",{children:["No competitions found in the ",w.name," series."]}):e.jsx("p",{children:"No competitions found."})}):v==null?void 0:v.map(u=>{var d;const h=_(u.course_id);return e.jsx("div",{className:"px-6 py-4 hover:bg-gray-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:u.name}),e.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ws,{className:"h-4 w-4"}),(h==null?void 0:h.name)||"Unknown Course"]}),u.series_id&&e.jsxs("div",{className:"flex items-center gap-1 text-blue-600",children:[e.jsx(ss,{className:"h-4 w-4"}),((d=l==null?void 0:l.find(y=>y.id===u.series_id))==null?void 0:d.name)||`Series #${u.series_id}`]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{to:`/admin/competitions/${u.id}/tee-times`,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Manage tee times",children:e.jsx(De,{className:"h-4 w-4"})}),e.jsx(U,{to:`/admin/competitions/${u.id}/manual-scores`,className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Manual score entry",children:e.jsx(qt,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>L(u),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit competition",children:e.jsx(Ee,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>D(u.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete competition",children:e.jsx(Ce,{className:"h-4 w-4"})})]})]})},u.id)})})]})]})}function Tr(s){return Y({queryKey:["tee-times","competition",s],queryFn:async()=>{const t=await fetch(`${q}/competitions/${s}/tee-times`);if(!t.ok)throw new Error("Network response was not ok");return t.json()},enabled:!!s})}function Jn(s){return Y({queryKey:["teeTime",s],queryFn:async()=>{const t=await fetch(`${q}/tee-times/${s}`);if(!t.ok)throw new Error("Network response was not ok");return t.json()},enabled:s>0})}function Hn(){const s=B();return V({mutationFn:async({participantId:t,hole:a,shots:r})=>{const n=await fetch(`${q}/participants/${t}/score`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({hole:a,shots:r})});if(!n.ok)throw new Error("Network response was not ok");return n.json()},onSuccess:t=>{const a=t.tee_time_id;a&&s.invalidateQueries({queryKey:["teeTime",a]})}})}function _r(){const s=B();return V({mutationFn:async({competitionId:t,teetime:a})=>{const r=await fetch(`${q}/competitions/${t}/tee-times`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({teetime:a})});if(!r.ok)throw new Error("Failed to create tee time");return r.json()},onSuccess:(t,a)=>{s.invalidateQueries({queryKey:["tee-times","competition",a.competitionId]})}})}function kt(){const s=B();return V({mutationFn:async t=>{const a=await fetch(`${q}/participants`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw new Error("Failed to create participant");return a.json()},onSuccess:(t,a)=>{s.invalidateQueries({queryKey:["teeTime",a.tee_time_id]})}})}function Pr(){const s=B();return V({mutationFn:async t=>{const a=await fetch(`${q}/tee-times/${t}`,{method:"DELETE"});if(!a.ok)throw new Error("Failed to delete tee time");return a.status===204?null:a.json()},onSuccess:()=>{s.invalidateQueries({queryKey:["tee-times"]})}})}function $r(){const s=B();return V({mutationFn:async t=>{const a=await fetch(`${q}/participants/${t}`,{method:"DELETE"});if(!a.ok)throw new Error("Failed to delete participant");return a.status===204?null:a.json()},onSuccess:()=>{s.invalidateQueries({queryKey:["tee-times"]})}})}function Yn(s){return Y({queryKey:["participant",s],queryFn:async()=>{const t=await fetch(`${q}/participants/${s}`);if(!t.ok)throw new Error("Network response was not ok");return t.json()},enabled:s>0})}function Dr(){return Y({queryKey:["participants"],queryFn:async()=>{const s=await fetch(`${q}/participants`);if(!s.ok)throw new Error("Network response was not ok");return s.json()}})}function Er(s){return Y({queryKey:["competition-participants",s],queryFn:async()=>{const t=await fetch(`${q}/competitions/${s}/participants`);if(!t.ok)throw new Error("Network response was not ok");return t.json()},enabled:s>0})}function Xn(){const s=B();return V({mutationFn:async({id:t,data:a})=>{const r=await fetch(`${q}/participants/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!r.ok)throw new Error("Failed to update participant");return r.json()},onSuccess:(t,a)=>{const r=t==null?void 0:t.tee_time_id;r&&s.invalidateQueries({queryKey:["teeTime",r]}),s.invalidateQueries({queryKey:["participant",a.id]}),s.invalidateQueries({queryKey:["tee-times"]}),s.invalidateQueries({queryKey:["competitions"]}),s.invalidateQueries({queryKey:["leaderboard"]})}})}function Ar(){const s=B();return V({mutationFn:async t=>{const a=await fetch(`${q}/participants/${t}/lock`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!a.ok)throw new Error("Failed to lock participant");return a.json()},onSuccess:t=>{const a=t==null?void 0:t.tee_time_id;a&&s.invalidateQueries({queryKey:["teeTime",a]}),s.invalidateQueries({queryKey:["tee-times"]}),s.invalidateQueries({queryKey:["participant",t.id]})}})}function Lr(){const s=B();return V({mutationFn:async t=>{const a=await fetch(`${q}/participants/${t}/unlock`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!a.ok)throw new Error("Failed to unlock participant");return a.json()},onSuccess:t=>{const a=t==null?void 0:t.tee_time_id;a&&s.invalidateQueries({queryKey:["teeTime",a]}),s.invalidateQueries({queryKey:["tee-times"]}),s.invalidateQueries({queryKey:["participant",t.id]})}})}function Fr(){const s=B();return V({mutationFn:async({id:t,data:a})=>{const r=await fetch(`${q}/participants/${t}/manual-score`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!r.ok)throw new Error("Failed to update manual score");return r.json()},onSuccess:(t,a)=>{s.setQueryData(["participant",a.id],t),s.setQueriesData({queryKey:["competition-participants"]},r=>r&&r.map(n=>n.id===a.id?t:n)),s.setQueriesData({queryKey:["participants"]},r=>r&&r.map(n=>n.id===a.id?t:n)),s.invalidateQueries({queryKey:["leaderboard"]}),s.invalidateQueries({queryKey:["competition-leaderboard"]})}})}function Be(s){const t=s.toLowerCase();return t.includes("bst")||t.includes("better")||t.includes("foursome")||t.includes("greensome")?2:1}function $s(s){return s.reduce((t,a)=>t+Be(a.position_name),0)}function Ir(s,t){const r=$s(s),n=Be(t),i=r+n,o=i<=4;return{isValid:o,currentPlayerCount:r,newPlayerCount:n,maxPlayers:4,message:o?void 0:`Cannot add ${t}. This would result in ${i} players, exceeding the maximum of 4 players per tee time.`}}function Os(s){const t=Be(s);return t>1?`${s} (${t} players)`:s}function Us(s){return Be(s)>1}async function Ks(s,t){if(!(await fetch(`${q}/tee-times/${s}/participants/order`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({participantIds:t})})).ok)throw new Error("Failed to update participant order")}function Rr({isOpen:s,onClose:t,teeTime:a,availableParticipants:r,onAssign:n}){const[i,o]=$.useState(""),l=()=>{i&&(n(i,a.id),o(""),t())};return e.jsx(ge,{open:s,onOpenChange:t,children:e.jsxs(me,{className:"max-w-md",children:[e.jsx(xe,{children:e.jsxs(ue,{children:["Assign Participant to ",a.teetime]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"max-h-64 overflow-y-auto",children:r.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(G,{className:"h-8 w-8 mx-auto mb-2"}),e.jsx("p",{children:"No available participants"})]}):e.jsx("div",{className:"space-y-2",children:r.map(c=>e.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer transition-colors ${i===c.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,onClick:()=>o(c.id),children:[e.jsx("div",{className:"font-medium text-gray-900",children:c.teamName}),e.jsx("div",{className:"text-sm text-gray-500",children:c.participantType})]},c.id))})}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(R,{variant:"outline",onClick:t,children:"Cancel"}),e.jsx(R,{onClick:l,disabled:!i,children:"Assign"})]})]})]})})}function qr({participants:s,selected:t,setSelected:a}){const r=$.useMemo(()=>{const o={};return s.forEach(l=>{o[l.teamName]||(o[l.teamName]=[]),o[l.teamName].push(l)}),o},[s]),n=s.filter(o=>!o.assignedToTeeTimeId).length,i=(o,l)=>{o.stopPropagation(),a(c=>c.includes(l)?c.filter(m=>m!==l):[...c,l])};return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 h-full",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(G,{className:"h-5 w-5 text-blue-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Available Participants"}),e.jsxs("span",{className:"text-sm text-gray-500",children:["(",n," remaining)"]})]}),e.jsxs("div",{className:"space-y-4 max-h-[500px] overflow-y-auto",children:[Object.entries(r).map(([o,l])=>e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:o}),e.jsx("div",{className:"space-y-2 pl-4",children:l.map(c=>{const m=c.id.startsWith("existing-"),C=!c.assignedToTeeTimeId;return e.jsxs("div",{className:`flex items-center gap-2 p-2 rounded-lg border transition-colors relative ${c.assignedToTeeTimeId?m?"bg-purple-50 border-purple-200 text-purple-700 cursor-not-allowed":"bg-gray-50 border-gray-200 text-gray-500 cursor-not-allowed":"bg-white border-gray-200 hover:border-blue-300 cursor-move"} ${t.includes(c.id)?"ring-2 ring-blue-400":""}`,children:[C?e.jsx("button",{type:"button","aria-label":t.includes(c.id)?"Deselect":"Select",className:`w-4 h-4 border-2 rounded-sm flex items-center justify-center mr-1 ${t.includes(c.id)?"border-blue-500 bg-blue-500":"border-gray-300 bg-white"}`,onClick:v=>i(v,c.id),tabIndex:0,children:t.includes(c.id)&&e.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}):c.assignedToTeeTimeId?e.jsx(Ot,{className:`h-4 w-4 ${m?"text-purple-500":"text-green-500"}`}):e.jsx("div",{className:"w-4 h-4 border-2 border-gray-300 rounded-sm"}),e.jsxs("span",{className:"flex-1 text-sm",children:[c.participantType,m&&e.jsx("span",{className:"ml-2 text-xs text-purple-600 font-medium",children:"(existing)"})]}),c.assignedToTeeTime&&e.jsxs("span",{className:"text-xs text-gray-500",children:["assigned to ",c.assignedToTeeTime]})]},c.id)})})]},o)),s.length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(G,{className:"h-12 w-12 mx-auto mb-4"}),e.jsx("p",{className:"font-medium mb-2",children:"No participants generated"}),e.jsx("p",{className:"text-sm",children:"Generate participants to start assigning them to tee times."})]})]})]})}function zr({teeTimes:s,participants:t,onRemoveAssignment:a,onOpenAssignDialog:r}){const n=B(),[i,o]=$.useState(null),[l,c]=$.useState(null),[m,C]=$.useState(null),[v,w]=$.useState(null),[b,T]=$.useState({}),[P,N]=$.useState({}),k=d=>{const y=b[d.id];return y?y.map(x=>d.participants.find(S=>S.id===x)).filter(Boolean):d.participants};$.useEffect(()=>{const d={};s.forEach(y=>{d[y.id]=y.participants.slice().sort((x,S)=>x.tee_order-S.tee_order).map(x=>x.id)}),T(d)},[s]);const p=(d,y,x)=>{c(x),C(y),d.dataTransfer.effectAllowed="move"},L=d=>{d.preventDefault(),d.dataTransfer.dropEffect="move"},D=d=>{const y=d.currentTarget.getBoundingClientRect(),x=d.clientX,S=d.clientY;(x<y.left||x>y.right||S<y.top||S>y.bottom)&&(o(null),w(null))},F=async(d,y,x)=>{if(d.preventDefault(),d.stopPropagation(),l===null||l===x||m!==y.id){c(null),C(null),o(null),w(null);return}const S=b[y.id].slice(),[z]=S.splice(l,1);S.splice(x,0,z),T(f=>({...f,[y.id]:S})),c(null),C(null),o(null),w(null),N(f=>({...f,[y.id]:!0}));try{await Ks(y.id,S),n.invalidateQueries({queryKey:["tee-times"]})}catch(f){console.error("Failed to update order:",f),alert("Failed to update order")}finally{N(f=>({...f,[y.id]:!1}))}},j=()=>{c(null),C(null),o(null),w(null)},_=async d=>{const y=b[d.id].slice();for(let x=y.length-1;x>0;x--){const S=Math.floor(Math.random()*(x+1));[y[x],y[S]]=[y[S],y[x]]}T(x=>({...x,[d.id]:y})),N(x=>({...x,[d.id]:!0}));try{await Ks(d.id,y),n.invalidateQueries({queryKey:["tee-times"]})}catch(x){console.error("Failed to update order:",x),alert("Failed to update order")}finally{N(x=>({...x,[d.id]:!1}))}},u=d=>{const y=t.filter(S=>S.assignedToTeeTimeId===d),x=s.find(S=>S.id===d);return x?y.filter(S=>!x.participants.some(f=>S.teamId===f.team_id&&S.participantType===f.position_name)):y},h=d=>{const y=$s(d.participants),x=y>4;return{actualPlayerCount:y,isOverLimit:x,isAtLimit:y===4,participantCount:d.participants.length}};return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 h-full",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(De,{className:"h-5 w-5 text-green-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Tee Times"}),e.jsxs("span",{className:"text-sm text-gray-500",children:["(",s.length," times)"]})]}),e.jsxs("div",{className:"space-y-4 max-h-[500px] overflow-y-auto",children:[s.map(d=>{const y=u(d.id),x=h(d),S=i===d.id,z=k(d);return e.jsxs("div",{className:`border rounded-lg p-4 transition-all ${S?"border-blue-500 bg-blue-50":x.isOverLimit?"border-red-300 bg-red-50":x.isAtLimit?"border-yellow-300 bg-yellow-50":"border-gray-200 bg-white hover:bg-gray-50"}`,onDragOver:f=>L(f),onDragLeave:D,onDragEnter:f=>{f.preventDefault(),o(d.id)},children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(De,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"font-medium",children:d.teetime}),e.jsxs("div",{className:`px-2 py-1 rounded-full text-xs font-semibold ${x.isOverLimit?"bg-red-100 text-red-800":x.isAtLimit?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:[x.actualPlayerCount,"/4 players"]}),x.isOverLimit&&e.jsx(Ut,{className:"h-4 w-4 text-red-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>_(d),className:"text-sm px-2 py-1 bg-gray-100 hover:bg-gray-200 rounded border border-gray-300",disabled:P[d.id],children:"Scramble"}),!x.isAtLimit&&e.jsx("button",{onClick:()=>r(d),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"+ Assign"})]})]}),e.jsx("div",{className:"space-y-2 min-h-[60px]",children:z.length===0&&y.length===0?e.jsx("div",{className:"text-gray-500 text-sm italic text-center py-4",children:"Drop participants here"}):e.jsxs(e.Fragment,{children:[z.map((f,I)=>{if(!f)return null;const K=l===I&&m===d.id;return e.jsxs("div",{children:[m===d.id&&l!==null&&e.jsx("div",{className:`h-2 transition-all duration-200 ${v===I?"bg-blue-500 rounded-full opacity-100 my-2 shadow-lg":"opacity-0 h-0"}`,onDragOver:g=>{g.preventDefault(),g.stopPropagation(),w(I)},onDragLeave:g=>{g.stopPropagation(),w(null)},onDrop:g=>F(g,d,I)}),e.jsxs("div",{className:`flex items-center justify-between bg-blue-100 rounded-lg p-3 transition-all ${K?"opacity-50 transform rotate-2 scale-105":""}`,draggable:!0,onDragStart:g=>p(g,d.id,I),onDragOver:g=>L(g),onDragEnd:j,style:{cursor:K?"grabbing":"grab"},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-400 cursor-grab",children:""}),e.jsx(G,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium",children:f.team_name}),e.jsx("span",{className:"text-xs bg-blue-200 text-blue-800 px-2 py-1 rounded",children:Os(f.position_name)}),Us(f.position_name)&&e.jsx("span",{className:"text-blue-500 text-xs",children:""})]}),e.jsx("button",{onClick:()=>a(`existing-${f.id}`),className:"text-red-600 hover:text-red-800 text-sm",children:e.jsx(ze,{className:"h-4 w-4"})})]})]},`existing-${f.id}`)}),m===d.id&&l!==null&&e.jsx("div",{className:`transition-all duration-200 ${v===z.length?"h-4 bg-blue-500 rounded-full opacity-100 my-2 shadow-lg":"h-2 opacity-0"}`,onDragOver:f=>{f.preventDefault(),f.stopPropagation(),w(z.length)},onDragLeave:f=>{f.stopPropagation(),w(null)},onDrop:f=>F(f,d,z.length)}),y.map(f=>e.jsxs("div",{className:"flex items-center justify-between bg-green-100 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm font-medium",children:f.teamName}),e.jsx("span",{className:"text-xs bg-green-200 text-green-800 px-2 py-1 rounded",children:Os(f.participantType)}),Us(f.participantType)&&e.jsx("span",{className:"text-green-500 text-xs",children:""})]}),e.jsx("button",{onClick:()=>a(f.id),className:"text-red-600 hover:text-red-800 text-sm",children:e.jsx(ze,{className:"h-4 w-4"})})]},f.id))]})}),x.isOverLimit&&e.jsx("div",{className:"mt-3 p-2 bg-red-100 border border-red-300 rounded text-red-800 text-xs",children:" This tee time exceeds the 4-player limit"})]},d.id)}),s.length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(De,{className:"h-12 w-12 mx-auto mb-4"}),e.jsx("p",{className:"font-medium mb-2",children:"No tee times available"}),e.jsx("p",{className:"text-sm",children:"Create tee times to start assigning participants."})]})]})]})}function Mr({selectedTeams:s,participantTypes:t,teeTimes:a,onAssignmentsChange:r}){const[n,i]=$.useState([]),[o,l]=$.useState(!1),[c,m]=$.useState(null),[C,v]=$.useState([]),[w,b]=$.useState(!1),T=kt(),P=$r(),N=B(),k=$.useCallback(()=>{const h=[],d=new Set,y=new Set;return a.forEach(x=>{x.participants.forEach(S=>{d.add(S.team_id),y.add(S.position_name),h.push({id:`existing-${S.id}`,teamId:S.team_id,teamName:S.team_name,participantType:S.position_name,assignedToTeeTimeId:x.id,assignedToTeeTime:x.teetime})})}),{existingParticipants:h,foundTeamIds:Array.from(d),foundParticipantTypes:Array.from(y)}},[a]);$.useEffect(()=>{const{existingParticipants:h}=k(),d=[...h];s.forEach(y=>{t.forEach(x=>{h.some(z=>z.teamId===y.id&&z.participantType===x.name)||d.push({id:crypto.randomUUID(),teamId:y.id,teamName:y.name,participantType:x.name})})}),i(d)},[s,t,a,k]);const p=$.useMemo(()=>{if(a.length===0)return null;const{foundTeamIds:h,foundParticipantTypes:d}=k(),y=s.filter(f=>h.includes(f.id)),x=s.filter(f=>!h.includes(f.id)),S=t.filter(f=>d.includes(f.name)),z=t.filter(f=>!d.includes(f.name));return{foundTeams:y,missingTeams:x,foundTypes:S,missingTypes:z,foundTeamIds:h,foundParticipantTypes:d}},[a,s,t,k]),L=$.useCallback(async(h,d)=>{if(d.assignedToTeeTimeId)return;const y=a.find(f=>f.id===h);if(!y)return;const x=Ir(y.participants,d.participantType);if(!x.isValid){alert(x.message);return}i(f=>f.map(I=>I.id===d.id?{...I,assignedToTeeTimeId:h,assignedToTeeTime:y.teetime}:I));const z=n.filter(f=>f.assignedToTeeTimeId===h).length+1;try{if(await T.mutateAsync({tee_time_id:h,team_id:d.teamId,position_name:d.participantType,tee_order:z}),r){const f={participantId:d.id,teeTimeId:h,teeOrder:z};r([f])}N.invalidateQueries({queryKey:["tee-times",h]})}catch(f){console.error("Failed to create participant assignment:",f),i(I=>I.map(K=>K.id===d.id?{...K,assignedToTeeTimeId:void 0,assignedToTeeTime:void 0}:K)),alert("Failed to assign participant. Please try again.")}},[n,a,T,r,N]),D=$.useCallback(async h=>{if(h.startsWith("existing-")){const d=parseInt(h.replace("existing-",""));try{await P.mutateAsync(d),i(y=>y.map(x=>x.id===h?{...x,assignedToTeeTimeId:void 0,assignedToTeeTime:void 0}:x)),N.invalidateQueries({queryKey:["tee-times",d]})}catch(y){console.error("Failed to delete participant:",y),alert("Failed to remove participant assignment. Please try again.")}}else i(d=>d.map(y=>y.id===h?{...y,assignedToTeeTimeId:void 0,assignedToTeeTime:void 0}:y))},[P,N]),F=n.length,j=n.filter(h=>!h.assignedToTeeTimeId),_=$.useCallback(async(h,d)=>{let y=$s(h.participants);const x=n.filter(S=>d.includes(S.id)&&!S.assignedToTeeTimeId);for(const S of x){const z=Be(S.participantType);if(y+z>4){alert(`Cannot assign ${S.participantType} (${S.teamName}) to ${h.teetime}. This would exceed the 4-player limit.`);break}await L(h.id,S),y+=z}v([])},[n,v,L]),u=$.useCallback((h,d)=>{const y=n.find(x=>x.id===h);y&&L(d,y)},[n,L]);return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Participant Assignment"}),e.jsx("p",{className:"text-gray-600",children:"Assign generated participants to tee times"})]})})}),F>0&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 min-h-96",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx(qr,{participants:n,selected:C,setSelected:v})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsx(zr,{teeTimes:a,participants:n,onRemoveAssignment:D,onOpenAssignDialog:h=>{C.length>0?_(h,C):(m(h),l(!0))}})})]}),c&&e.jsx(Rr,{isOpen:o,onClose:()=>l(!1),teeTime:c,availableParticipants:j,onAssign:u}),p&&p.foundTeams.length>0&&e.jsxs("div",{className:"bg-blue-50 rounded-lg border border-blue-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Te,{className:"h-5 w-5 text-blue-600"}),e.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"Existing Assignments Detected"})]}),e.jsx("button",{onClick:()=>b(!w),className:"text-blue-600 hover:text-blue-800",children:w?e.jsx(zt,{className:"h-5 w-5"}):e.jsx(Mt,{className:"h-5 w-5"})})]}),w&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-blue-900 mb-2",children:["Teams with Existing Participants (",p.foundTeams.length,")"]}),e.jsx("ul",{className:"text-sm text-blue-700 space-y-1",children:p.foundTeams.map(h=>e.jsxs("li",{children:[" ",h.name]},h.id))}),p.missingTeams.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("h5",{className:"font-medium text-blue-900 mt-3 mb-1",children:["Selected Teams Without Participants (",p.missingTeams.length,")"]}),e.jsx("ul",{className:"text-sm text-blue-600 space-y-1",children:p.missingTeams.map(h=>e.jsxs("li",{children:[" ",h.name]},h.id))})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-blue-900 mb-2",children:["Participant Types Found (",p.foundTypes.length,")"]}),e.jsx("ul",{className:"text-sm text-blue-700 space-y-1",children:p.foundTypes.map(h=>e.jsxs("li",{children:[" ",h.name]},h.id))}),p.missingTypes.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("h5",{className:"font-medium text-blue-900 mt-3 mb-1",children:["Defined Types Not Used (",p.missingTypes.length,")"]}),e.jsx("ul",{className:"text-sm text-blue-600 space-y-1",children:p.missingTypes.map(h=>e.jsxs("li",{children:[" ",h.name]},h.id))})]})]})]}),e.jsx("div",{className:"mt-4 p-3 bg-blue-100 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Note:"})," Existing assignments have been automatically loaded. The available participants list is always in sync with your selected teams and participant types."]})})]})]})]})}function Or(){const{competitionId:s}=ve({strict:!1}),{data:t,isLoading:a}=Nt(s?parseInt(s):0),{data:r}=yt(),{data:n}=Ps((t==null?void 0:t.series_id)||0),{data:i,refetch:o}=Tr(s?parseInt(s):0),l=t!=null&&t.series_id?n:r,[c,m]=$.useState([]),[C,v]=$.useState([]),[w,b]=$.useState(""),[T,P]=$.useState(10),[N,k]=$.useState(!1),[p,L]=$.useState(!1),D=_r(),F=kt(),j=Pr(),_=Ar(),u=Lr();if($.useEffect(()=>{if(i&&i.length>0&&l&&!p){const f=new Set,I=new Set;i.forEach(O=>{O.participants.forEach(he=>{f.add(he.team_id),I.add(he.position_name)})});const K=Array.from(f);v(K);const g=Array.from(I).map(O=>({id:crypto.randomUUID(),name:O}));m(g),L(!0)}},[i,l,p]),a)return e.jsx("div",{children:"Loading competition..."});if(!t)return e.jsx("div",{children:"Competition not found"});const h=()=>{m([...c,{id:crypto.randomUUID(),name:""}])},d=(f,I)=>{m(c.map(K=>K.id===f?{...K,name:I}:K))},y=f=>{m(c.filter(I=>I.id!==f))},x=f=>{v(I=>I.includes(f)?I.filter(K=>K!==f):[...I,f])},S=async()=>{if(s){k(!0);try{let f;if(i&&i.length>0){const K=i[i.length-1].teetime;f=new Date(`2000-01-01T${K}`)}else f=new Date(`2000-01-01T${w}`);f=new Date(f.getTime()+T*6e4);const I=f.toTimeString().slice(0,5);await D.mutateAsync({competitionId:parseInt(s),teetime:I}),await o()}catch(f){console.error("Error creating tee time:",f),alert("Failed to create tee time. Please try again.")}finally{k(!1)}}},z=async f=>{if(confirm("Are you sure you want to delete this tee time?"))try{await j.mutateAsync(f)}catch(I){console.error("Error deleting tee time:",I),alert("Failed to delete tee time. Please try again.")}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Manage Tee Times - ",t.name]}),e.jsx("p",{className:"text-gray-600",children:"Set up participant types and create tee times"})]})}),p&&i&&i.length>0&&e.jsx("div",{className:"bg-green-50 rounded-lg border border-green-200 p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_e,{className:"h-5 w-5 text-green-600"}),e.jsxs("div",{className:"text-sm text-green-800",children:[e.jsx("strong",{children:"Auto-prefilled:"})," Found ",C.length," ","teams and ",c.length," participant types from existing tee times. You can modify these selections below if needed."]})]})}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Participant Types",p&&c.length>0&&e.jsx("span",{className:"ml-2 text-sm font-normal text-green-600",children:"(auto-detected from existing)"})]}),e.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(je,{className:"h-4 w-4"}),"Add Type"]})]}),e.jsxs("div",{className:"space-y-3",children:[c.map(f=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("input",{type:"text",value:f.name,onChange:I=>d(f.id,I.target.value),placeholder:"Enter participant type (e.g., Single 1)",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{onClick:()=>y(f.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:e.jsx(Ce,{className:"h-4 w-4"})})]},f.id)),c.length===0&&e.jsx("div",{className:"text-center py-4 text-gray-500",children:"No participant types added yet. Add at least one type to continue."})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Select Participating Teams",(t==null?void 0:t.series_id)&&e.jsx("span",{className:"ml-2 text-sm font-normal text-blue-600",children:"(from series)"}),p&&C.length>0&&e.jsx("span",{className:"ml-2 text-sm font-normal text-green-600",children:"(auto-selected from existing)"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:l==null?void 0:l.map(f=>e.jsx("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-colors ${C.includes(f.id)?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,onClick:()=>x(f.id),children:e.jsx("div",{className:"font-medium text-gray-900",children:f.name})},f.id))}),(l==null?void 0:l.length)===0&&e.jsx("div",{className:"text-center py-4 text-gray-500",children:t!=null&&t.series_id?"No teams available in this series. Please add teams to the series first.":"No teams available. Please add teams first."})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Tee Time Settings"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Tee Time"}),e.jsx("input",{type:"time",value:w,onChange:f=>b(f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minutes Between Tee Times"}),e.jsx("input",{type:"number",min:"5",max:"30",value:T,onChange:f=>P(parseInt(f.target.value)||10),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:S,disabled:c.length===0||C.length===0||!w||N||D.isPending||F.isPending,className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:N?"Creating...":"Create Tee Times"})}),i&&i.length>0&&e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Existing Tee Times"}),e.jsx("div",{className:"space-y-4",children:i.map(f=>e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(De,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{className:"font-medium text-gray-900",children:f.teetime})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[f.participants.length," participants"]}),e.jsx("button",{onClick:()=>z(f.id),disabled:j.isPending,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50",title:"Delete tee time",children:e.jsx(Ce,{className:"h-4 w-4"})})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:f.participants.map(I=>e.jsxs("div",{className:"p-3 bg-white rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"font-medium text-gray-900",children:[I.team_name," ",I.position_name]}),e.jsxs("div",{className:"flex items-center gap-2",children:[I.is_locked?e.jsx(Kt,{className:"h-4 w-4 text-red-600"}):e.jsx(Bt,{className:"h-4 w-4 text-green-600"}),e.jsx("button",{onClick:()=>{I.is_locked?u.mutate(I.id):_.mutate(I.id)},disabled:_.isPending||u.isPending,className:`px-2 py-1 text-xs rounded transition-colors disabled:opacity-50 ${I.is_locked?"bg-green-100 text-green-700 hover:bg-green-200":"bg-red-100 text-red-700 hover:bg-red-200"}`,title:I.is_locked?"Unlock scorecard":"Lock scorecard",children:I.is_locked?"Unlock":"Lock"})]})]}),I.player_names&&e.jsx("div",{className:"text-sm text-gray-500",children:I.player_names}),I.locked_at&&e.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Locked:"," ",new Date(I.locked_at).toLocaleString()]})]},I.id))})]},f.id))})]}),C.length>0&&c.length>0&&i&&i.length>0&&e.jsx(Mr,{selectedTeams:(l==null?void 0:l.filter(f=>C.includes(f.id)))||[],participantTypes:c,teeTimes:i,onAssignmentsChange:f=>{console.log("Assignments changed:",f),o()}})]})}function Ur(){const{competitionId:s}=ve({from:"/admin/competitions/$competitionId/manual-scores"}),t=parseInt(s),{data:a,isLoading:r}=Nt(t),{data:n,isLoading:i}=Er(t),{data:o}=Ie(),l=Fr(),[c,m]=$.useState({}),[C,v]=$.useState({}),w=(a==null?void 0:a.manual_entry_format)!=="total_only";$.useEffect(()=>{if(Object.keys(c).length===0)return;const D=setTimeout(()=>{Object.entries(c).forEach(async([F,j])=>{const _=parseInt(F);v(u=>({...u,[_]:"saving"}));try{let u;if(w){if(!j.out||!j.in)return;const h=parseInt(j.out),d=parseInt(j.in);if(isNaN(h)||isNaN(d)||h<0||d<0){v(S=>({...S,[_]:"error"}));return}const y=n==null?void 0:n.find(S=>S.id===_);if(y&&y.manual_score_out===h&&y.manual_score_in===d){m(S=>{const z={...S};return delete z[_],z});return}const x=h+d;u={out:h,in:d,total:x}}else{if(!j.total)return;const h=parseInt(j.total);if(isNaN(h)||h<0){v(y=>({...y,[_]:"error"}));return}const d=n==null?void 0:n.find(y=>y.id===_);if(d&&d.manual_score_total===h){m(y=>{const x={...y};return delete x[_],x});return}u={total:h}}await l.mutateAsync({id:_,data:u}),v(h=>({...h,[_]:"saved"})),m(h=>{const d={...h};return delete d[_],d}),setTimeout(()=>{v(h=>({...h,[_]:"idle"}))},2e3)}catch(u){console.error("Failed to save manual score:",u),v(h=>({...h,[_]:"error"})),setTimeout(()=>{v(h=>({...h,[_]:"idle"}))},3e3)}})},750);return()=>clearTimeout(D)},[c,l,n,w]);const b=(D,F,j)=>{var d,y,x;const _=c[D],u=n==null?void 0:n.find(S=>S.id===D),h={out:(_==null?void 0:_.out)??((d=u==null?void 0:u.manual_score_out)==null?void 0:d.toString())??"",in:(_==null?void 0:_.in)??((y=u==null?void 0:u.manual_score_in)==null?void 0:y.toString())??"",total:(_==null?void 0:_.total)??((x=u==null?void 0:u.manual_score_total)==null?void 0:x.toString())??"",[F]:j};m(S=>({...S,[D]:h}))},T=async D=>{try{v(F=>({...F,[D]:"saving"})),await l.mutateAsync({id:D,data:{out:null,in:null,total:null}}),m(F=>{const j={...F};return delete j[D],j}),v(F=>({...F,[D]:"saved"})),setTimeout(()=>{v(F=>({...F,[D]:"idle"}))},2e3)}catch(F){console.error("Failed to clear manual scores:",F),v(j=>({...j,[D]:"error"})),setTimeout(()=>{v(j=>({...j,[D]:"idle"}))},3e3)}},P=D=>{var y,x,S;if(!w){const z=c[D],f=n==null?void 0:n.find(g=>g.id===D),I=(z==null?void 0:z.total)??((y=f==null?void 0:f.manual_score_total)==null?void 0:y.toString())??"";if(!I)return null;const K=parseInt(I);return isNaN(K)?null:K}const F=c[D],j=n==null?void 0:n.find(z=>z.id===D),_=(F==null?void 0:F.out)??((x=j==null?void 0:j.manual_score_out)==null?void 0:x.toString())??"",u=(F==null?void 0:F.in)??((S=j==null?void 0:j.manual_score_in)==null?void 0:S.toString())??"";if(!_||!u)return null;const h=parseInt(_),d=parseInt(u);return isNaN(h)||isNaN(d)?null:h+d},N=D=>{const F={};return D.forEach(j=>{const _=j.team_name||"Unknown Team";F[_]||(F[_]=[]),F[_].push(j)}),F},k=D=>{switch(C[D]||"idle"){case"saving":return e.jsx(De,{className:"h-4 w-4 text-blue-500 animate-spin"});case"saved":return e.jsx(Ys,{className:"h-4 w-4 text-green-500"});case"error":return e.jsx("div",{className:"h-4 w-4 rounded-full bg-red-500 flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-bold",children:"!"})});default:return null}};if(r||i)return e.jsx("div",{className:"p-6",children:"Loading..."});if(!a)return e.jsx("div",{className:"p-6",children:"Competition not found"});const p=o==null?void 0:o.find(D=>D.id===a.course_id),L=n?N(n):{};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs(U,{to:"/admin/competitions",className:"flex items-center gap-1 text-blue-600 hover:text-blue-700",children:[e.jsx(rs,{className:"h-4 w-4"}),"Back to Competitions"]})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Manual Score Entry"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:[a.name,"  ",(p==null?void 0:p.name)||"Unknown Course"," "," ",a.date]}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:w?"Enter OUT, IN, and TOTAL scores for each participant. Changes are automatically saved after you stop typing.":"Enter TOTAL scores for each participant. Changes are automatically saved after you stop typing."})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Team & Position"}),w&&e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"OUT"}),w&&e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"IN"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"TOTAL"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.entries(L).map(([D,F])=>F.map(j=>{var _,u,h,d,y,x;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:D}),e.jsx("div",{className:"text-sm text-gray-500",children:j.position_name})]})}),w&&e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("input",{type:"number",min:"0",value:((_=c[j.id])==null?void 0:_.out)??((u=j.manual_score_out)==null?void 0:u.toString())??"",onChange:S=>b(j.id,"out",S.target.value),className:"w-16 px-2 py-1 text-center border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:""})}),w&&e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("input",{type:"number",min:"0",value:((h=c[j.id])==null?void 0:h.in)??((d=j.manual_score_in)==null?void 0:d.toString())??"",onChange:S=>b(j.id,"in",S.target.value),className:"w-16 px-2 py-1 text-center border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:""})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:w?e.jsx("div",{className:"w-16 px-2 py-1 text-center bg-gray-50 border border-gray-200 rounded text-gray-700 font-medium",children:P(j.id)||""}):e.jsx("input",{type:"number",min:"0",value:((y=c[j.id])==null?void 0:y.total)??((x=j.manual_score_total)==null?void 0:x.toString())??"",onChange:S=>b(j.id,"total",S.target.value),className:"w-20 px-2 py-1 text-center border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:""})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("div",{className:"flex justify-center",children:k(j.id)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("button",{onClick:()=>T(j.id),disabled:C[j.id]==="saving",className:"inline-flex items-center gap-1 px-2 py-1 text-sm text-red-600 hover:text-red-700 hover:bg-red-50 rounded disabled:opacity-50 disabled:cursor-not-allowed",title:"Clear all manual scores for this participant",children:[e.jsx(ze,{className:"h-3 w-3"}),"Clear"]})})]},j.id)}))})]})}),(!n||n.length===0)&&e.jsx("div",{className:"px-6 py-8 text-center text-gray-500",children:"No participants found for this competition."})]})]})}const Kr=[{to:"/player/competitions",label:"Competitions",icon:Qt},{to:"/player/series",label:"Series",icon:W}];function Br(){const{location:s}=Zs();return s.pathname.endsWith("/player")||s.pathname.endsWith("/player/")||s.pathname.endsWith("/player/competitions")||s.pathname.endsWith("/player/series")||s.pathname.includes("/competitions/")&&(s.pathname.includes("/tee-times/")||s.pathname.match(/\/competitions\/\d+$/))||s.pathname.match(/\/series\/\d+/)?e.jsx(ts,{}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-scorecard to-rough",children:[e.jsx("div",{className:"bg-fairway text-scorecard shadow-[0_2px_8px_rgba(27,67,50,0.15)]",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex items-center justify-center h-16",children:e.jsx(Ts,{size:"md",variant:"color",layout:"horizontal"})})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-scorecard rounded-xl p-6 shadow-[0_2px_8px_rgba(27,67,50,0.08)] border-2 border-soft-grey",children:[e.jsx("div",{className:"border-b-2 border-soft-grey",children:e.jsx("nav",{className:"flex space-x-8",children:Kr.map(a=>{const r=s.pathname===a.to||a.to==="/player/series"&&s.pathname.startsWith("/player/series")||a.to==="/player/competitions"&&s.pathname.startsWith("/player/competitions"),n=a.icon;return e.jsxs(U,{to:a.to,className:`flex items-center gap-2 py-4 px-2 border-b-2 font-medium text-sm transition-all duration-200 font-['Inter']
                        ${r?"border-turf text-turf bg-gradient-to-b from-turf/10 to-turf/5":"border-transparent text-charcoal hover:text-turf hover:border-rough hover:bg-rough/30"}
                      `,children:[e.jsx(n,{className:"h-4 w-4"}),a.label]},a.to)})})}),e.jsx("div",{className:"mt-6 min-h-[60vh]",children:e.jsx(ts,{})})]})})})]})}const Qr="/golf-serie/tapscore_horizontal_large_transparent.png";function te({className:s=""}){return e.jsx("div",{className:`animate-pulse bg-gray-200 rounded ${s}`})}function Vr(){return e.jsx("div",{className:"py-8 border-b border-soft-grey",style:{backgroundColor:"var(--light-rough)"},children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 text-center",children:[...Array(4)].map((s,t)=>e.jsxs("div",{className:"space-y-2",children:[e.jsx(te,{className:"h-8 w-16 mx-auto"}),e.jsx(te,{className:"h-4 w-20 mx-auto"})]},t))})})})}function Gr(){return e.jsx("div",{className:"bg-fairway text-scorecard min-h-[60vh] flex items-center",style:{background:"linear-gradient(135deg, var(--fairway-green), var(--turf-green))"},children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"text-center max-w-4xl mx-auto space-y-6",children:[e.jsx(te,{className:"h-12 w-48 mx-auto bg-white/20"}),e.jsx(te,{className:"h-16 w-full max-w-2xl mx-auto bg-white/20"}),e.jsx(te,{className:"h-6 w-full max-w-3xl mx-auto bg-white/20"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(te,{className:"h-12 w-48 bg-white/20"}),e.jsx(te,{className:"h-12 w-32 bg-white/20"})]})]})})})}function Wr(){return e.jsx("div",{className:"py-16",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx(te,{className:"h-8 w-64 mx-auto mb-4"}),e.jsx(te,{className:"h-6 w-96 mx-auto"})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(3)].map((s,t)=>e.jsxs("div",{className:"bg-scorecard rounded-xl p-6 border border-soft-grey",children:[e.jsx(te,{className:"h-6 w-32 mb-4"}),e.jsx(te,{className:"h-8 w-full mb-2"}),e.jsx(te,{className:"h-4 w-3/4 mb-4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(te,{className:"h-4 w-full"}),e.jsx(te,{className:"h-2 w-full"}),e.jsx(te,{className:"h-3 w-1/2"})]})]},t))})]})})}function Jr({message:s,onRetry:t}){return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-scorecard to-rough flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[e.jsx(_e,{className:"h-16 w-16 text-flag mx-auto mb-4"}),e.jsx("h2",{className:"text-display-sm text-fairway mb-4",children:"Something went wrong"}),e.jsx("p",{className:"text-body-md text-charcoal mb-6",children:s}),t&&e.jsxs("button",{onClick:t,className:"inline-flex items-center gap-2 bg-coral hover:bg-[#E8890A] text-scorecard px-6 py-3 rounded-xl font-semibold transition-all duration-200 transform hover:scale-105",children:[e.jsx(Te,{className:"h-4 w-4"}),"Try Again"]})]})})}function Hr(){const{data:s,isLoading:t,error:a,refetch:r}=os(),{data:n,isLoading:i,error:o,refetch:l}=ht(),{data:c,isLoading:m}=Ie(),{liveCompetitions:C,upcomingCompetitions:v,recentCompetitions:w,stats:b}=$.useMemo(()=>{if(!s)return{liveCompetitions:[],upcomingCompetitions:[],recentCompetitions:[],stats:{totalCompetitions:0,activeSeries:0,totalParticipants:0,roundsScored:0}};const p=new Date,L=new Date(p.getFullYear(),p.getMonth(),p.getDate()),D=s.filter(h=>{const d=new Date(h.date);return new Date(d.getFullYear(),d.getMonth(),d.getDate()).getTime()===L.getTime()}),F=s.filter(h=>{const d=new Date(h.date);return new Date(d.getFullYear(),d.getMonth(),d.getDate()).getTime()>L.getTime()}).sort((h,d)=>new Date(h.date).getTime()-new Date(d.date).getTime()).slice(0,2),j=s.filter(h=>{const d=new Date(h.date);return new Date(d.getFullYear(),d.getMonth(),d.getDate()).getTime()<L.getTime()}).sort((h,d)=>new Date(d.date).getTime()-new Date(h.date).getTime()).slice(0,2),_=s.reduce((h,d)=>h+d.participant_count,0),u=Math.floor(_*1.5);return{liveCompetitions:D,upcomingCompetitions:F,recentCompetitions:j,stats:{totalCompetitions:s.length,activeSeries:(n==null?void 0:n.length)||0,totalParticipants:_,roundsScored:u}}},[s,n]),T=p=>c==null?void 0:c.find(L=>L.id===p),P=p=>{const L=new Date(p),D=new Date,F=L.getTime()-D.getTime(),j=Math.ceil(F/(1e3*60*60*24));return j<=0?"Today":j===1?"Tomorrow":`In ${j} days`},N=p=>{const L=new Date,D=new Date(L.getFullYear(),L.getMonth(),L.getDate()),F=new Date(p.date),j=new Date(F.getFullYear(),F.getMonth(),F.getDate()),_=!!p.series_id,u=j.getTime()===D.getTime(),h=j.getTime()<D.getTime(),d=j.getTime()>D.getTime();return _&&h?`/player/competitions/${p.id}?view=teams#teamresult`:u?`/player/competitions/${p.id}?view=teams#leaderboard`:d?`/player/competitions/${p.id}?view=teams#`:!_&&h?`/player/competitions/${p.id}?view=teams#leaderboard`:`/player/competitions/${p.id}?view=teams#`};if(a&&o)return e.jsx(Jr,{message:"Unable to load competitions and series data. Please check your connection and try again.",onRetry:()=>{r(),l()}});const k=t||i||m;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-scorecard to-rough",children:[k?e.jsx(Gr,{}):e.jsx("section",{className:"bg-fairway text-scorecard min-h-[60vh] flex items-center",style:{background:"linear-gradient(135deg, var(--fairway-green), var(--turf-green))"},children:e.jsx("div",{className:"container mx-auto px-4 py-8 sm:py-0",children:e.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("img",{src:Qr,alt:"TapScore Logo",className:"w-72 md:w-96 lg:w-[500px] h-auto"})})}),e.jsxs("h2",{className:"text-display-lg md:text-display-xl mb-6",style:{color:"var(--scorecard-white)"},children:["Golf Scoring",e.jsxs("span",{style:{color:"var(--sunset-coral)"},children:[" ","Made Simple"]})]}),e.jsx("p",{className:"text-body-lg md:text-body-xl mb-8 max-w-2xl mx-auto",style:{color:"var(--light-rough)"},children:"Digital scoring for golf competitions, series, and casual rounds. Real-time leaderboards, mobile-first scoring, and comprehensive statistics."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 sm:gap-4 justify-center mb-8 sm:mb-0 px-4 sm:px-0",children:[e.jsx(U,{to:"/player/series",className:"px-8 py-4 rounded-xl font-semibold text-lg transition-all duration-200 transform hover:scale-105 inline-flex items-center justify-center",style:{backgroundColor:"var(--sunset-coral)",color:"var(--scorecard-white)"},onMouseEnter:p=>p.target.style.backgroundColor="#E8890A",onMouseLeave:p=>p.target.style.backgroundColor="var(--sunset-coral)",children:"View Series"}),e.jsx(U,{to:"/player/competitions",className:"border-2 px-8 py-4 rounded-xl font-semibold text-lg transition-all duration-200 inline-flex items-center justify-center",style:{borderColor:"var(--scorecard-white)",color:"var(--scorecard-white)",backgroundColor:"transparent"},onMouseEnter:p=>{p.target.style.backgroundColor="var(--scorecard-white)",p.target.style.color="var(--fairway-green)"},onMouseLeave:p=>{p.target.style.backgroundColor="transparent",p.target.style.color="var(--scorecard-white)"},children:"Browse Competitions"})]})]})})}),k?e.jsx(Vr,{}):e.jsx("section",{className:"py-8 border-b border-soft-grey",style:{backgroundColor:"var(--light-rough)"},children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 text-center",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-display-md text-fairway",children:b.activeSeries}),e.jsx("div",{className:"text-label-sm text-charcoal/70 uppercase tracking-wide",children:"Active Series"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-display-md text-fairway",children:b.totalCompetitions}),e.jsx("div",{className:"text-label-sm text-charcoal/70 uppercase tracking-wide",children:"Total Competitions"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-display-md text-fairway",children:b.totalParticipants}),e.jsx("div",{className:"text-label-sm text-charcoal/70 uppercase tracking-wide",children:"Active Players"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-display-md text-fairway",children:b.roundsScored>1e3?`${(b.roundsScored/1e3).toFixed(1)}k`:b.roundsScored}),e.jsx("div",{className:"text-label-sm text-charcoal/70 uppercase tracking-wide",children:"Rounds Scored"})]})]})})}),k?e.jsx(Wr,{}):e.jsx("section",{className:"py-16",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h3",{className:"text-display-md text-charcoal mb-4",children:"Live Tournament Action"}),e.jsx("p",{className:"text-body-lg text-charcoal/70",children:"See what's happening right now in TapScore competitions"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:[C.map(p=>{const L=T(p.course_id);return e.jsxs(U,{to:N(p),className:"md:col-span-2 lg:col-span-1 bg-gradient-to-br from-scorecard to-rough/10 rounded-xl p-6 border border-soft-grey hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-3 h-3 bg-flag rounded-full animate-pulse"}),e.jsx("span",{className:"text-label-sm text-flag uppercase tracking-wide font-semibold",children:"Live Now"})]}),e.jsx("h4",{className:"text-body-xl font-bold text-charcoal mb-2",children:p.name}),e.jsxs("p",{className:"text-charcoal/70 mb-4",children:[p.participant_count," players "," ",(L==null?void 0:L.name)||"Golf Course"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-body-sm text-charcoal/60",children:"Status:"}),e.jsx("span",{className:"font-semibold text-turf",children:"In Progress"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-turf h-2 rounded-full",style:{width:"65%"}})}),e.jsx("div",{className:"text-label-xs text-charcoal/50",children:"Competition ongoing"})]})]},p.id)}),v.map(p=>{const L=T(p.course_id),D=P(p.date);return e.jsxs(U,{to:N(p),className:"bg-gradient-to-br from-scorecard to-rough/10 rounded-xl p-6 border border-soft-grey hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-8 h-8 bg-coral/10 rounded-full flex items-center justify-center",children:e.jsx(ie,{className:"h-4 w-4 text-coral"})}),e.jsx("span",{className:"text-label-sm text-coral uppercase tracking-wide font-semibold",children:D})]}),e.jsx("h4",{className:"text-body-lg font-bold text-charcoal mb-2",children:p.name}),e.jsxs("p",{className:"text-charcoal/70 mb-4",children:[p.participant_count," registered "," ",(L==null?void 0:L.name)||"Golf Course"]}),e.jsx("div",{className:"w-full bg-turf text-scorecard py-2 rounded-lg font-medium transition-colors text-center hover:bg-turf/90",children:"View Competition"})]},p.id)}),w.map(p=>e.jsxs(U,{to:N(p),className:"bg-gradient-to-br from-scorecard to-rough/10 rounded-xl p-6 border border-soft-grey hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-8 h-8 bg-turf/10 rounded-full flex items-center justify-center",children:e.jsx(Ys,{className:"h-4 w-4 text-turf"})}),e.jsx("span",{className:"text-label-sm text-turf uppercase tracking-wide font-semibold",children:"Completed"})]}),e.jsx("h4",{className:"text-body-lg font-bold text-charcoal mb-2",children:p.name}),e.jsxs("p",{className:"text-charcoal/70 mb-4",children:[p.participant_count," players "," ",new Date(p.date).toLocaleDateString()]}),e.jsx("div",{className:"space-y-1",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-body-sm",children:" Results Available"}),e.jsx(Se,{className:"h-4 w-4 text-charcoal/40"})]})})]},p.id)),!C.length&&!v.length&&!w.length&&e.jsxs("div",{className:"md:col-span-2 lg:col-span-3 text-center py-12",children:[e.jsx(ie,{className:"h-12 w-12 text-charcoal/40 mx-auto mb-4"}),e.jsx("h4",{className:"text-body-lg font-medium text-charcoal mb-2",children:"No competitions available"}),e.jsx("p",{className:"text-charcoal/70",children:"Check back later for upcoming golf competitions."})]})]})]})}),e.jsx("section",{className:"bg-gray-100 py-16",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h3",{className:"text-display-md text-charcoal mb-4",children:"Everything You Need"}),e.jsx("p",{className:"text-body-lg text-charcoal/70",children:"Powerful features for every type of golf competition"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-scorecard rounded-xl p-6 border border-soft-grey hover:shadow-lg transition-all duration-300 hover:-translate-y-1 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-sky/10 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Vt,{className:"h-6 w-6 text-sky"})}),e.jsx("h4",{className:"text-body-lg font-bold text-charcoal mb-2",children:"Mobile Scoring"}),e.jsx("p",{className:"text-charcoal/60 text-body-sm",children:"Real-time score entry optimized for mobile devices"})]}),e.jsxs("div",{className:"bg-scorecard rounded-xl p-6 border border-soft-grey hover:shadow-lg transition-all duration-300 hover:-translate-y-1 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-turf/10 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(W,{className:"h-6 w-6 text-turf"})}),e.jsx("h4",{className:"text-body-lg font-bold text-charcoal mb-2",children:"Live Leaderboards"}),e.jsx("p",{className:"text-charcoal/60 text-body-sm",children:"Follow the action with instant leaderboard updates"})]}),e.jsxs("div",{className:"bg-scorecard rounded-xl p-6 border border-soft-grey hover:shadow-lg transition-all duration-300 hover:-translate-y-1 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-coral/10 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Gt,{className:"h-6 w-6 text-coral"})}),e.jsx("h4",{className:"text-body-lg font-bold text-charcoal mb-2",children:"Series Management"}),e.jsx("p",{className:"text-charcoal/60 text-body-sm",children:"Organize multi-event series with point systems"})]}),e.jsxs("div",{className:"bg-scorecard rounded-xl p-6 border border-soft-grey hover:shadow-lg transition-all duration-300 hover:-translate-y-1 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-coral/10 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Wt,{className:"h-6 w-6 text-coral"})}),e.jsx("h4",{className:"text-body-lg font-bold text-charcoal mb-2",children:"Statistics"}),e.jsx("p",{className:"text-charcoal/60 text-body-sm",children:"Comprehensive performance tracking and analytics"})]})]})]})}),e.jsx("section",{className:"py-16",style:{background:"linear-gradient(135deg, var(--fairway-green), var(--turf-green))"},children:e.jsxs("div",{className:"container mx-auto px-4 text-center",children:[e.jsx("h3",{className:"text-display-md mb-4",style:{color:"var(--scorecard-white)"},children:"Ready to Improve Your Golf Experience?"}),e.jsx("p",{className:"text-body-xl mb-8 max-w-2xl mx-auto",style:{color:"var(--light-rough)"},children:"Join thousands of golfers using TapScore for better tournament management"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(U,{to:"/player/series",className:"px-8 py-4 rounded-xl font-semibold text-lg transition-all duration-200 transform hover:scale-105 inline-flex items-center justify-center",style:{backgroundColor:"var(--sunset-coral)",color:"var(--scorecard-white)"},children:"Get Started Today"}),e.jsx(U,{to:"/player/competitions",className:"border-2 px-8 py-4 rounded-xl font-semibold text-lg transition-all duration-200 inline-flex items-center justify-center",style:{borderColor:"var(--scorecard-white)",color:"var(--scorecard-white)",backgroundColor:"transparent"},children:"Learn More"})]})]})})]})}function Yr(){const{isLoading:s}=Dr(),{data:t,isLoading:a}=os();if(s||a)return e.jsx("div",{children:"Loading standings..."});const r=[{participantId:1,participantName:"John Smith",totalScore:285,competitionsPlayed:4,averageScore:71.25,bestScore:68,position:1},{participantId:2,participantName:"Sarah Johnson",totalScore:292,competitionsPlayed:4,averageScore:73,bestScore:70,position:2},{participantId:3,participantName:"Mike Wilson",totalScore:298,competitionsPlayed:4,averageScore:74.5,bestScore:72,position:3},{participantId:4,participantName:"Emma Davis",totalScore:305,competitionsPlayed:4,averageScore:76.25,bestScore:74,position:4},{participantId:5,participantName:"Tom Brown",totalScore:312,competitionsPlayed:4,averageScore:78,bestScore:75,position:5}],n=o=>{switch(o){case 1:return e.jsx(W,{className:"h-5 w-5 text-yellow-500"});case 2:return e.jsx(ys,{className:"h-5 w-5 text-gray-400"});case 3:return e.jsx(ss,{className:"h-5 w-5 text-amber-600"});default:return e.jsxs("span",{className:"text-gray-500 font-medium",children:["#",o]})}},i=o=>{switch(o){case 1:return"bg-gradient-to-r from-yellow-50 to-yellow-100 border-yellow-200";case 2:return"bg-gradient-to-r from-gray-50 to-gray-100 border-gray-200";case 3:return"bg-gradient-to-r from-amber-50 to-amber-100 border-amber-200";default:return"bg-white border-gray-200"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(es,{className:"h-6 w-6 text-green-600"}),"General Standings"]}),e.jsx("p",{className:"text-gray-600",children:"Overall performance across all competitions"})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Based on ",(t==null?void 0:t.length)||0," competitions"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"h-5 w-5 text-yellow-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total Players"})]}),e.jsx("div",{className:"text-2xl font-bold text-gray-900 mt-1",children:r.length})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ys,{className:"h-5 w-5 text-blue-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Avg Score"})]}),e.jsx("div",{className:"text-2xl font-bold text-gray-900 mt-1",children:(r.reduce((o,l)=>o+l.averageScore,0)/r.length).toFixed(1)})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ss,{className:"h-5 w-5 text-green-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Best Score"})]}),e.jsx("div",{className:"text-2xl font-bold text-gray-900 mt-1",children:Math.min(...r.map(o=>o.bestScore))})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(es,{className:"h-5 w-5 text-purple-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Competitions"})]}),e.jsx("div",{className:"text-2xl font-bold text-gray-900 mt-1",children:(t==null?void 0:t.length)||0})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Leaderboard"})}),e.jsx("div",{className:"divide-y divide-gray-200",children:r.map(o=>e.jsx("div",{className:`px-6 py-4 ${i(o.position)} border-l-4`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8",children:n(o.position)}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:o.participantName}),e.jsxs("p",{className:"text-sm text-gray-600",children:[o.competitionsPlayed," competitions played"]})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"grid grid-cols-3 gap-6 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-600",children:"Total Score"}),e.jsx("div",{className:"font-semibold text-gray-900",children:o.totalScore})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-600",children:"Average"}),e.jsx("div",{className:"font-semibold text-gray-900",children:o.averageScore.toFixed(1)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-600",children:"Best"}),e.jsx("div",{className:"font-semibold text-green-600",children:o.bestScore})]})]})})]})},o.participantId))})]})]})}function ce({title:s,showBackButton:t=!0,onBackClick:a,children:r,className:n="",seriesId:i,seriesName:o}){const l=()=>{a?a():window.history.back()};return e.jsx("header",{className:`bg-fairway text-scorecard shadow-lg ${n}`,children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex items-center gap-4 h-16",children:[t&&e.jsx("button",{onClick:l,className:"p-2 hover:bg-turf rounded-lg transition-colors","aria-label":"Go back",children:e.jsx(rs,{className:"h-5 w-5"})}),e.jsx(Ts,{size:"md",variant:"color",layout:"horizontal"}),s&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-px h-6 bg-scorecard/30"}),e.jsxs("div",{className:"min-w-0 flex-1 flex items-center gap-2",children:[e.jsx("h1",{className:"text-body-lg font-semibold text-scorecard font-display truncate",children:s}),i&&e.jsx(U,{to:"/player/series/$serieId",params:{serieId:i.toString()},title:`View Series: ${o||""}`,className:"p-1.5 hover:bg-turf rounded-lg transition-colors flex-shrink-0",children:e.jsx(W,{className:"h-4 w-4 text-coral"})})]})]}),r&&e.jsx("div",{className:"ml-auto",children:r})]})})})}function Xr(){return e.jsx("div",{className:"bg-scorecard rounded-xl border border-soft-grey overflow-hidden animate-pulse",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-16 h-16 bg-soft-grey rounded-xl flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0 space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsx("div",{className:"h-6 bg-soft-grey rounded w-48"}),e.jsx("div",{className:"h-6 bg-soft-grey rounded w-20"})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"h-4 bg-soft-grey rounded w-32"}),e.jsx("div",{className:"h-4 bg-soft-grey rounded w-28"}),e.jsx("div",{className:"h-4 bg-soft-grey rounded w-24"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"h-4 bg-soft-grey rounded w-40"}),e.jsx("div",{className:"h-10 bg-soft-grey rounded w-32"})]})]})]})})})}function Zr(){return e.jsxs("div",{className:"bg-scorecard rounded-xl border shadow-lg overflow-hidden animate-pulse",children:[e.jsx("div",{className:"h-48 bg-soft-grey relative"}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"md:col-span-2 space-y-4",children:[e.jsx("div",{className:"h-6 bg-soft-grey rounded w-32"}),e.jsx("div",{className:"space-y-2",children:[1,2,3].map(s=>e.jsxs("div",{className:"flex justify-between p-3 rounded-lg animate-pulse",style:{backgroundColor:"rgba(206, 212, 218, 0.3)"},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-6 h-6 bg-soft-grey rounded-full"}),e.jsx("div",{className:"h-4 bg-soft-grey rounded w-24"})]}),e.jsx("div",{className:"h-4 bg-soft-grey rounded w-8"})]},s))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-6 bg-soft-grey rounded w-40"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-2 bg-soft-grey rounded w-full"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"h-4 bg-soft-grey rounded w-20"}),e.jsx("div",{className:"h-4 bg-soft-grey rounded w-24"})]}),e.jsx("div",{className:"h-10 bg-soft-grey rounded w-full"})]})]})]})})]})}function en(){const{data:s,isLoading:t,error:a}=os(),{data:r}=Ie(),[n,i]=$.useState("all"),[o,l]=$.useState(""),c=b=>r==null?void 0:r.find(T=>T.id===b),m=b=>{const T=new Date(b),P=new Date,N=T.getTime()-P.getTime(),k=Math.ceil(N/(1e3*60*60*24));return k<0?{status:"completed",label:"Completed",color:"text-scorecard",bgColor:"bg-charcoal",gradientClass:"bg-gradient-to-br from-charcoal to-gray-600"}:k===0?{status:"live",label:"Live",color:"text-scorecard",bgColor:"bg-flag",gradientClass:"bg-gradient-to-br from-flag to-red-600"}:k<=7?{status:"upcoming",label:`In ${k===1?"1 day":`${k} days`}`,daysText:`IN ${k} DAY${k>1?"S":""}`,color:"text-scorecard",bgColor:"bg-coral",gradientClass:"bg-gradient-to-br from-coral to-orange-600"}:{status:"upcoming",label:"Upcoming",daysText:"UPCOMING",color:"text-scorecard",bgColor:"bg-coral",gradientClass:"bg-gradient-to-br from-coral to-orange-600"}},{filteredCompetitions:C,competitionStats:v,liveCompetitions:w}=$.useMemo(()=>{if(!s)return{filteredCompetitions:[],competitionStats:{all:0,upcoming:0,live:0,completed:0},liveCompetitions:[]};const b=[],T=[],P=[];s.forEach(p=>{const L=m(p.date).status;L==="live"?b.push(p):L==="upcoming"?T.push(p):L==="completed"&&P.push(p)});const N={all:s.length,upcoming:T.length,live:b.length,completed:P.length};let k=s;if(n!=="all"&&(k=k.filter(p=>m(p.date).status===n)),o.trim()){const p=o.toLowerCase();k=k.filter(L=>{var D;return L.name.toLowerCase().includes(p)||((D=c(L.course_id))==null?void 0:D.name.toLowerCase().includes(p))})}return{filteredCompetitions:k,competitionStats:N,liveCompetitions:b}},[s,n,o,c]);return t?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-scorecard border-b shadow-sm",children:e.jsxs("div",{className:"py-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-8 bg-soft-grey rounded w-48 animate-pulse"}),e.jsx("div",{className:"h-4 bg-soft-grey rounded w-64 animate-pulse"})]}),e.jsx("div",{className:"h-4 bg-soft-grey rounded w-32 animate-pulse"})]}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[1,2,3,4].map(b=>e.jsx("div",{className:"h-10 bg-soft-grey rounded-full w-24 animate-pulse"},b))})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-6 bg-soft-grey rounded w-32 animate-pulse"}),e.jsx(Zr,{})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"h-6 bg-soft-grey rounded w-40 animate-pulse"}),e.jsx("div",{className:"grid gap-6",children:[1,2,3].map(b=>e.jsx(Xr,{},b))})]})]}):a?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-flag mb-4",children:e.jsx(W,{className:"h-12 w-12 mx-auto"})}),e.jsx("h3",{className:"text-lg font-medium text-fairway mb-2 font-display",children:"Error loading competitions"}),e.jsx("p",{className:"text-turf font-primary",children:"Please try refreshing the page or check your connection."})]}):e.jsxs("div",{className:"min-h-screen bg-scorecard",children:[e.jsx(ce,{}),e.jsx("div",{className:"bg-scorecard border-b shadow-sm",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"py-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-charcoal font-display",children:"Competitions"}),e.jsx("p",{className:"mt-1 text-charcoal opacity-70 font-primary",children:"Browse and join golf competitions"})]}),e.jsxs("div",{className:"text-sm text-turf font-primary",children:[v.all," competitions available"]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative max-w-md",children:[e.jsx(qe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-turf"}),e.jsx("input",{type:"text",placeholder:"Search competitions or courses...",value:o,onChange:b=>l(b.target.value),className:"w-full pl-10 pr-4 py-2 border border-soft-grey rounded-lg focus:outline-none focus:ring-2 focus:ring-turf focus:border-turf font-primary"})]})}),e.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[e.jsxs("button",{onClick:()=>i("all"),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors font-primary ${n==="all"?"bg-turf text-scorecard":"border border-soft-grey text-charcoal hover:bg-rough hover:bg-opacity-20"}`,children:["All"," ",e.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs ${n==="all"?"bg-scorecard bg-opacity-20 text-scorecard":"bg-soft-grey text-charcoal"}`,children:v.all})]}),e.jsxs("button",{onClick:()=>i("upcoming"),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors font-primary ${n==="upcoming"?"bg-turf text-scorecard":"border border-soft-grey text-charcoal hover:bg-rough hover:bg-opacity-20"}`,children:["Upcoming"," ",e.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs ${n==="upcoming"?"bg-scorecard bg-opacity-20 text-scorecard":"bg-soft-grey text-charcoal"}`,children:v.upcoming})]}),e.jsxs("button",{onClick:()=>i("live"),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors font-primary ${n==="live"?"bg-turf text-scorecard":"border border-soft-grey text-charcoal hover:bg-rough hover:bg-opacity-20"}`,children:["Live"," ",e.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs ${n==="live"?"bg-scorecard bg-opacity-20 text-scorecard":"bg-soft-grey text-charcoal"}`,children:v.live})]}),e.jsxs("button",{onClick:()=>i("completed"),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors font-primary ${n==="completed"?"bg-turf text-scorecard":"border border-soft-grey text-charcoal hover:bg-rough hover:bg-opacity-20"}`,children:["Completed"," ",e.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs ${n==="completed"?"bg-scorecard bg-opacity-20 text-scorecard":"bg-soft-grey text-charcoal"}`,children:v.completed})]})]})]})})}),e.jsxs("main",{className:"container mx-auto px-4 py-6",children:[w.length>0&&n!=="completed"&&n!=="upcoming"&&e.jsx("div",{className:"mb-8",children:e.jsx(sn,{liveCompetitions:w,courses:r})}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-charcoal font-display",children:n==="all"?"All Competitions":n==="live"?"Live Competitions":n==="upcoming"?"Upcoming Competitions":"Completed Competitions"}),C.length===0?e.jsx(rn,{statusFilter:n,searchQuery:o}):e.jsx("div",{className:"grid gap-6",children:C.map(b=>e.jsx(an,{competition:b,course:c(b.course_id),status:m(b.date)},b.id))})]})]})]})}function sn({liveCompetitions:s,courses:t}){const a=s[0],r=t==null?void 0:t.find(n=>n.id===a.course_id);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-charcoal font-display flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-flag rounded-full animate-pulse"}),"Live Now"]}),e.jsx(tn,{competition:a,course:r})]})}function tn({competition:s,course:t}){var n;const{data:a,isLoading:r}=wt(s.id);return e.jsxs("div",{className:"bg-scorecard rounded-xl border shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"h-48 bg-gradient-to-br from-turf to-fairway relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0",style:{backgroundColor:"rgba(28, 28, 30, 0.2)"}}),e.jsx("div",{className:"absolute top-4 left-4",children:e.jsxs("span",{className:"bg-gradient-to-br from-flag to-red-600 text-scorecard text-xs font-semibold px-3 py-1 rounded-full flex items-center gap-1 font-primary",children:[e.jsx("div",{className:"w-2 h-2 bg-scorecard rounded-full animate-pulse"}),"LIVE"]})}),e.jsxs("div",{className:"absolute bottom-4 left-4 text-scorecard",children:[e.jsx("h3",{className:"text-2xl font-bold font-display",children:s.name}),e.jsxs("p",{className:"opacity-90 font-primary",children:[t==null?void 0:t.name,"  Par ",((n=t==null?void 0:t.pars)==null?void 0:n.total)||72]})]}),e.jsxs("div",{className:"absolute bottom-4 right-4 text-scorecard text-right",children:[e.jsx("div",{className:"text-3xl font-bold font-display",children:s.participant_count}),e.jsx("div",{className:"text-sm opacity-90 font-primary",children:"Players"})]})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("h4",{className:"font-semibold text-charcoal mb-3 font-display",children:"Live Leaderboard"}),r?e.jsx("div",{className:"space-y-2",children:[1,2,3].map(i=>e.jsxs("div",{className:"flex justify-between p-3 rounded-lg animate-pulse",style:{backgroundColor:"rgba(206, 212, 218, 0.3)"},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-6 h-6 bg-soft-grey rounded-full"}),e.jsx("div",{className:"h-4 bg-soft-grey rounded w-24"})]}),e.jsx("div",{className:"h-4 bg-soft-grey rounded w-8"})]},i))}):a&&a.length>0?e.jsx("div",{className:"space-y-2",children:a.slice(0,3).map((i,o)=>e.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg ${o===0?"bg-yellow-50 border border-yellow-200":o===1?"bg-gray-50 border border-gray-200":"bg-orange-50 border border-orange-200"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-scorecard text-xs font-bold ${o===0?"bg-yellow-500":o===1?"bg-gray-400":"bg-orange-500"}`,children:o+1}),e.jsxs("span",{className:"font-medium text-charcoal font-primary",children:[i.participant.team_name," ",i.participant.position_name]})]}),e.jsx("span",{className:`font-bold ${i.relativeToPar<0?"text-turf":i.relativeToPar===0?"text-charcoal":"text-flag"} font-display`,children:i.relativeToPar===0?"E":i.relativeToPar>0?`+${i.relativeToPar}`:i.relativeToPar})]},i.participant.id))}):e.jsx("div",{className:"text-center py-4 text-turf font-primary",children:"No scores reported yet"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-charcoal mb-3 font-display",children:"Tournament Progress"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm text-turf mb-1 font-primary",children:[e.jsx("span",{children:"Completion"}),e.jsx("span",{children:"65%"})]}),e.jsx("div",{className:"w-full bg-soft-grey rounded-full h-2",children:e.jsx("div",{className:"bg-turf h-2 rounded-full",style:{width:"65%"}})})]}),e.jsxs("div",{className:"text-sm text-turf font-primary",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Started:"}),e.jsx("span",{children:new Date(s.date).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Est. Finish:"}),e.jsx("span",{children:"15:30"})]})]}),e.jsxs(U,{to:`/player/competitions/${s.id}`,className:"w-full bg-turf text-scorecard py-2 rounded-lg font-medium hover:bg-fairway transition-colors text-center block font-primary",children:[e.jsx(as,{className:"inline w-4 h-4 mr-2"}),"Watch Live"]})]})]})]})})]})}function an({competition:s,course:t,status:a}){var c;const{data:r}=wt(s.id),n=m=>{switch(m){case"live":return"";case"upcoming":return"";case"completed":return"";default:return""}},i=()=>a.status==="live"?`/player/competitions/${s.id}?view=teams#leaderboard`:a.status==="completed"?`/player/competitions/${s.id}?view=teams#teamresult`:`/player/competitions/${s.id}?view=teams#`,l=a.status==="live"?{text:"Watch Live",icon:as,className:"bg-flag hover:bg-red-600"}:a.status==="completed"?{text:"View Results",icon:W,className:"bg-turf hover:bg-fairway"}:{text:"Join Competition",icon:G,className:"bg-coral hover:bg-orange-600"};return e.jsx("div",{className:"bg-scorecard rounded-xl border border-soft-grey overflow-hidden hover:shadow-lg hover:-translate-y-1 hover:border-turf transition-all duration-300",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`w-16 h-16 ${a.gradientClass} rounded-xl flex items-center justify-center flex-shrink-0`,children:e.jsx("span",{className:"text-2xl",children:n(a.status)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 mb-3",children:[e.jsx("h3",{className:"text-xl font-bold text-charcoal font-display",children:s.name}),e.jsx("span",{className:`${a.color} ${a.bgColor} text-xs font-semibold px-3 py-1 rounded-full font-primary`,children:a.daysText||a.label})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-charcoal opacity-70 font-primary",children:[e.jsx(ie,{className:"w-4 h-4"}),new Date(s.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-charcoal opacity-70 font-primary",children:[e.jsx(ws,{className:"w-4 h-4"}),(t==null?void 0:t.name)||"Course TBD"]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-charcoal opacity-70 font-primary",children:[e.jsx(G,{className:"w-4 h-4"}),s.participant_count," participants"]})]}),(a.status==="completed"||a.status==="live")&&r&&r.length>0&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[e.jsx("h4",{className:"font-medium text-charcoal mb-3 font-display",children:a.status==="completed"?"Final Results":"Live Leaderboard"}),e.jsx("div",{className:"space-y-2",children:r.slice(0,3).map((m,C)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`${C===0?"text-yellow-500":C===1?"text-gray-400":"text-orange-500"}`,children:C===0?"":C===1?"":""}),e.jsxs("span",{className:"text-sm font-medium font-primary",children:[m.participant.team_name," ",m.participant.position_name]})]}),e.jsx("span",{className:`text-sm font-bold ${a.status==="completed"||m.relativeToPar<0?"text-turf":m.relativeToPar===0?"text-charcoal":"text-flag"} font-display`,children:a.status==="completed"?`${m.totalShots} pts`:m.relativeToPar===0?"E":m.relativeToPar>0?`+${m.relativeToPar}`:m.relativeToPar})]},m.participant.id))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-charcoal font-primary",children:[e.jsx("span",{className:"font-medium",children:"Course:"})," Par"," ",((c=t==null?void 0:t.pars)==null?void 0:c.total)||72,"  18 holes"]}),e.jsxs(U,{to:i(),className:`${l.className} text-scorecard px-6 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 font-primary`,children:[e.jsx(l.icon,{className:"w-4 h-4"}),l.text]})]})]})]})})})}function rn({statusFilter:s,searchQuery:t}){if(t.trim())return e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-turf mb-4",children:e.jsx(qe,{className:"h-12 w-12 mx-auto"})}),e.jsx("h3",{className:"text-lg font-medium text-fairway mb-2 font-display",children:"No competitions found"}),e.jsx("p",{className:"text-turf font-primary",children:"Try adjusting your search or filter criteria."})]});const r={all:{icon:ie,title:"No competitions available",message:"Check back later for upcoming golf competitions."},upcoming:{icon:ie,title:"No upcoming competitions",message:"All competitions have either started or finished."},live:{icon:W,title:"No live competitions",message:"No competitions are currently in progress."},completed:{icon:ss,title:"No completed competitions",message:"No competitions have finished yet."}}[s],n=r.icon;return e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-turf mb-4",children:e.jsx(n,{className:"h-12 w-12 mx-auto"})}),e.jsx("h3",{className:"text-lg font-medium text-fairway mb-2 font-display",children:r.title}),e.jsx("p",{className:"text-turf font-primary",children:r.message})]})}function nn(){return e.jsxs("div",{className:"bg-scorecard rounded-xl border border-soft-grey overflow-hidden",children:[e.jsx("div",{className:"h-32 bg-soft-grey animate-pulse"}),e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsx("div",{className:"h-4 bg-soft-grey rounded animate-pulse"}),e.jsx("div",{className:"h-3 bg-soft-grey rounded w-3/4 animate-pulse"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-2 bg-soft-grey rounded animate-pulse"}),e.jsx("div",{className:"h-2 bg-soft-grey rounded w-1/2 animate-pulse"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("div",{className:"h-8 bg-soft-grey rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-soft-grey rounded animate-pulse"})]})]})]})}function on(){return e.jsxs("div",{className:"bg-scorecard rounded-xl border border-soft-grey overflow-hidden",children:[e.jsx("div",{className:"h-48 bg-soft-grey animate-pulse"}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-5 bg-soft-grey rounded animate-pulse"}),e.jsx("div",{className:"space-y-2",children:[1,2,3].map(s=>e.jsx("div",{className:"h-12 bg-soft-grey rounded animate-pulse"},s))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-5 bg-soft-grey rounded animate-pulse"}),e.jsx("div",{className:"space-y-2",children:[1,2,3].map(s=>e.jsx("div",{className:"h-4 bg-soft-grey rounded animate-pulse"},s))}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-8 bg-soft-grey rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-soft-grey rounded animate-pulse"})]})]})]})})]})}function ln(){const[s,t]=$.useState(""),{data:a,isLoading:r,error:n}=ht(),i=$.useMemo(()=>{if(!a)return{totalSeries:0,activeSeries:0,totalTeams:0,totalPlayers:0};const m=a.filter(C=>C.is_public).length;return{totalSeries:a.length,activeSeries:m,totalTeams:0,totalPlayers:0}},[a]),o=$.useMemo(()=>a?a.map(m=>({...m,teamCount:0})):[],[a]),l=o.filter(m=>m.name.toLowerCase().includes(s.toLowerCase())||m.description&&m.description.toLowerCase().includes(s.toLowerCase())),c=o.find(m=>m.is_public);return r?e.jsxs("div",{className:"min-h-screen bg-scorecard",children:[e.jsx(ce,{}),e.jsx("div",{className:"text-scorecard py-12",style:{background:"linear-gradient(135deg, var(--fairway-green), var(--turf-green))"},children:e.jsxs("div",{className:"container mx-auto px-4 text-center",children:[e.jsx("div",{className:"h-8 rounded mx-auto mb-4 w-64 animate-pulse",style:{backgroundColor:"rgba(248, 249, 250, 0.2)"}}),e.jsx("div",{className:"h-6 rounded mx-auto mb-8 w-96 animate-pulse",style:{backgroundColor:"rgba(248, 249, 250, 0.2)"}}),e.jsx("div",{className:"grid grid-cols-3 gap-6 max-w-md mx-auto",children:[1,2,3].map(m=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"h-8 rounded mb-2 animate-pulse",style:{backgroundColor:"rgba(248, 249, 250, 0.2)"}}),e.jsx("div",{className:"h-4 rounded animate-pulse",style:{backgroundColor:"rgba(248, 249, 250, 0.2)"}})]},m))})]})}),e.jsxs("main",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"h-6 bg-soft-grey rounded mb-6 w-48 animate-pulse"}),e.jsx(on,{})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"h-6 bg-soft-grey rounded w-32 animate-pulse"}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(m=>e.jsx(nn,{},m))})]})]})]}):n?e.jsxs("div",{className:"min-h-screen bg-scorecard",children:[e.jsx(ce,{}),e.jsx("main",{className:"container mx-auto px-4 py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Jt,{className:"h-16 w-16 text-flag mx-auto mb-6"}),e.jsx("h2",{className:"text-2xl font-bold text-charcoal mb-4 font-display",children:"Error Loading Series"}),e.jsx("p",{className:"text-charcoal opacity-70 mb-8 font-primary",children:"Unable to load golf series. Please try again later."}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-turf text-scorecard px-6 py-3 rounded-lg font-medium hover:bg-fairway transition-colors font-primary",children:"Try Again"})]})})]}):e.jsxs("div",{className:"min-h-screen bg-scorecard",children:[e.jsx(ce,{}),e.jsx("div",{className:"text-scorecard py-12 relative",style:{background:"linear-gradient(135deg, var(--fairway-green), var(--turf-green))"},children:e.jsxs("div",{className:"container mx-auto px-4 text-center relative z-10",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4 font-display",children:"Golf Series"}),e.jsx("p",{className:"text-xl opacity-90 mb-8 font-primary",children:"Discover competitive golf series and track your team's progress"}),e.jsxs("div",{className:"grid grid-cols-3 gap-6 max-w-md mx-auto",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold font-display",children:i.activeSeries}),e.jsx("div",{className:"text-sm opacity-90 font-primary",children:"Active Series"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold font-display",children:i.totalTeams}),e.jsx("div",{className:"text-sm opacity-90 font-primary",children:"Total Teams"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold font-display",children:i.totalPlayers}),e.jsx("div",{className:"text-sm opacity-90 font-primary",children:"Total Players"})]})]})]})}),e.jsxs("main",{className:"container mx-auto px-4 py-8",children:[c&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-xl font-bold font-display mb-6 text-charcoal flex items-center gap-2",children:[e.jsx(Ht,{className:"w-5 h-5 text-coral"}),"Featured Series"]}),e.jsx(cn,{series:c})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold font-display text-charcoal",children:"All Series"}),e.jsxs("div",{className:"text-sm text-turf font-primary",children:[l.length," series available"]})]}),e.jsx("div",{className:"max-w-md",children:e.jsxs("div",{className:"relative",children:[e.jsx(G,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-turf"}),e.jsx("input",{type:"text",placeholder:"Search series...",value:s,onChange:m=>t(m.target.value),className:"w-full pl-10 pr-4 py-2 border border-soft-grey rounded-lg focus:outline-none focus:ring-2 focus:ring-turf focus:border-turf font-primary"})]})}),l.length===0?e.jsx(mn,{searchQuery:s}):e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(m=>e.jsx(dn,{series:m},m.id))})]}),e.jsx("div",{className:"mt-16 text-center",children:e.jsxs("div",{className:"text-scorecard rounded-xl p-8 mx-4",style:{background:"linear-gradient(135deg, var(--fairway-green), var(--turf-green))"},children:[e.jsx("h3",{className:"text-2xl font-bold mb-4 font-display",children:"Want to create your own series?"}),e.jsx("p",{className:"text-lg text-scorecard mb-6 font-primary",children:"TapScore makes it easy to organize and manage golf series for your club or group"}),e.jsxs("button",{className:"bg-coral text-scorecard px-8 py-3 rounded-lg font-semibold hover:bg-orange-600 transition-colors flex items-center gap-2 mx-auto font-primary",children:[e.jsx(Yt,{className:"w-5 h-5"}),"Contact Us"]})]})})]})]})}function cn({series:s}){var o,l;const{data:t}=ns(s.id),{data:a}=Ke(s.id),r=a==null?void 0:a[0],n=((o=t==null?void 0:t.team_standings)==null?void 0:o.slice(0,3))||[],i=((l=t==null?void 0:t.team_standings)==null?void 0:l.length)||0;return e.jsxs("div",{className:"bg-scorecard rounded-xl border border-soft-grey overflow-hidden shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all duration-300",children:[e.jsx("div",{className:"relative",children:s.banner_image_url?e.jsxs("div",{className:"h-48 relative overflow-hidden",children:[e.jsx("img",{src:s.banner_image_url,alt:s.name,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0",style:{backgroundColor:"rgba(0, 0, 0, 0.4)"}}),e.jsx("div",{className:"absolute top-4 left-4",children:e.jsxs("span",{className:"bg-scorecard text-coral text-xs font-semibold px-3 py-1 rounded-full flex items-center gap-1 font-primary shadow-lg",children:[e.jsx(W,{className:"w-3 h-3"}),"FEATURED"]})}),e.jsxs("div",{className:"absolute bottom-4 left-4 text-scorecard",children:[e.jsx("h3",{className:"text-2xl font-bold font-display",children:s.name}),e.jsx("p",{className:"opacity-90 font-primary",children:s.description||"Championship series"})]}),e.jsxs("div",{className:"absolute bottom-4 right-4 text-scorecard text-right",children:[e.jsx("div",{className:"text-3xl font-bold font-display",children:i}),e.jsx("div",{className:"text-sm opacity-90 font-primary",children:"Teams"})]})]}):e.jsxs("div",{className:"h-48 relative",style:{background:"linear-gradient(135deg, var(--sunset-coral), #ea580c)"},children:[e.jsx("div",{className:"absolute top-4 left-4",children:e.jsxs("span",{className:"text-xs font-semibold px-3 py-1 rounded-full flex items-center gap-1 font-primary shadow-lg",style:{backgroundColor:"rgba(248, 249, 250, 0.9)",color:"var(--sunset-coral)"},children:[e.jsx(W,{className:"w-3 h-3"}),"FEATURED"]})}),e.jsxs("div",{className:"absolute bottom-4 left-4 text-scorecard",children:[e.jsx("h3",{className:"text-2xl font-bold font-display",children:s.name}),e.jsx("p",{className:"opacity-90 font-primary",children:s.description||"Championship series"})]}),e.jsxs("div",{className:"absolute bottom-4 right-4 text-scorecard text-right",children:[e.jsx("div",{className:"text-3xl font-bold font-display",children:i}),e.jsx("div",{className:"text-sm opacity-90 font-primary",children:"Teams"})]})]})}),e.jsx("div",{className:"bg-scorecard p-6",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-charcoal mb-3 font-display",children:"Current Standings"}),n.length>0?e.jsx("div",{className:"space-y-2",children:n.map((c,m)=>e.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg ${m===0?"bg-yellow-50 border border-yellow-200":m===1?"bg-gray-50 border border-gray-200":"bg-orange-50 border border-orange-200"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:m===0?"text-yellow-500":m===1?"text-gray-400":"text-orange-500",children:m===0?"":m===1?"":""}),e.jsx("span",{className:"text-sm font-medium font-primary",children:c.team_name})]}),e.jsxs("span",{className:"text-sm font-bold text-turf font-display",children:[c.total_points," pts"]})]},c.team_id))}):e.jsx("div",{className:"text-center py-4 text-charcoal opacity-70 font-primary",children:"No standings available yet"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-charcoal mb-3 font-display",children:"Series Information"}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-charcoal opacity-70 font-primary",children:"Total Competitions:"}),e.jsx("span",{className:"font-medium font-primary",children:(t==null?void 0:t.total_competitions)||0})]}),r&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-charcoal opacity-70 font-primary",children:"Next Event:"}),e.jsx("span",{className:"font-medium font-primary",children:new Date(r.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-charcoal opacity-70 font-primary",children:"Teams:"}),e.jsx("span",{className:"font-medium font-primary",children:i})]})]}),e.jsx("div",{className:"space-y-2",children:e.jsx(U,{to:`/player/series/${s.id}`,className:"w-full bg-turf text-scorecard py-2 rounded-lg font-medium hover:bg-fairway transition-colors text-center block font-primary",children:"View Series Details"})})]})]})})]})}function dn({series:s}){var o,l;const{data:t}=ns(s.id),{data:a}=Ke(s.id),r=((o=t==null?void 0:t.team_standings)==null?void 0:o.length)||0,n=(l=t==null?void 0:t.team_standings)==null?void 0:l[0],i=a&&a.length>0;return e.jsxs("div",{className:"bg-scorecard rounded-xl border border-soft-grey overflow-hidden hover:shadow-lg hover:-translate-y-1 hover:border-turf transition-all duration-300",children:[e.jsx("div",{className:"relative",children:s.banner_image_url?e.jsxs("div",{className:"h-32 relative overflow-hidden",children:[e.jsx("img",{src:s.banner_image_url,alt:s.name,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0",style:{backgroundColor:"rgba(0, 0, 0, 0.4)"}}),e.jsx("div",{className:"absolute bottom-3 left-3 text-scorecard",children:e.jsx("h4",{className:"text-lg font-bold font-display",children:s.name})}),e.jsxs("div",{className:"absolute bottom-3 right-3 text-scorecard text-right",children:[e.jsx("div",{className:"text-2xl font-bold font-display",children:r}),e.jsx("div",{className:"text-xs opacity-90 font-primary",children:"Teams"})]})]}):e.jsxs("div",{className:"h-32 relative",style:{background:i&&n?"linear-gradient(135deg, var(--charcoal-text), #374151)":i?"linear-gradient(135deg, var(--turf-green), var(--fairway-green))":"linear-gradient(135deg, var(--sky-blue), #0ea5e9)"},children:[i&&n&&e.jsx("div",{className:"absolute top-3 left-3",children:e.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded-full font-primary",style:{backgroundColor:"rgba(248, 249, 250, 0.9)",color:"var(--charcoal-text)"},children:"COMPLETED"})}),i&&!n&&e.jsx("div",{className:"absolute top-3 left-3",children:e.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded-full font-primary",style:{backgroundColor:"rgba(248, 249, 250, 0.9)",color:"var(--turf-green)"},children:"ACTIVE"})}),!i&&e.jsx("div",{className:"absolute top-3 left-3",children:e.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded-full font-primary",style:{backgroundColor:"rgba(248, 249, 250, 0.9)",color:"var(--sky-blue)"},children:"UPCOMING"})}),e.jsx("div",{className:"absolute bottom-3 left-3 text-scorecard",children:e.jsx("h4",{className:"text-lg font-bold font-display",children:s.name})}),e.jsxs("div",{className:"absolute bottom-3 right-3 text-scorecard text-right",children:[e.jsx("div",{className:"text-2xl font-bold font-display",children:r}),e.jsx("div",{className:"text-xs opacity-90 font-primary",children:"Teams"})]})]})}),e.jsxs("div",{className:"p-4",children:[e.jsx("p",{className:"text-sm text-charcoal opacity-70 mb-4 font-primary line-clamp-2",children:s.description||"Golf competition series for teams."}),i&&n&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 mb-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-1",children:e.jsx("span",{className:"text-xs font-medium text-charcoal opacity-70 font-primary",children:"CHAMPION"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xt,{className:"w-4 h-4 text-yellow-500"}),e.jsx("span",{className:"text-sm font-bold text-charcoal font-primary",children:n.team_name})]})]}),e.jsx("div",{className:"space-y-2",children:e.jsx(U,{to:`/player/series/${s.id}`,className:"w-full bg-turf text-scorecard py-2 px-3 rounded-lg text-sm font-medium hover:bg-fairway transition-colors text-center block font-primary",children:i&&n?e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"inline w-4 h-4 mr-1"}),"View Results"]}):i?e.jsxs(e.Fragment,{children:[e.jsx(Se,{className:"inline w-4 h-4 mr-1"}),"View Details"]}):e.jsxs(e.Fragment,{children:[e.jsx(as,{className:"inline w-4 h-4 mr-1"}),"Learn More"]})})})]})]})}function mn({searchQuery:s}){return s.trim()?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-turf mb-4",children:e.jsx(G,{className:"h-12 w-12 mx-auto"})}),e.jsx("h3",{className:"text-lg font-medium text-charcoal mb-2 font-display",children:"No series found"}),e.jsx("p",{className:"text-charcoal opacity-70 font-primary",children:"Try adjusting your search criteria."})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-turf mb-4",children:e.jsx(W,{className:"h-12 w-12 mx-auto"})}),e.jsx("h3",{className:"text-lg font-medium text-charcoal mb-2 font-display",children:"No series available"}),e.jsx("p",{className:"text-charcoal opacity-70 font-primary",children:"Check back later for upcoming golf series."})]})}function xn({competitions:s=[],className:t,maxItems:a=5}){const r=s.slice(0,a);return r.length?e.jsxs("section",{className:Q("space-y-6",t),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-display-sm font-display font-semibold text-charcoal",children:"Recent Activity"}),s.length>a&&e.jsx("button",{className:"text-label-md font-medium text-turf hover:text-fairway transition-colors",children:"View all"})]}),e.jsx("div",{className:"space-y-4",children:r.map((n,i)=>{const o=new Date(n.date),l=o<new Date,c=i===0;return e.jsxs("div",{className:"relative",children:[i!==r.length-1&&e.jsx("div",{className:"absolute left-6 top-12 w-0.5 h-12 bg-turf/20"}),e.jsx(U,{to:`/player/competitions/${n.id}`,className:"group block",children:e.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-xl bg-scorecard border border-soft-grey hover:border-turf hover:shadow-md transition-all duration-200",children:[e.jsx("div",{className:Q("flex-shrink-0 w-3 h-3 rounded-full mt-3",c?"bg-turf shadow-lg shadow-turf/30":l?"bg-charcoal/30":"bg-coral")}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h4",{className:"text-label-lg font-semibold text-charcoal truncate",children:n.name}),e.jsx("span",{className:Q("px-2 py-1 rounded-full text-label-sm font-medium whitespace-nowrap",l?"text-charcoal bg-charcoal/10":c?"text-turf bg-turf/10":"text-coral bg-coral/10"),children:l?"Completed":c?"Latest":"Upcoming"})]}),e.jsxs("div",{className:"flex items-center gap-4 text-body-sm text-charcoal/70",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ie,{className:"h-4 w-4 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:o.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(G,{className:"h-4 w-4 flex-shrink-0"}),e.jsx("span",{children:n.participant_count})]})]}),c&&l&&e.jsx("div",{className:"mt-3 pt-3 border-t border-soft-grey",children:e.jsxs("div",{className:"flex items-center gap-2 text-body-sm text-turf",children:[e.jsx(W,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Results available - View standings"})]})})]}),e.jsx(Se,{className:"h-5 w-5 text-charcoal/30 group-hover:text-turf transition-colors flex-shrink-0 mt-1"})]})})]})})]},n.id)})}),s.length>a&&e.jsx("div",{className:"pt-4 border-t border-soft-grey",children:e.jsxs("button",{className:"w-full py-3 text-label-md font-medium text-turf hover:text-fairway transition-colors text-center",children:["View all ",s.length," competitions"]})})]}):e.jsxs("section",{className:Q("space-y-6",t),children:[e.jsx("h3",{className:"text-display-sm font-display font-semibold text-charcoal",children:"Recent Activity"}),e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 bg-rough/30 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(es,{className:"h-8 w-8 text-turf"})}),e.jsx("h4",{className:"text-label-lg font-semibold text-charcoal mb-2",children:"No recent activity"}),e.jsx("p",{className:"text-body-sm text-charcoal/70",children:"Competition results will appear here as they become available."})]})]})}function un(){return e.jsxs("div",{className:"min-h-screen bg-scorecard animate-pulse",children:[e.jsx("div",{className:"bg-fairway h-16"}),e.jsx("div",{className:"h-[200px] bg-gray-300"}),e.jsx("div",{className:"bg-rough p-6",children:e.jsx("div",{className:"container mx-auto grid grid-cols-3 gap-4",children:[...Array(3)].map((s,t)=>e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("div",{className:"h-8 bg-gray-300 rounded"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded"})]},t))})}),e.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-8",children:[e.jsx("div",{className:"h-32 bg-gray-200 rounded-xl"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[...Array(4)].map((s,t)=>e.jsx("div",{className:"h-32 bg-gray-200 rounded-xl"},t))}),e.jsx("div",{className:"space-y-4",children:[...Array(3)].map((s,t)=>e.jsx("div",{className:"h-20 bg-gray-200 rounded-lg"},t))})]})]})}function Bs({title:s,message:t,onRetry:a,showBackButton:r=!0}){return e.jsx("div",{className:"min-h-screen bg-scorecard flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[e.jsx("div",{className:"w-16 h-16 bg-flag/10 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(_e,{className:"h-8 w-8 text-flag"})}),e.jsx("h1",{className:"text-display-md font-display font-bold text-charcoal mb-4",children:s}),e.jsx("p",{className:"text-body-lg text-charcoal/70 mb-8",children:t}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a&&e.jsxs(R,{onClick:a,className:"bg-turf hover:bg-fairway text-scorecard",children:[e.jsx(Te,{className:"h-4 w-4 mr-2"}),"Try Again"]}),r&&e.jsx(R,{variant:"outline",onClick:()=>window.history.back(),className:"border-soft-grey text-charcoal hover:bg-rough/20",children:"Go Back"})]})]})})}function hn(){var p;const{serieId:s}=ve({from:"/player/series/$serieId"}),t=parseInt(s),{data:a,isLoading:r,error:n,refetch:i}=Fe(t),{data:o,isLoading:l}=ns(t),{data:c,isLoading:m}=Ke(t),{data:C,isLoading:v}=is(t),w=(c==null?void 0:c.length)||0,b=((p=o==null?void 0:o.team_standings)==null?void 0:p.length)||0,T=c==null?void 0:c[0],P=a!=null&&a.landing_document_id?C==null?void 0:C.find(L=>L.id===a.landing_document_id):null,N=$.useCallback(()=>{window.history.back()},[]);if(r&&!a)return e.jsx(un,{});if(n)return e.jsx(Bs,{title:"Series Not Found",message:"The series you're looking for doesn't exist or may have been removed.",onRetry:()=>i()});if(!a)return e.jsx(Bs,{title:"Series Unavailable",message:"This series is currently unavailable. Please try again later.",onRetry:()=>i()});const k=()=>e.jsxs("div",{className:"space-y-8",children:[P?e.jsx("section",{children:e.jsx("div",{className:"prose prose-gray max-w-none",children:e.jsx(Oe,{remarkPlugins:[Ue],children:P.content})})}):a.description&&e.jsxs("section",{children:[e.jsx("h2",{className:"text-display-sm font-display font-semibold text-charcoal mb-6",children:"About This Series"}),e.jsx("div",{className:"prose prose-gray max-w-none",children:e.jsx(Oe,{remarkPlugins:[Ue],children:a.description})})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-display-sm font-display font-semibold text-charcoal mb-6",children:"Quick Access"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[e.jsxs(U,{to:"/player/series/$serieId/standings",params:{serieId:s},className:"bg-scorecard border border-soft-grey rounded-xl p-6 text-center transition-all duration-200 hover:-translate-y-0.5 hover:shadow-lg hover:border-turf group block",children:[e.jsx("div",{className:"w-12 h-12 bg-rough rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-turf/20 transition-colors",children:e.jsx(W,{className:"h-6 w-6 text-turf group-hover:text-fairway transition-colors"})}),e.jsx("h4",{className:"text-label-lg font-display font-semibold text-charcoal mb-2 group-hover:text-fairway transition-colors",children:"Team Standings"}),e.jsx("p",{className:"text-body-sm text-charcoal/70",children:l?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx(ke,{className:"h-3 w-3 animate-spin"}),"Loading..."]}):`${b} teams competing`})]}),e.jsxs(U,{to:"/player/series/$serieId/competitions",params:{serieId:s},className:"bg-scorecard border border-soft-grey rounded-xl p-6 text-center transition-all duration-200 hover:-translate-y-0.5 hover:shadow-lg hover:border-turf group block",children:[e.jsx("div",{className:"w-12 h-12 bg-rough rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-turf/20 transition-colors",children:e.jsx(ie,{className:"h-6 w-6 text-turf group-hover:text-fairway transition-colors"})}),e.jsx("h4",{className:"text-label-lg font-display font-semibold text-charcoal mb-2 group-hover:text-fairway transition-colors",children:"All Competitions"}),e.jsx("p",{className:"text-body-sm text-charcoal/70",children:m?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx(ke,{className:"h-3 w-3 animate-spin"}),"Loading..."]}):`Browse ${w} competitions`})]}),C&&C.length>0&&e.jsxs(U,{to:"/player/series/$serieId/documents",params:{serieId:s},className:"bg-scorecard border border-soft-grey rounded-xl p-6 text-center transition-all duration-200 hover:-translate-y-0.5 hover:shadow-lg hover:border-turf group block",children:[e.jsx("div",{className:"w-12 h-12 bg-rough rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-turf/20 transition-colors",children:e.jsx(Me,{className:"h-6 w-6 text-turf group-hover:text-fairway transition-colors"})}),e.jsx("h4",{className:"text-label-lg font-display font-semibold text-charcoal mb-2 group-hover:text-fairway transition-colors",children:"Documents"}),e.jsx("p",{className:"text-body-sm text-charcoal/70",children:v?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx(ke,{className:"h-3 w-3 animate-spin"}),"Loading..."]}):`View ${C.length} document${C.length!==1?"s":""}`})]})]})]}),e.jsx(xn,{competitions:c,maxItems:3})]});return e.jsxs("div",{className:"min-h-screen bg-scorecard",children:[e.jsx(ce,{onBackClick:N}),e.jsxs("section",{className:"relative",children:[a.banner_image_url?e.jsxs("div",{className:"relative h-[200px] md:h-[280px] overflow-hidden",children:[e.jsx("img",{src:a.banner_image_url,alt:`${a.name} banner`,className:"w-full h-full object-cover",loading:"eager"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-black/20 to-fairway/70"}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 md:p-8",children:[e.jsx("h1",{className:"text-display-md md:text-display-lg font-display font-bold text-scorecard drop-shadow-lg",children:a.name}),a.description&&e.jsx("p",{className:"text-body-lg text-scorecard/90 mt-2 drop-shadow-md line-clamp-2",children:a.description})]})]}):e.jsxs("div",{className:"bg-gradient-to-br from-fairway to-turf p-6 md:p-8",children:[e.jsx("h1",{className:"text-display-md md:text-display-lg font-display font-bold text-scorecard",children:a.name}),a.description&&e.jsx("p",{className:"text-body-lg text-scorecard/90 mt-2",children:a.description})]}),e.jsx("div",{className:"bg-rough p-4 md:p-6 border-b border-soft-grey",children:e.jsx("div",{className:"container mx-auto",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-display-sm font-display font-bold text-fairway",children:m?e.jsx(ke,{className:"h-6 w-6 animate-spin mx-auto"}):w}),e.jsx("div",{className:"text-label-sm font-medium text-charcoal uppercase tracking-wide",children:w===1?"Competition":"Competitions"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-display-sm font-display font-bold text-fairway",children:l?e.jsx(ke,{className:"h-6 w-6 animate-spin mx-auto"}):b}),e.jsx("div",{className:"text-label-sm font-medium text-charcoal uppercase tracking-wide",children:"Active Teams"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-display-sm font-display font-bold text-fairway",children:m?e.jsx(ke,{className:"h-6 w-6 animate-spin mx-auto"}):T?"Recent":"None"}),e.jsx("div",{className:"text-label-sm font-medium text-charcoal uppercase tracking-wide",children:"Latest Result"})]})]})})})]}),e.jsx("main",{className:"container mx-auto px-4 py-6",children:k()})]})}function pn(){return e.jsxs("div",{className:"min-h-screen bg-scorecard animate-pulse",children:[e.jsx("div",{className:"bg-fairway h-16"}),e.jsx("div",{className:"container mx-auto px-4 py-6 space-y-4",children:[...Array(5)].map((s,t)=>e.jsx("div",{className:"h-24 bg-gray-200 rounded-lg"},t))})]})}function gs({title:s,message:t,onRetry:a}){return e.jsx("div",{className:"min-h-screen bg-scorecard flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[e.jsx("div",{className:"w-16 h-16 bg-flag/10 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(_e,{className:"h-8 w-8 text-flag"})}),e.jsx("h1",{className:"text-display-md font-display font-bold text-charcoal mb-4",children:s}),e.jsx("p",{className:"text-body-lg text-charcoal/70 mb-8",children:t}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a&&e.jsxs(R,{onClick:a,className:"bg-turf hover:bg-fairway text-scorecard",children:[e.jsx(Te,{className:"h-4 w-4 mr-2"}),"Try Again"]}),e.jsx(R,{onClick:()=>window.history.back(),className:"inline-flex items-center gap-2 px-4 py-2 border border-soft-grey text-charcoal hover:bg-rough/20 hover:border-turf rounded-lg transition-colors",children:"Back to Series"})]})]})})}function gn(){const{serieId:s}=ve({from:"/player/series/$serieId/documents"}),[t,a]=$.useState(""),r=parseInt(s),{data:n,isLoading:i,error:o}=Fe(r),{data:l,isLoading:c,error:m,refetch:C}=is(r),v=l==null?void 0:l.filter(w=>w.title.toLowerCase().includes(t.toLowerCase())||w.content.toLowerCase().includes(t.toLowerCase()));return i||c?e.jsx(pn,{}):o?e.jsx(gs,{title:"Series Not Found",message:"The series you're looking for doesn't exist or may have been removed."}):m?e.jsx(gs,{title:"Error Loading Documents",message:"Unable to load documents. Please try again.",onRetry:()=>C()}):n?e.jsxs("div",{className:"min-h-screen bg-scorecard",children:[e.jsx(ce,{title:"Documents"}),e.jsx("div",{className:"bg-scorecard border-b border-soft-grey shadow-sm",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex items-center justify-between py-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold font-display text-charcoal",children:"Documents"}),e.jsx("p",{className:"text-sm text-charcoal/70 font-primary mt-1",children:"Browse series rules, guides and resources"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(qe,{className:"h-5 w-5 text-charcoal/60"})})]})})}),e.jsxs("main",{className:"container mx-auto px-4 py-6",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(qe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-charcoal/50"}),e.jsx("input",{type:"text",placeholder:"Search documents...",value:t,onChange:w=>a(w.target.value),className:"w-full pl-10 pr-4 py-3 border border-soft-grey rounded-xl bg-scorecard text-charcoal placeholder-charcoal/50 focus:outline-none focus:ring-2 focus:ring-turf focus:border-turf transition-colors"})]})}),!l||l.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Me,{className:"h-16 w-16 text-charcoal/30 mx-auto mb-6"}),e.jsx("h2",{className:"text-display-sm font-display font-semibold text-charcoal mb-4",children:"No Documents Available"}),e.jsx("p",{className:"text-body-lg text-charcoal/70 mb-8",children:"Documents will be added to this series soon."}),e.jsx(R,{onClick:()=>window.history.back(),className:"bg-turf hover:bg-fairway text-scorecard",children:"Back to Series Overview"})]}):(v==null?void 0:v.length)===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(qe,{className:"h-16 w-16 text-charcoal/30 mx-auto mb-6"}),e.jsx("h2",{className:"text-display-sm font-display font-semibold text-charcoal mb-4",children:"No Documents Found"}),e.jsxs("p",{className:"text-body-lg text-charcoal/70 mb-8",children:['No documents match your search query "',t,'".']}),e.jsx(R,{onClick:()=>a(""),className:"bg-turf hover:bg-fairway text-scorecard",children:"Clear Search"})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-display-sm font-display font-semibold text-charcoal",children:"Documents"}),e.jsxs("span",{className:"text-body-sm text-charcoal/70",children:[(v==null?void 0:v.length)||0," document",((v==null?void 0:v.length)||0)!==1?"s":"",t&&` matching "${t}"`]})]}),e.jsx("div",{className:"grid gap-4",children:v==null?void 0:v.map(w=>e.jsx(U,{to:"/player/series/$serieId/documents/$documentId",params:{serieId:s,documentId:w.id.toString()},className:"block p-6 rounded-xl border border-soft-grey hover:border-turf hover:shadow-lg transition-all duration-200 group bg-scorecard",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-rough rounded-xl flex items-center justify-center flex-shrink-0 group-hover:bg-turf/20 transition-colors",children:e.jsx(Me,{className:"h-6 w-6 text-turf group-hover:text-fairway transition-colors"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-label-lg font-semibold text-charcoal mb-2 group-hover:text-fairway transition-colors",children:w.title}),e.jsxs("p",{className:"text-body-sm text-charcoal/70 line-clamp-2 mb-3",children:[w.content.substring(0,150),w.content.length>150&&"..."]}),e.jsxs("div",{className:"text-body-xs text-charcoal/50",children:["Updated"," ",new Date(w.updated_at).toLocaleDateString()]})]}),e.jsx(Se,{className:"h-5 w-5 text-charcoal/30 flex-shrink-0 group-hover:text-turf transition-colors"})]})},w.id))})]})]})]}):e.jsx(gs,{title:"Series Unavailable",message:"This series is currently unavailable. Please try again later."})}function fn(){return e.jsxs("div",{className:"min-h-screen bg-scorecard animate-pulse",children:[e.jsx("div",{className:"bg-fairway h-16"}),e.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-4",children:[e.jsx("div",{className:"h-8 bg-gray-300 rounded w-3/4"}),e.jsx("div",{className:"space-y-3",children:[...Array(10)].map((s,t)=>e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"},t))})]})]})}function Xe({title:s,message:t,onRetry:a}){return e.jsx("div",{className:"min-h-screen bg-scorecard flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[e.jsx("div",{className:"w-16 h-16 bg-flag/10 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(_e,{className:"h-8 w-8 text-flag"})}),e.jsx("h1",{className:"text-display-md font-display font-bold text-charcoal mb-4",children:s}),e.jsx("p",{className:"text-body-lg text-charcoal/70 mb-8",children:t}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a&&e.jsxs(R,{onClick:a,className:"bg-turf hover:bg-fairway text-scorecard",children:[e.jsx(Te,{className:"h-4 w-4 mr-2"}),"Try Again"]}),e.jsx(R,{onClick:()=>window.history.back(),className:"inline-flex items-center gap-2 px-4 py-2 border border-soft-grey text-charcoal hover:bg-rough/20 hover:border-turf rounded-lg transition-colors",children:"Back to Documents"})]})]})})}function bn(){const{serieId:s,documentId:t}=ve({from:"/player/series/$serieId/documents/$documentId"}),a=parseInt(s),r=parseInt(t),{data:n,isLoading:i,error:o}=Fe(a),{data:l,isLoading:c,error:m,refetch:C}=is(a),v=l==null?void 0:l.find(N=>N.id===r),w=(l==null?void 0:l.findIndex(N=>N.id===r))??-1,b=l==null?void 0:l[w-1],T=l==null?void 0:l[w+1],P=async()=>{if(navigator.share&&v)try{await navigator.share({title:v.title,url:window.location.href})}catch{navigator.clipboard.writeText(window.location.href)}else navigator.clipboard.writeText(window.location.href)};return i||c?e.jsx(fn,{}):o?e.jsx(Xe,{title:"Series Not Found",message:"The series you're looking for doesn't exist or may have been removed."}):m?e.jsx(Xe,{title:"Error Loading Document",message:"Unable to load the document. Please try again.",onRetry:()=>C()}):n?v?e.jsxs("div",{className:"min-h-screen bg-scorecard",children:[e.jsx(ce,{title:v.title}),e.jsx("div",{className:"bg-scorecard border-b border-soft-grey shadow-sm sticky top-16 z-9",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex items-center justify-between py-4",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h2",{className:"text-xl font-semibold font-display text-charcoal truncate",children:v.title}),e.jsxs("p",{className:"text-sm text-charcoal/70 font-primary mt-1",children:["Document ",w+1," of ",(l==null?void 0:l.length)||0]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[b&&e.jsx(U,{to:"/player/series/$serieId/documents/$documentId",params:{serieId:s,documentId:b.id.toString()},className:"p-2 hover:bg-rough rounded-lg transition-colors text-charcoal",title:`Previous: ${b.title}`,children:e.jsx(Ls,{className:"h-5 w-5"})}),T&&e.jsx(U,{to:"/player/series/$serieId/documents/$documentId",params:{serieId:s,documentId:T.id.toString()},className:"p-2 hover:bg-rough rounded-lg transition-colors text-charcoal",title:`Next: ${T.title}`,children:e.jsx(Se,{className:"h-5 w-5"})}),e.jsx("button",{onClick:P,className:"p-2 hover:bg-rough rounded-lg transition-colors text-charcoal",title:"Share document",children:e.jsx(Xs,{className:"h-5 w-5"})})]})]})})}),e.jsxs("main",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[e.jsx("article",{className:"prose prose-gray prose-lg max-w-none",children:e.jsx(Oe,{remarkPlugins:[Ue],children:v.content})}),(b||T)&&e.jsx("div",{className:"mt-12 pt-8 border-t border-soft-grey",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b&&e.jsx(U,{to:"/player/series/$serieId/documents/$documentId",params:{serieId:s,documentId:b.id.toString()},className:"group p-4 rounded-xl border border-soft-grey hover:border-turf hover:shadow-md transition-all duration-200 bg-scorecard",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ls,{className:"h-5 w-5 text-turf group-hover:text-fairway transition-colors"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-body-xs text-charcoal/50 uppercase tracking-wide font-medium mb-1",children:"Previous"}),e.jsx("h3",{className:"text-label-md font-semibold text-charcoal group-hover:text-fairway transition-colors truncate",children:b.title})]})]})}),T&&e.jsx(U,{to:"/player/series/$serieId/documents/$documentId",params:{serieId:s,documentId:T.id.toString()},className:"group p-4 rounded-xl border border-soft-grey hover:border-turf hover:shadow-md transition-all duration-200 bg-scorecard md:col-start-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"min-w-0 flex-1 text-right",children:[e.jsx("p",{className:"text-body-xs text-charcoal/50 uppercase tracking-wide font-medium mb-1",children:"Next"}),e.jsx("h3",{className:"text-label-md font-semibold text-charcoal group-hover:text-fairway transition-colors truncate",children:T.title})]}),e.jsx(Se,{className:"h-5 w-5 text-turf group-hover:text-fairway transition-colors"})]})})]})})]})]}):e.jsx(Xe,{title:"Document Not Found",message:"The document you're looking for doesn't exist or may have been removed."}):e.jsx(Xe,{title:"Series Unavailable",message:"This series is currently unavailable. Please try again later."})}function yn(){return e.jsxs("div",{className:"min-h-screen bg-scorecard animate-pulse",children:[e.jsx("div",{className:"bg-fairway h-16"}),e.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[...Array(3)].map((s,t)=>e.jsx("div",{className:"h-32 bg-gray-200 rounded-xl"},t))}),e.jsx("div",{className:"space-y-3",children:[...Array(8)].map((s,t)=>e.jsx("div",{className:"h-16 bg-gray-200 rounded-lg"},t))})]})]})}function fs({title:s,message:t,onRetry:a}){return e.jsx("div",{className:"min-h-screen bg-scorecard flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[e.jsx("div",{className:"w-16 h-16 bg-flag/10 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(_e,{className:"h-8 w-8 text-flag"})}),e.jsx("h1",{className:"text-display-md font-display font-bold text-charcoal mb-4",children:s}),e.jsx("p",{className:"text-body-lg text-charcoal/70 mb-8",children:t}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a&&e.jsxs(R,{onClick:a,className:"bg-turf hover:bg-fairway text-scorecard",children:[e.jsx(Te,{className:"h-4 w-4 mr-2"}),"Try Again"]}),e.jsx(R,{onClick:()=>window.history.back(),className:"inline-flex items-center gap-2 px-4 py-2 border border-soft-grey text-charcoal hover:bg-rough/20 hover:border-turf rounded-lg transition-colors",children:"Back to Series"})]})]})})}function jn(){var w;const{serieId:s}=ve({from:"/player/series/$serieId/standings"}),t=parseInt(s),{data:a,isLoading:r,error:n}=Fe(t),{data:i,isLoading:o,error:l,refetch:c}=ns(t),m=async()=>{if(navigator.share&&a)try{await navigator.share({title:`${a.name} Standings`,url:window.location.href})}catch{navigator.clipboard.writeText(window.location.href)}else navigator.clipboard.writeText(window.location.href)},C=()=>{if(!(i!=null&&i.team_standings))return;const b=[["Position","Team","Points","Competitions Played"].join(","),...i.team_standings.map(k=>[k.position,`"${k.team_name}"`,k.total_points,k.competitions_played].join(","))].join(`
`),T=new Blob([b],{type:"text/csv"}),P=window.URL.createObjectURL(T),N=document.createElement("a");N.href=P,N.download=`${(a==null?void 0:a.name)||"series"}-standings.csv`,N.click(),window.URL.revokeObjectURL(P)};if(r||o)return e.jsx(yn,{});if(n)return e.jsx(fs,{title:"Series Not Found",message:"The series you're looking for doesn't exist or may have been removed."});if(l)return e.jsx(fs,{title:"Error Loading Standings",message:"Unable to load team standings. Please try again.",onRetry:()=>c()});if(!a)return e.jsx(fs,{title:"Series Unavailable",message:"This series is currently unavailable. Please try again later."});if(!((w=i==null?void 0:i.team_standings)!=null&&w.length))return e.jsxs("div",{className:"min-h-screen bg-scorecard",children:[e.jsx(ce,{title:"Team Standings"}),e.jsx("div",{className:"bg-scorecard border-b border-soft-grey shadow-sm",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"py-4",children:[e.jsx("h2",{className:"text-xl font-semibold font-display text-charcoal",children:"Team Standings"}),e.jsx("p",{className:"text-sm text-charcoal/70 font-primary mt-1",children:a.name})]})})}),e.jsx("main",{className:"container mx-auto px-4 py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(W,{className:"h-16 w-16 text-charcoal/30 mx-auto mb-6"}),e.jsx("h2",{className:"text-display-sm font-display font-semibold text-charcoal mb-4",children:"No Standings Available"}),e.jsx("p",{className:"text-body-lg text-charcoal/70 mb-8",children:"Team standings will appear here once competitions begin."}),e.jsx(R,{onClick:()=>window.history.back(),className:"inline-flex items-center gap-2 px-6 py-3 bg-turf hover:bg-fairway text-scorecard rounded-xl transition-colors font-medium",children:"Back to Series Overview"})]})})]});const v=i.team_standings.slice(0,3);return e.jsxs("div",{className:"min-h-screen bg-scorecard",children:[e.jsx(ce,{title:"Team Standings"}),e.jsx("div",{className:"bg-scorecard border-b border-soft-grey shadow-sm",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex items-center justify-between py-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold font-display text-charcoal",children:"Team Standings"}),e.jsx("p",{className:"text-sm text-charcoal/70 font-primary mt-1",children:a.name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(R,{onClick:m,variant:"outline",size:"sm",className:"text-charcoal border-soft-grey hover:bg-rough/20",children:[e.jsx(Xs,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline ml-2",children:"Share"})]}),e.jsxs(R,{onClick:C,variant:"outline",size:"sm",className:"text-charcoal border-soft-grey hover:bg-rough/20",children:[e.jsx(Zt,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline ml-2",children:"Export"})]})]})]})})}),e.jsxs("main",{className:"container mx-auto px-4 py-6",children:[v.length>0&&e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-display-sm font-display font-semibold text-charcoal mb-6",children:"Top Performers"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:v.map((b,T)=>e.jsxs("div",{className:`p-6 rounded-xl border-2 transition-all duration-200 ${T===0?"bg-gradient-to-br from-coral/10 to-coral/5 border-coral shadow-lg shadow-coral/20":T===1?"bg-gradient-to-br from-soft-grey/20 to-soft-grey/10 border-soft-grey":"bg-gradient-to-br from-turf/10 to-turf/5 border-turf"}`,children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${T===0?"bg-coral text-scorecard":T===1?"bg-soft-grey text-charcoal":"bg-turf text-scorecard"}`,children:T===0?e.jsx(ys,{className:"h-6 w-6"}):e.jsx("span",{className:"text-lg font-bold",children:b.position})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-label-lg font-semibold text-charcoal truncate",children:b.team_name}),e.jsxs("p",{className:"text-body-sm text-charcoal/70",children:[b.competitions_played," competition",b.competitions_played!==1?"s":""," played"]})]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-display-lg font-display font-bold text-charcoal",children:b.total_points}),e.jsx("div",{className:"text-body-sm text-charcoal/70 font-medium",children:"points"})]})]},b.team_id))})]}),e.jsxs("section",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-display-sm font-display font-semibold text-charcoal",children:"Complete Standings"}),e.jsxs("span",{className:"text-body-sm text-charcoal/70",children:[i.team_standings.length," team",i.team_standings.length!==1?"s":""]})]}),e.jsx("div",{className:"md:hidden space-y-3",children:i.team_standings.map(b=>e.jsx("div",{className:"p-4 rounded-xl border border-soft-grey bg-scorecard",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full font-semibold text-sm ${b.position===1?"bg-coral text-scorecard shadow-lg shadow-coral/30":b.position<=3?"bg-turf/20 text-turf":"bg-charcoal/10 text-charcoal"}`,children:b.position}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-label-md font-semibold text-charcoal truncate",children:b.team_name}),e.jsxs("p",{className:"text-body-sm text-charcoal/70",children:[b.competitions_played," competitions played"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-label-lg font-semibold text-charcoal",children:b.total_points}),e.jsx("div",{className:"text-body-sm text-charcoal/70",children:"points"})]})]})},b.team_id))}),e.jsx("div",{className:"hidden md:block bg-scorecard border border-soft-grey rounded-xl overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gradient-to-r from-fairway to-turf text-scorecard",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wide",children:"Position"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-sm uppercase tracking-wide",children:"Team"}),e.jsx("th",{className:"text-center py-4 px-6 font-semibold text-sm uppercase tracking-wide",children:"Points"}),e.jsx("th",{className:"text-center py-4 px-6 font-semibold text-sm uppercase tracking-wide",children:"Competitions"})]})}),e.jsx("tbody",{children:i.team_standings.map((b,T)=>e.jsxs("tr",{className:`border-b border-soft-grey/50 transition-colors hover:bg-rough/20 ${T%2===0?"bg-scorecard":"bg-rough/10"}`,children:[e.jsx("td",{className:"py-4 px-6",children:e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full font-semibold text-sm ${b.position===1?"bg-coral text-scorecard":b.position<=3?"bg-turf/20 text-turf":"bg-charcoal/10 text-charcoal"}`,children:b.position})})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("div",{className:"font-semibold text-charcoal",children:b.team_name})}),e.jsx("td",{className:"py-4 px-6 text-center",children:e.jsx("div",{className:"font-semibold text-charcoal",children:b.total_points})}),e.jsx("td",{className:"py-4 px-6 text-center",children:e.jsx("div",{className:"text-charcoal",children:b.competitions_played})})]},b.team_id))})]})})]})]})]})}function vn(){return e.jsxs("div",{className:"min-h-screen bg-scorecard animate-pulse",children:[e.jsx("div",{className:"bg-fairway h-16"}),e.jsx("div",{className:"container mx-auto px-4 py-6 space-y-4",children:[...Array(6)].map((s,t)=>e.jsx("div",{className:"h-24 bg-gray-200 rounded-lg"},t))})]})}function bs({title:s,message:t,onRetry:a}){return e.jsx("div",{className:"min-h-screen bg-scorecard flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[e.jsx("div",{className:"w-16 h-16 bg-flag/10 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(_e,{className:"h-8 w-8 text-flag"})}),e.jsx("h1",{className:"text-display-md font-display font-bold text-charcoal mb-4",children:s}),e.jsx("p",{className:"text-body-lg text-charcoal/70 mb-8",children:t}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a&&e.jsxs(R,{onClick:a,className:"bg-turf hover:bg-fairway text-scorecard",children:[e.jsx(Te,{className:"h-4 w-4 mr-2"}),"Try Again"]}),e.jsx(R,{variant:"outline",onClick:()=>window.history.back(),className:"border-soft-grey text-charcoal hover:bg-rough/20",children:"Back to Series"})]})]})})}function Nn(){const{serieId:s}=ve({from:"/player/series/$serieId/competitions"}),[t,a]=$.useState("all"),r=parseInt(s),{data:n,isLoading:i,error:o}=Fe(r),{data:l,isLoading:c,error:m,refetch:C}=Ke(r),{data:v}=Ie(),w=new Date,b=l==null?void 0:l.filter(P=>{const N=new Date(P.date),k=N<w,p=N.toDateString()===w.toDateString();switch(t){case"upcoming":return!k&&!p;case"active":return p;case"completed":return k;default:return!0}}),T=(l==null?void 0:l.reduce((P,N)=>{const k=new Date(N.date),p=k<w,L=k.toDateString()===w.toDateString();return p?P.completed++:L?P.active++:P.upcoming++,P},{upcoming:0,active:0,completed:0}))||{upcoming:0,active:0,completed:0};return i||c?e.jsx(vn,{}):o?e.jsx(bs,{title:"Series Not Found",message:"The series you're looking for doesn't exist or may have been removed."}):m?e.jsx(bs,{title:"Error Loading Competitions",message:"Unable to load competitions. Please try again.",onRetry:()=>C()}):n?!l||l.length===0?e.jsxs("div",{className:"min-h-screen bg-scorecard",children:[e.jsx(ce,{title:n.name}),e.jsx("div",{className:"bg-scorecard border-b border-soft-grey shadow-sm",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"py-4",children:[e.jsx("h2",{className:"text-xl font-semibold font-display text-charcoal",children:"Competitions"}),e.jsx("p",{className:"text-sm text-charcoal/70 font-primary mt-1",children:"Browse series competitions and events"})]})})}),e.jsx("main",{className:"container mx-auto px-4 py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ie,{className:"h-16 w-16 text-charcoal/30 mx-auto mb-6"}),e.jsx("h2",{className:"text-display-sm font-display font-semibold text-charcoal mb-4",children:"No Competitions Available"}),e.jsx("p",{className:"text-body-lg text-charcoal/70 mb-8",children:"Competitions will be added to this series soon."}),e.jsx(R,{onClick:()=>window.history.back(),className:"bg-turf hover:bg-fairway text-scorecard",children:"Back to Series Overview"})]})})]}):e.jsxs("div",{className:"min-h-screen bg-scorecard",children:[e.jsx(ce,{title:n.name}),e.jsx("div",{className:"bg-scorecard border-b border-soft-grey shadow-sm",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex items-center justify-between py-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold font-display text-charcoal",children:"Competitions"}),e.jsx("p",{className:"text-sm text-charcoal/70 font-primary mt-1",children:"Browse series competitions and events"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(ea,{className:"h-5 w-5 text-charcoal/60"})})]})})}),e.jsxs("main",{className:"container mx-auto px-4 py-6",children:[e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[{key:"all",label:"All",count:l.length},{key:"upcoming",label:"Upcoming",count:T.upcoming},{key:"active",label:"Active",count:T.active},{key:"completed",label:"Completed",count:T.completed}].map(P=>e.jsxs("button",{onClick:()=>a(P.key),className:`flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${t===P.key?"bg-turf text-scorecard shadow-lg":"bg-scorecard border border-soft-grey text-charcoal hover:border-turf hover:bg-rough/20"}`,children:[P.label,e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${t===P.key?"bg-scorecard/20 text-scorecard":"bg-charcoal/10 text-charcoal/70"}`,children:P.count})]},P.key))})}),(b==null?void 0:b.length)===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ie,{className:"h-16 w-16 text-charcoal/30 mx-auto mb-6"}),e.jsxs("h2",{className:"text-display-sm font-display font-semibold text-charcoal mb-4",children:["No ",t!=="all"?t:""," Competitions"]}),e.jsx("p",{className:"text-body-lg text-charcoal/70 mb-8",children:t==="all"?"No competitions are available.":`No ${t} competitions found.`}),e.jsx(R,{onClick:()=>a("all"),className:"bg-turf hover:bg-fairway text-scorecard",children:"Show All Competitions"})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-display-sm font-display font-semibold text-charcoal",children:[t==="all"?"All":t.charAt(0).toUpperCase()+t.slice(1)," ","Competitions"]}),e.jsxs("span",{className:"text-body-sm text-charcoal/70",children:[(b==null?void 0:b.length)||0," competition",((b==null?void 0:b.length)||0)!==1?"s":""]})]}),e.jsx("div",{className:"grid gap-4",children:b==null?void 0:b.map(P=>{const N=new Date(P.date),k=v==null?void 0:v.find(D=>D.id===P.course_id),p=N<new Date,L=N.toDateString()===new Date().toDateString();return e.jsx(U,{to:"/player/competitions/$competitionId",params:{competitionId:P.id.toString()},className:"block p-6 rounded-xl border border-soft-grey hover:border-turf hover:shadow-lg transition-all duration-200 group bg-scorecard",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-rough rounded-xl flex items-center justify-center flex-shrink-0 group-hover:bg-turf/20 transition-colors",children:e.jsx(ie,{className:"h-6 w-6 text-turf group-hover:text-fairway transition-colors"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 mb-3",children:[e.jsx("h3",{className:"text-label-lg font-semibold text-charcoal group-hover:text-fairway transition-colors",children:P.name}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${p?"bg-charcoal/10 text-charcoal/70":L?"bg-coral text-scorecard":"bg-turf/20 text-turf"}`,children:p?"Completed":L?"Today":"Upcoming"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-body-sm text-charcoal/70 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ie,{className:"h-4 w-4"}),N.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"})]}),k&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ws,{className:"h-4 w-4"}),k.name]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(G,{className:"h-4 w-4"}),P.participant_count," participant",P.participant_count!==1?"s":""]})]})]}),e.jsx(Se,{className:"h-5 w-5 text-charcoal/30 flex-shrink-0 group-hover:text-turf transition-colors"})]})},P.id)})})]})]})]}):e.jsx(bs,{title:"Series Unavailable",message:"This series is currently unavailable. Please try again later."})}const ls=new aa({component:Ga}),Ne=new J({getParentRoute:()=>ls,path:"/admin",pendingComponent:_s,component:ks(()=>Cs(()=>import("./AdminLayout-CxYDs-l4.js"),__vite__mapDeps([0,1,2,3,4,5])))}),wn=new J({getParentRoute:()=>Ne,path:"/series",component:lr}),kn=new J({getParentRoute:()=>Ne,path:"/series/$serieId",component:xr}),Cn=new J({getParentRoute:()=>Ne,path:"/teams",component:pr}),Sn=new J({getParentRoute:()=>Ne,path:"/courses",component:vr}),Tn=new J({getParentRoute:()=>Ne,path:"/competitions",component:Sr}),_n=new J({getParentRoute:()=>Ne,path:"/competitions/$competitionId/tee-times",component:Or}),Pn=new J({getParentRoute:()=>Ne,path:"/competitions/$competitionId/manual-scores",component:Ur}),oe=new J({getParentRoute:()=>ls,path:"/player",component:Br}),$n=new J({getParentRoute:()=>oe,path:"/",component:Hr}),Dn=new J({getParentRoute:()=>oe,path:"/standings",component:Yr}),En=new J({getParentRoute:()=>oe,path:"/competitions",component:en}),An=new J({getParentRoute:()=>oe,path:"/series",component:ln}),Ln=new J({getParentRoute:()=>oe,path:"/series/$serieId",component:hn}),Fn=new J({getParentRoute:()=>oe,path:"/series/$serieId/documents",component:gn}),In=new J({getParentRoute:()=>oe,path:"/series/$serieId/documents/$documentId",component:bn}),Rn=new J({getParentRoute:()=>oe,path:"/series/$serieId/standings",component:jn}),qn=new J({getParentRoute:()=>oe,path:"/series/$serieId/competitions",component:Nn}),zn=new J({getParentRoute:()=>oe,path:"/competitions/$competitionId",pendingComponent:_s,component:ks(()=>Cs(()=>import("./CompetitionDetail-TR5P4LNr.js"),__vite__mapDeps([6,1,2,3,4,5,7])))}),Mn=new J({getParentRoute:()=>oe,path:"/competitions/$competitionId/tee-times/$teeTimeId",pendingComponent:_s,component:ks(()=>Cs(()=>import("./CompetitionRound-DCj3nIm5.js"),__vite__mapDeps([8,1,2,3,4,5,7])))}),On=new J({getParentRoute:()=>ls,path:"/",component:()=>e.jsx(ra,{to:"/player",replace:!0})}),Un=ls.addChildren([On,Ne.addChildren([wn,kn,Cn,Sn,Tn,_n,Pn]),oe.addChildren([$n,Dn,En,An,Ln,Fn,In,Rn,qn,zn,Mn])]),Kn=na({routeTree:Un,basepath:xt()}),Bn=new ia;sa.createRoot(document.getElementById("root")).render(e.jsx($.StrictMode,{children:e.jsxs(oa,{client:Bn,children:[e.jsx(la,{router:Kn}),e.jsx(ca,{initialIsOpen:!1})]})}));export{ce as C,Ts as T,Wn as a,Ps as b,Tr as c,wt as d,Yn as e,Q as f,Jn as g,Hn as h,Us as i,Os as j,Xn as k,Ar as l,Fe as m,Nt as u};
