import{E as ee,r as H,j as e,Y as k,X as re,ab as ae,ac as le,ad as ne,ae as ie,af as oe,ag as Q,q as ce,e as de,D as Y,ah as U,b as xe,a1 as G,U as O,Q as q,ai as W,aj as me,P as fe,f as he,ak as pe,a2 as X}from"./index-DpDuZ5iq.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],be=ee("circle",ue);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],Pe=ee("pen-line",ye);function E(r){return r===0?"E":r>0?`+${r}`:`${r}`}function A(r){return r===0?"text-turf":r<0?"text-flag":"text-charcoal"}function J(r){return r===-1?"-":r===0?"0":r.toString()}function _e(r){return r===-1||r===null?"-":r===0?"0":r.toString()}function Fe(r){return(r==null?void 0:r.reduce((c,d)=>c+d.participants.length,0))||0}function I(r){return r>0}function K(r,c){return c.reduce((d,f)=>{const x=r[f.number-1];return d+(x&&x>0?x:0)},0)}function Z(r,c){return c.reduce((d,f)=>{const x=r[f.number-1];return d+(x&&x>0?f.par:0)},0)}function Te(r){if(!r||r.length===0)return!1;for(const c of r){if(!c.score||!Array.isArray(c.score))return!1;for(let d=0;d<18;d++){const f=c.score[d];if(f===0||f===null||f===void 0)return!1}}return!0}const R=18;function Ne(r,c){if(!c||c.length===0){const x=Math.floor(r/R),n=r%R;return Array(R).fill(x).map((y,w)=>w<n?y+1:y)}if(c.length!==R)return console.warn("Invalid stroke index length, expected 18"),Array(R).fill(0);const d=Array(R).fill(0);if(r<0){const x=Math.abs(r);for(let n=0;n<x&&n<R;n++){const y=c.indexOf(R-n);y!==-1&&(d[y]=-1)}return d}let f=r;for(;f>0;){const x=Math.floor(f/R),n=f%R;if(x>0){for(let y=0;y<R;y++)d[y]+=x;f=n}for(let y=1;y<=n;y++){const w=c.indexOf(y);w!==-1&&(d[w]+=1)}f=0}return d}function je({participant:r,course:c,currentHole:d,strokeIndex:f,handicapStrokesPerHole:x,courseHandicap:n,handicapIndex:y}){const w=c.holes.slice(0,9),p=c.holes.slice(9,18),j=H.useMemo(()=>{if(x)return x;if(f&&f.length===18&&n!==void 0)return Ne(n,f)},[x,f,n]),_=!!(f&&j&&n!==void 0),$=()=>{if(r.scores.some(l=>l===-1))return{frontTotal:null,backTotal:null,totalScore:null,toPar:null,frontToPar:null,backToPar:null,netFrontTotal:null,netBackTotal:null,netTotalScore:null,netToPar:null};const s=K(r.scores,w),o=K(r.scores,p),h=s+o,S=Z(r.scores,w),F=Z(r.scores,p),i=S+F;let u=null,b=null,t=null,m=null;if(_&&j){const l=j.slice(0,9).reduce((g,v)=>g+v,0);u=s-l;const P=j.slice(9,18).reduce((g,v)=>g+v,0);b=o-P,t=u+b,m=t>0?t-i:0}return{frontTotal:s,backTotal:o,totalScore:h,toPar:h>0?h-i:0,frontToPar:s>0?s-S:0,backToPar:o>0?o-F:0,netFrontTotal:u,netBackTotal:b,netTotalScore:t,netToPar:m}},T=(a,s)=>I(a)?a===1?{color:"text-scorecard font-bold",decoration:"bg-red-800 rounded-full border-2 border-red-800"}:a<s-1?{color:"text-red-800 font-bold",decoration:"border-2 border-red-800 rounded-full shadow-[0_0_0_2px_white,0_0_0_4px_#aa2626]"}:a===s-1?{color:"text-red-800 font-bold",decoration:"border-2 border-red-800 rounded-full"}:a===s?{color:"text-turf",decoration:""}:a===s+1?{color:"text-blue-900 font-bold",decoration:"border-2 border-blue-900"}:a===s+2?{color:"text-blue-900 font-bold",decoration:"border-2 border-blue-900 shadow-[0_0_0_2px_white,0_0_0_4px_#1e40af]"}:a>=s+3?{color:"text-blue-600 font-bold",decoration:"border-2 border-blue-600 shadow-[0_0_0_2px_white,0_0_0_4px_#60a5fa]"}:{color:"text-charcoal",decoration:""}:a===-1?{color:"text-red-600",decoration:""}:a===0?{color:"text-soft-grey",decoration:""}:{color:"text-charcoal",decoration:""},N=$();return e.jsxs("div",{className:"bg-scorecard overflow-hidden",children:[e.jsx("div",{className:"bg-turf text-scorecard px-2 py-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold text-base font-display",children:r.name}),r.isMultiPlayer&&e.jsx("span",{className:"text-rough text-sm",children:"ðŸ‘¥"})]}),e.jsxs("div",{className:"flex items-center gap-3 text-sm font-primary",children:[_&&e.jsxs(e.Fragment,{children:[y!==void 0&&e.jsxs("span",{className:"text-scorecard/70",children:["HCP ",y.toFixed(1)]}),n!==void 0&&e.jsxs("span",{className:"text-scorecard font-medium",children:["(",n,")"]})]}),r.type&&e.jsx("span",{className:"text-scorecard/70",children:r.type})]})]})}),e.jsxs("div",{className:"border-b border-soft-grey",children:[e.jsx("div",{className:"bg-rough/40",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-10 min-w-10 px-0.5 py-1 text-xs font-medium text-fairway border-r border-soft-grey font-primary",children:"Hole"}),w.map(a=>e.jsx("div",{className:k("min-w-6 px-0.5 py-1 text-center text-xs font-medium text-fairway border-r border-soft-grey flex-1 font-primary",a.number===d&&"bg-turf text-scorecard"),children:a.number},a.number)),e.jsx("div",{className:"min-w-10 px-0.5 py-1 text-center text-xs font-medium text-fairway bg-rough/50 font-primary",children:"OUT"})]})}),e.jsx("div",{className:"bg-rough/20",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-10 min-w-10 px-0.5 py-1 text-xs font-medium text-fairway border-r border-soft-grey font-primary",children:"Par"}),w.map(a=>e.jsx("div",{className:"min-w-6 px-0.5 py-1 text-center text-xs font-medium text-fairway border-r border-soft-grey flex-1 font-primary",children:a.par},a.number)),e.jsx("div",{className:"min-w-10 px-0.5 py-1 text-center text-xs font-bold text-fairway bg-rough/50 font-display",children:w.reduce((a,s)=>a+s.par,0)})]})}),_&&f&&e.jsx("div",{className:"bg-scorecard",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-10 min-w-10 px-0.5 py-1 text-xs font-medium text-fairway border-r border-soft-grey font-primary",children:"SI"}),w.map(a=>{const s=f[a.number-1],o=(j==null?void 0:j[a.number-1])??0;return e.jsx("div",{className:k("min-w-6 px-0.5 py-1 text-center text-xs border-r border-soft-grey flex-1 font-primary",o>0&&"text-charcoal font-bold bg-amber-100",o<0&&"text-charcoal font-bold bg-red-100",o===0&&"text-charcoal/50"),children:s},a.number)}),e.jsx("div",{className:"min-w-10 px-0.5 py-1 text-center text-xs font-medium text-fairway bg-rough/30 font-primary",children:"-"})]})}),e.jsx("div",{className:"bg-scorecard border-b border-soft-grey",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-10 min-w-10 px-0.5 py-1 text-xs font-medium text-fairway border-r border-soft-grey font-primary",children:"Score"}),w.map(a=>{const s=r.scores[a.number-1]??0,o=T(s,a.par);return e.jsx("div",{className:k("min-w-6 px-0.5 py-1 text-center text-xs font-medium flex items-center justify-center border-r border-soft-grey flex-1",a.number===d&&"bg-turf/10"),children:e.jsx("div",{className:k("w-5 h-5 flex items-center justify-center text-xs font-display",o.color,o.decoration),children:J(s)})},a.number)}),e.jsx("div",{className:"min-w-10 px-0.5 py-1 text-center text-xs font-bold text-charcoal bg-rough/50 font-display",children:N.frontTotal??"-"})]})}),_&&j&&e.jsx("div",{className:"bg-scorecard border-b border-soft-grey border-l-2 border-l-turf",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-10 min-w-10 px-0.5 py-1 text-xs font-medium text-turf border-r border-soft-grey font-primary",children:"Net"}),w.map(a=>{const s=r.scores[a.number-1]??0,o=j[a.number-1]??0,h=I(s)?s-o:0,S=I(s)?T(h,a.par):{color:"text-soft-grey",decoration:""};return e.jsx("div",{className:k("min-w-6 px-0.5 py-1 text-center text-xs font-medium flex items-center justify-center border-r border-soft-grey flex-1",a.number===d&&"bg-turf/10"),children:e.jsx("div",{className:k("w-5 h-5 flex items-center justify-center text-xs font-display",S.color,S.decoration),children:I(s)?h:"-"})},a.number)}),e.jsx("div",{className:"min-w-10 px-0.5 py-1 text-center text-xs font-bold text-turf bg-rough/30 font-display",children:N.netFrontTotal??"-"})]})})]}),e.jsxs("div",{className:"border-b border-soft-grey",children:[e.jsx("div",{className:"bg-rough/40",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-10 min-w-10 px-0.5 py-1 text-xs font-medium text-fairway border-r border-soft-grey font-primary",children:"Hole"}),p.map(a=>e.jsx("div",{className:k("min-w-6 px-0.5 py-1 text-center text-xs font-medium text-fairway border-r border-soft-grey flex-1 font-primary",a.number===d&&"bg-turf text-scorecard"),children:a.number},a.number)),e.jsx("div",{className:"min-w-10 px-0.5 py-1 text-center text-xs font-medium text-fairway bg-rough/50 font-primary",children:"IN"})]})}),e.jsx("div",{className:"bg-rough/20",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-10 min-w-10 px-0.5 py-1 text-xs font-medium text-fairway border-r border-soft-grey font-primary",children:"Par"}),p.map(a=>e.jsx("div",{className:"min-w-6 px-0.5 py-1 text-center text-xs font-medium text-fairway border-r border-soft-grey flex-1 font-primary",children:a.par},a.number)),e.jsx("div",{className:"min-w-10 px-0.5 py-1 text-center text-xs font-bold text-fairway bg-rough/50 font-display",children:p.reduce((a,s)=>a+s.par,0)})]})}),_&&f&&e.jsx("div",{className:"bg-scorecard",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-10 min-w-10 px-0.5 py-1 text-xs font-medium text-fairway border-r border-soft-grey font-primary",children:"SI"}),p.map(a=>{const s=f[a.number-1],o=(j==null?void 0:j[a.number-1])??0;return e.jsx("div",{className:k("min-w-6 px-0.5 py-1 text-center text-xs border-r border-soft-grey flex-1 font-primary",o>0&&"text-charcoal font-bold bg-amber-100",o<0&&"text-charcoal font-bold bg-red-100",o===0&&"text-charcoal/50"),children:s},a.number)}),e.jsx("div",{className:"min-w-10 px-0.5 py-1 text-center text-xs font-medium text-fairway bg-rough/30 font-primary",children:"-"})]})}),e.jsx("div",{className:"bg-scorecard",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-10 min-w-10 px-0.5 py-1 text-xs font-medium text-fairway border-r border-soft-grey font-primary",children:"Score"}),p.map(a=>{const s=r.scores[a.number-1]??0,o=T(s,a.par);return e.jsx("div",{className:k("min-w-6 px-0.5 py-1 text-center text-xs font-medium flex items-center justify-center border-r border-soft-grey flex-1",a.number===d&&"bg-turf/10"),children:e.jsx("div",{className:k("w-5 h-5 flex items-center justify-center text-xs font-display",o.color,o.decoration),children:J(s)})},a.number)}),e.jsx("div",{className:"min-w-10 px-0.5 py-1 text-center text-xs font-bold text-charcoal bg-rough/50 font-display",children:N.backTotal??"-"})]})}),_&&j&&e.jsx("div",{className:"bg-scorecard border-l-2 border-l-turf",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-10 min-w-10 px-0.5 py-1 text-xs font-medium text-turf border-r border-soft-grey font-primary",children:"Net"}),p.map(a=>{const s=r.scores[a.number-1]??0,o=j[a.number-1]??0,h=I(s)?s-o:0,S=I(s)?T(h,a.par):{color:"text-soft-grey",decoration:""};return e.jsx("div",{className:k("min-w-6 px-0.5 py-1 text-center text-xs font-medium flex items-center justify-center border-r border-soft-grey flex-1",a.number===d&&"bg-turf/10"),children:e.jsx("div",{className:k("w-5 h-5 flex items-center justify-center text-xs font-display",S.color,S.decoration),children:I(s)?h:"-"})},a.number)}),e.jsx("div",{className:"min-w-10 px-0.5 py-1 text-center text-xs font-bold text-turf bg-rough/30 font-display",children:N.netBackTotal??"-"})]})})]}),e.jsx("div",{className:"bg-rough/30 px-2 py-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-fairway font-primary",children:_?"Gross":"Total Score"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-turf text-sm font-primary",children:["Total: ",N.totalScore??"-"]}),e.jsxs("span",{className:"text-base font-bold text-charcoal font-display",children:["To par:"," ",N.totalScore&&N.toPar!==null?E(N.toPar):"-"]})]})]})}),_&&e.jsx("div",{className:"bg-scorecard px-2 py-2 border-t border-soft-grey border-l-2 border-l-turf",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-turf font-primary",children:"Net"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-charcoal/70 text-sm font-primary",children:["Total: ",N.netTotalScore??"-"]}),e.jsxs("span",{className:"text-base font-bold text-turf font-display",children:["To par:"," ",N.netTotalScore&&N.netToPar!==null?E(N.netToPar):"-"]})]})]})})]})}function $e({visible:r,participant:c,course:d,onClose:f,isTourCompetition:x=!1,netScoringData:n}){return!r||!c||!d?null:e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-2 bg-black bg-opacity-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-200",children:[e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Scorecard"})}),e.jsx("button",{onClick:f,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors flex-shrink-0 ml-2",children:e.jsx(re,{className:"h-5 w-5"})})]}),e.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-180px)]",children:e.jsx("div",{className:"p-2",children:e.jsx(je,{participant:{id:c.id.toString(),name:c.player_name||c.position_name,type:x?void 0:c.player_name?`${c.team_name}, ${c.position_name}`:c.team_name,scores:c.score},course:d,strokeIndex:n==null?void 0:n.strokeIndex,handicapStrokesPerHole:n==null?void 0:n.handicapStrokesPerHole,courseHandicap:n==null?void 0:n.courseHandicap,handicapIndex:n==null?void 0:n.handicapIndex})})}),e.jsx("div",{className:"p-3 border-t border-gray-200",children:e.jsx("button",{onClick:f,className:"w-full bg-gray-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-gray-700 transition-colors",children:"Close Scorecard"})})]})})}function ke({leaderboard:r,leaderboardLoading:c,onParticipantClick:d,isRoundView:f=!1,isTourCompetition:x=!1,scoringMode:n,teeInfo:y,categoryTees:w,categories:p}){const[j,_]=H.useState("all"),[$,T]=H.useState(void 0),[N,a]=H.useState(n==="net"||n==="both"?"net":"gross");H.useEffect(()=>{p&&p.length>0&&$===void 0&&T(p[0].id)},[p,$]);const s=n==="net"||n==="both",o=t=>{if(t.isDNF)return"DNF";const m=t.participant.score.includes(-1),l=t.participant.is_locked;return t.holesPlayed>0?l&&!m?"FINISHED":"IN_PROGRESS":"NOT_STARTED"},h=t=>{const m=o(t);return m==="DNF"?"DNF":m==="NOT_STARTED"?t.startTime?t.startTime:"TBD":m==="FINISHED"?"F":t.holesPlayed.toString()},F=(r?[...r].sort((t,m)=>{if(t.isDNF&&!m.isDNF)return 1;if(!t.isDNF&&m.isDNF)return-1;if(t.isDNF&&m.isDNF)return m.holesPlayed-t.holesPlayed;const l=t.participant.score.includes(-1),P=m.participant.score.includes(-1),g=t.holesPlayed>0,v=m.holesPlayed>0,D=g&&!l,C=v&&!P,B=g&&l,M=v&&P,V=!g,z=!v;if(D&&!C)return-1;if(!D&&C)return 1;if(B&&z)return-1;if(V&&M)return 1;if(D&&C){if(N==="net"){const te=t.netRelativeToPar??t.relativeToPar,se=m.netRelativeToPar??m.relativeToPar;return te-se}return t.relativeToPar-m.relativeToPar}return 0}):[]).filter(t=>!(j==="finished"&&o(t)!=="FINISHED"||$!==void 0&&t.participant.category_id!==$)),i=(t,m,l)=>{if(l)return"border-red-300 text-red-500";if(m===0)return"border-gray-300 text-gray-500";switch(t){case 0:return"border-yellow-400 text-yellow-400";case 1:return"border-gray-400 text-gray-400";case 2:return"border-orange-400 text-orange-400";default:return"border-gray-300 text-gray-500"}},u=(t,m,l)=>{if(l)return"bg-red-50/50 hover:bg-red-100/50";if(m===0)return"bg-scorecard hover:bg-gray-50";switch(t){case 0:return"bg-yellow-50 hover:bg-yellow-100";case 1:return"bg-gray-50 hover:bg-gray-100";case 2:return"bg-orange-50 hover:bg-orange-100";default:return"bg-scorecard hover:bg-gray-50"}},b=e.jsxs("div",{className:"space-y-3 md:space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg md:text-xl font-semibold text-fairway font-display",children:"Leaderboard"}),w&&w.length>0?e.jsx("div",{className:"text-xs text-turf font-primary mt-1 space-y-0.5",children:w.map(t=>e.jsxs("div",{children:[e.jsxs("span",{className:"font-medium",children:[t.categoryName,":"]})," ",t.teeName," (CR: ",t.courseRating.toFixed(1),", SR: ",t.slopeRating,")"]},t.categoryId))}):y?e.jsxs("div",{className:"text-xs text-turf font-primary mt-1",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full mr-1.5 align-middle",style:{backgroundColor:y.color||"#666"}}),y.name," Tees (CR: ",y.courseRating.toFixed(1),", SR: ",y.slopeRating,")"]}):null]}),e.jsx("div",{className:"text-xs md:text-sm text-turf font-primary",children:"Live scoring"})]}),(p&&p.length>=1||n==="both")&&e.jsxs("div",{className:"flex items-center justify-between gap-4 pb-2",children:[p&&p.length>1&&$!==void 0?e.jsxs(ae,{value:$.toString(),onValueChange:t=>T(Number(t)),children:[e.jsx(le,{className:"w-auto min-w-[120px] pr-4 bg-scorecard border-soft-grey text-charcoal",children:e.jsx(ne,{placeholder:"Select category"})}),e.jsx(ie,{className:"bg-scorecard border-soft-grey",children:p.map(t=>e.jsx(oe,{value:t.id.toString(),className:"text-charcoal",children:t.name},t.id))})]}):p&&p.length===1?e.jsx("span",{className:"text-sm font-medium text-charcoal px-3 py-1.5 bg-rough/20 rounded-lg",children:p[0].name}):e.jsx("div",{}),n==="both"&&e.jsxs("div",{className:"flex rounded-lg overflow-hidden border border-soft-grey",children:[e.jsx("button",{onClick:()=>a("gross"),className:`px-4 py-1.5 text-sm font-medium transition-colors ${N==="gross"?"bg-turf text-scorecard":"bg-scorecard text-charcoal hover:bg-rough/30"}`,children:"Gross"}),e.jsx("button",{onClick:()=>a("net"),className:`px-4 py-1.5 text-sm font-medium transition-colors border-l border-soft-grey ${N==="net"?"bg-turf text-scorecard":"bg-scorecard text-charcoal hover:bg-rough/30"}`,children:"Net"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[e.jsxs("div",{className:"flex rounded-lg overflow-hidden border border-soft-grey",children:[e.jsx("button",{onClick:()=>_("all"),className:`px-3 py-1.5 text-sm font-medium transition-colors ${j==="all"?"bg-turf text-scorecard":"bg-scorecard text-charcoal hover:bg-rough/30"}`,children:"All"}),e.jsx("button",{onClick:()=>_("finished"),className:`px-3 py-1.5 text-sm font-medium transition-colors border-l border-soft-grey ${j==="finished"?"bg-turf text-scorecard":"bg-scorecard text-charcoal hover:bg-rough/30"}`,children:"Only Finished"})]}),e.jsxs("span",{className:"text-sm text-charcoal/60 ml-auto",children:[F.length," players"]})]}),c?e.jsx("div",{className:"p-4 text-charcoal font-primary",children:"Loading leaderboard..."}):!r||r.length===0?e.jsx("div",{className:"text-center py-6 md:py-8 text-soft-grey font-primary",children:"No scores reported yet."}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"md:hidden",children:[e.jsxs("div",{className:"flex items-center px-4 py-2 border-b-2 border-soft-grey bg-gray-50 text-xs text-gray-500 font-medium",children:[e.jsx("div",{className:"w-7 mr-2",children:"#"}),e.jsx("div",{className:"flex-1 min-w-0",children:"Player"}),e.jsxs("div",{className:`flex items-center ${s?"gap-1":""}`,children:[e.jsx("div",{className:"w-10 text-center",children:"Gross"}),s&&e.jsx("div",{className:"w-10 text-center",children:"Net"}),e.jsx("div",{className:"w-8 text-center",children:"Thru"}),x&&e.jsx("div",{className:"w-8 text-center",children:"Pts"})]})]}),F.map((t,m)=>{const l=t.participant.score.includes(-1),P=m===0&&t.holesPlayed>0&&!t.isDNF,g=o(t),v=h(t);return e.jsx("button",{onClick:()=>d(t.participant.id),className:`w-full text-left px-4 py-2.5 border-b border-soft-grey/50 last:border-b-0 hover:bg-gray-50 transition-colors cursor-pointer ${P?"border-l-4 border-l-coral bg-coral/5":""} ${t.isDNF?"bg-red-50/50":""}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-7 text-base font-bold mr-2 ${i(m,t.holesPlayed,t.isDNF)}`,children:t.isDNF||t.holesPlayed===0?"-":m+1}),e.jsx("div",{className:"flex-1 min-w-0 mr-2",children:t.participant.player_name?e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:`text-sm font-semibold font-display truncate ${t.isDNF?"text-gray-500":"text-charcoal"}`,children:e.jsx(Q,{playerId:t.participant.player_id,playerName:t.participant.player_name,skipFriendCheck:x})}),s&&t.participant.handicap_index!==void 0&&e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsxs("span",{className:"text-xs text-turf font-primary",children:["HCP ",t.participant.handicap_index.toFixed(1)]}),t.courseHandicap!==void 0&&e.jsxs("span",{className:"text-xs bg-coral/20 text-coral px-1 py-0.5 rounded font-medium font-primary",children:["PH ",t.courseHandicap]})]})]}):e.jsx("h3",{className:`text-sm font-semibold font-display truncate ${t.isDNF?"text-gray-500":"text-charcoal"}`,children:x?t.participant.position_name:`${t.participant.team_name} ${t.participant.position_name}`})}),e.jsx("div",{className:`flex items-center ${s?"gap-1":""}`,children:g==="NOT_STARTED"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-10 text-center text-sm text-gray-500",children:v}),x&&e.jsx("div",{className:"w-8 text-center text-sm text-gray-400",children:"-"})]}):g==="DNF"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-10 text-center text-lg font-bold text-gray-400",children:t.holesPlayed>0?E(t.relativeToPar):"-"}),s&&e.jsx("div",{className:"w-10 text-center text-lg font-bold text-gray-400",children:"-"}),e.jsx("div",{className:"w-8 text-center text-xs font-bold text-red-500",children:"DNF"}),x&&e.jsx("div",{className:"w-8 text-center text-sm text-gray-400",children:"-"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`w-10 text-center text-lg font-bold ${l?"text-gray-400":A(t.relativeToPar)}`,children:l?"-":E(t.relativeToPar)}),s&&e.jsx("div",{className:`w-10 text-center text-lg font-bold ${l||t.netRelativeToPar===void 0?"text-gray-400":A(t.netRelativeToPar)}`,children:l||t.netRelativeToPar===void 0?"-":E(t.netRelativeToPar)}),e.jsx("div",{className:"w-8 text-center text-base font-semibold text-gray-600",children:v}),x&&(()=>{const D=N==="net"?t.netPoints:t.points;return e.jsx("div",{className:`w-8 text-center text-sm font-bold ${D&&D>0?t.isProjected?"text-turf/70":"text-turf":"text-gray-400"}`,children:D&&D>0?D:"-"})})()]})})]})},t.participant.id)})]}),e.jsx("div",{className:"hidden md:block",children:e.jsx("div",{className:"bg-scorecard rounded-lg border border-soft-grey overflow-hidden shadow-sm",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-soft-grey",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-charcoal font-display",children:"Pos"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-charcoal font-display",children:x?"Player":"Player/Team"}),e.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-charcoal font-display",children:"Hole & Score"}),x&&e.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-charcoal font-display",children:"Pts"}),e.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-charcoal font-display"})]})}),e.jsx("tbody",{children:F.map((t,m)=>{const l=t.participant.score.includes(-1),P=o(t),g=h(t);return e.jsxs("tr",{className:`border-b border-soft-grey last:border-b-0 transition-colors duration-200 ${u(m,t.holesPlayed,t.isDNF)}`,children:[e.jsx("td",{className:"py-4 px-4",children:e.jsx("div",{className:`text-sm font-bold ${i(m,t.holesPlayed,t.isDNF)}`,children:t.isDNF||t.holesPlayed===0?"-":m+1})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{children:[t.participant.player_name?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`text-body-md font-semibold font-display ${t.isDNF?"text-gray-500":"text-charcoal"}`,children:e.jsx(Q,{playerId:t.participant.player_id,playerName:t.participant.player_name,skipFriendCheck:x})}),!x&&e.jsxs("div",{className:"text-label-sm text-turf font-primary",children:[t.participant.team_name," ",t.participant.position_name]})]}):e.jsx(e.Fragment,{children:e.jsx("div",{className:`text-body-md font-semibold font-display ${t.isDNF?"text-gray-500":"text-charcoal"}`,children:x?t.participant.position_name:`${t.participant.team_name} ${t.participant.position_name}`})}),s&&t.participant.handicap_index!==void 0&&e.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[e.jsxs("span",{className:"text-xs text-turf font-primary",children:["HCP ",t.participant.handicap_index.toFixed(1)]}),t.courseHandicap!==void 0&&e.jsxs("span",{className:"text-xs bg-coral/20 text-coral px-1.5 py-0.5 rounded font-medium font-primary",children:["PH ",t.courseHandicap]})]})]})}),e.jsx("td",{className:"py-4 px-4 text-center",children:P==="NOT_STARTED"?e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Start Time"}),e.jsx("div",{className:"text-base font-medium text-gray-500",children:g})]}):P==="DNF"?e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Status"}),e.jsx("div",{className:"text-xl font-bold text-red-500 font-display",children:"DNF"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-xs text-gray-500",children:["Thru ",t.holesPlayed]}),e.jsx("div",{className:"text-xl font-bold text-gray-400 font-display",children:t.holesPlayed>0?E(t.relativeToPar):"-"})]})]}):e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Hole"}),e.jsx("div",{className:"text-xl font-bold text-charcoal font-display",children:g})]}),P==="FINISHED"?e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:s?"Gross":"Total"}),e.jsx("div",{className:"text-xl font-bold text-charcoal font-display",children:l?"-":t.totalShots})]}):e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:s?"Gross":"To Par"}),e.jsx("div",{className:`text-xl font-bold font-display ${l?"text-gray-500":A(t.relativeToPar)}`,children:l?"-":E(t.relativeToPar)})]}),s&&(P==="FINISHED"?e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Net"}),e.jsx("div",{className:"text-xl font-bold text-charcoal font-display",children:l||t.netTotalShots===void 0?"-":t.netTotalShots})]}):e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Net"}),e.jsx("div",{className:`text-xl font-bold font-display ${l||t.netRelativeToPar===void 0?"text-gray-500":A(t.netRelativeToPar)}`,children:l||t.netRelativeToPar===void 0?"-":E(t.netRelativeToPar)})]}))]})}),x&&(()=>{const v=N==="net"?t.netPoints:t.points;return e.jsxs("td",{className:"py-4 px-4 text-center",children:[e.jsx("div",{className:`text-lg font-bold ${v&&v>0?t.isProjected?"text-turf/70":"text-turf":"text-gray-400"}`,children:v&&v>0?v:"-"}),t.isProjected&&v&&v>0&&e.jsx("div",{className:"text-xs text-gray-500",children:"(proj)"})]})})(),e.jsx("td",{className:"py-4 px-4 text-center",children:e.jsx("button",{onClick:()=>d(t.participant.id),className:"bg-turf text-scorecard px-3 py-2 rounded-md text-sm font-medium hover:bg-fairway transition-colors duration-200 font-primary",children:"View Card"})})]},t.participant.id)})})]})})})]})]});return f?e.jsx("div",{className:"h-full overflow-y-auto bg-scorecard",children:e.jsx("div",{className:"p-4",children:b})}):b}function ge(r){return r.participants.length>0&&r.participants.every(c=>c.is_locked)}function ve(r){return r.participants.some(c=>Array.isArray(c.score)&&c.score.some(d=>d!==0))}function we(r){let c=0;for(const d of r.participants)if(Array.isArray(d.score)){for(let f=d.score.length-1;f>=0;f--)if(d.score[f]!==0){c=Math.max(c,f+1);break}}return c}function L(r){return ge(r)?"finished":ve(r)?"playing":"not_started"}function Re({teeTimes:r,teeTimesLoading:c,competitionId:d,venueType:f="outdoor",currentTeeTimeId:x,currentTeeTime:n,showCurrentGroup:y=!1,totalParticipants:w=0,isTourCompetition:p=!1,isOpenStart:j=!1,onGroupUpdated:_}){var F;const[$,T]=H.useState(!1),[N,a]=H.useState({open:!1,url:"",title:""}),{data:s}=ce(p?parseInt(d):0),o=i=>p?i.player_name||"Player":i.player_name?`${i.player_name}, ${i.team_name} ${X(i.position_name)}`:`${i.team_name} ${X(i.position_name)}`,S=p&&j&&!(i=>i?i.participants.some(u=>Array.isArray(u.score)&&u.score.some(b=>b!==0)):!1)(n);return y?e.jsxs("div",{className:"h-full overflow-y-auto bg-scorecard",children:[e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg md:text-xl font-semibold text-fairway font-display",children:"Round Participants"}),e.jsx("div",{className:"text-xs md:text-sm text-turf font-primary",children:x?"Current group":`${w} total`})]}),x&&n&&e.jsxs("div",{className:"border-l-4 border-turf mb-4",children:[e.jsxs("div",{className:"bg-rough/20 px-4 py-3 flex items-center justify-between",children:[e.jsxs("h3",{className:"text-sm md:text-lg font-semibold text-fairway font-display flex items-center gap-2",children:[j?"Your Group":`Your Group - ${n.teetime}`,e.jsx("span",{className:"text-xs text-turf font-primary font-medium",children:f==="indoor"&&n.hitting_bay?`Â· Bay ${n.hitting_bay}`:`Â· Hole ${n.start_hole}`})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{onClick:()=>a({open:!0,url:U(parseInt(d),n.id),title:"Share Group"}),variant:"ghost",size:"sm",className:"text-turf hover:text-fairway hover:bg-turf/10",children:e.jsx(Y,{className:"h-4 w-4"})}),S?e.jsxs(W,{onClick:()=>T(!0),variant:"ghost",size:"sm",className:"text-turf hover:text-fairway hover:bg-turf/10",children:[e.jsx(me,{className:"h-4 w-4 mr-1"}),"Edit"]}):e.jsx("span",{className:"text-xs md:text-sm text-coral font-semibold font-primary",children:"Active"})]})]}),e.jsx("div",{className:"divide-y divide-soft-grey",children:n.participants.map((i,u)=>{var m;const b=(m=s==null?void 0:s.group)==null?void 0:m.players[u],t=p&&b?b.name:o(i);return e.jsxs("div",{className:"px-4 py-3 flex items-center justify-between hover:bg-gray-50/50 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("h4",{className:"text-sm md:text-base font-medium text-fairway font-primary",children:[t,(b==null?void 0:b.is_you)&&e.jsx("span",{className:"text-xs text-turf ml-2",children:"(you)"})]}),p&&(b==null?void 0:b.handicap)!==void 0&&e.jsxs("div",{className:"text-sm text-charcoal/70",children:["HCP ",b.handicap.toFixed(1)]})]}),e.jsx("div",{className:"flex items-center gap-2",children:G(i.position_name)&&e.jsx(O,{className:"w-4 h-4 inline-block text-turf"})})]},i.id)})})]}),(()=>{if(!r||r.length===0)return e.jsx("div",{className:"text-center py-6 md:py-8 text-soft-grey font-primary",children:"No tee times scheduled for this competition."});const i=r.filter(l=>!x||l.id!==parseInt(x)),u=i.filter(l=>L(l)==="playing"),b=i.filter(l=>L(l)==="not_started"),t=i.filter(l=>L(l)==="finished"),m=(l,P)=>e.jsxs("div",{className:"border-l-4 border-soft-grey hover:border-turf transition-colors",children:[e.jsxs("div",{className:"bg-rough/20 px-4 py-2 flex items-center justify-between",children:[e.jsxs("h4",{className:"text-sm font-semibold text-fairway font-display flex items-center gap-2",children:[j?"Group":l.teetime,e.jsx("span",{className:"text-xs text-charcoal/50 font-primary font-normal",children:f==="indoor"&&l.hitting_bay?`Â· Bay ${l.hitting_bay}`:`Â· Start ${l.start_hole}`})]}),P]}),e.jsx("div",{className:"divide-y divide-soft-grey/50",children:l.participants.map(g=>e.jsxs("div",{className:"px-4 py-2 flex items-center justify-between",children:[e.jsx("h5",{className:"text-xs md:text-sm font-medium text-fairway font-primary",children:o(g)}),G(g.position_name)&&e.jsx(O,{className:"w-3 h-3 text-turf"})]},g.id))})]},l.id);return e.jsxs("div",{className:"space-y-6",children:[u.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-medium text-fairway mb-3 font-primary flex items-center gap-2",children:[e.jsx(fe,{className:"w-4 h-4 text-coral"}),"On Course",e.jsxs("span",{className:"text-charcoal/50 font-normal",children:["(",u.length,")"]})]}),e.jsx("div",{className:"space-y-3",children:u.map(l=>{const P=we(l);return m(l,e.jsxs("span",{className:"text-xs text-coral font-semibold font-primary",children:["Hole ",P]}))})})]}),b.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-medium text-fairway mb-3 font-primary flex items-center gap-2",children:[e.jsx(be,{className:"w-4 h-4 text-charcoal/40"}),"Waiting to Start",e.jsxs("span",{className:"text-charcoal/50 font-normal",children:["(",b.length,")"]})]}),e.jsx("div",{className:"space-y-3",children:b.map(l=>m(l))})]}),t.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-medium text-fairway mb-3 font-primary flex items-center gap-2",children:[e.jsx(he,{className:"w-4 h-4 text-turf"}),"Finished",e.jsxs("span",{className:"text-charcoal/50 font-normal",children:["(",t.length,")"]})]}),e.jsx("div",{className:"space-y-3",children:t.map(l=>m(l,e.jsx("span",{className:"text-xs text-turf font-medium font-primary",children:"Done"})))})]}),i.length===0&&e.jsx("div",{className:"text-center py-6 text-charcoal/50 text-sm font-primary",children:"No other groups in this competition."})]})})()]}),S&&e.jsx(pe,{isOpen:$,onClose:()=>T(!1),competitionId:parseInt(d),currentGroupSize:(n==null?void 0:n.participants.length)||0,maxGroupSize:4,mode:"add_to_existing",currentGroupMembers:((F=s==null?void 0:s.group)==null?void 0:F.players)||[],onSuccess:()=>{_==null||_()}}),e.jsx(q,{open:N.open,onOpenChange:i=>a(u=>({...u,open:i})),url:N.url,title:N.title,description:"Share this QR code or link with your group members to get them to the scorecard"})]}):e.jsxs("div",{className:"space-y-3 md:space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg md:text-xl font-semibold text-fairway font-display",children:"Tee Times"}),e.jsxs("div",{className:"text-xs md:text-sm text-turf font-primary",children:[(r==null?void 0:r.length)||0," tee times"]})]}),c?e.jsx("div",{className:"p-4 text-charcoal font-primary",children:"Loading tee times..."}):!r||r.length===0?e.jsx("div",{className:"text-center py-6 md:py-8 text-soft-grey text-sm font-primary",children:"No tee times scheduled for this competition yet."}):e.jsx("div",{className:"space-y-6",children:r.map(i=>e.jsxs("div",{className:"border-l-4 border-turf",children:[e.jsx("div",{className:"bg-rough/20 px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h4",{className:"text-base md:text-lg font-semibold text-fairway font-display flex items-center gap-2",children:[e.jsx(de,{className:"h-4 w-4 md:h-5 md:w-5 text-turf"}),i.teetime,e.jsx("span",{className:"text-xs md:text-sm text-turf font-primary font-medium",children:f==="indoor"&&i.hitting_bay?`Â· Bay ${i.hitting_bay}`:`Â· Hole ${i.start_hole}`})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>a({open:!0,url:U(parseInt(d),i.id),title:`Tee Time ${i.teetime}`}),className:"p-1.5 text-turf hover:text-fairway hover:bg-turf/10 rounded-lg transition-colors",title:"Share tee time",children:e.jsx(Y,{className:"h-4 w-4"})}),e.jsxs("div",{className:"text-xs md:text-sm text-turf font-primary",children:[i.participants.length," players"]})]})]})}),i.participants.length===0?e.jsx("div",{className:"text-center py-4 text-soft-grey text-sm font-primary",children:"No participants assigned to this tee time yet."}):e.jsx("div",{className:"divide-y divide-soft-grey",children:i.participants.map(u=>e.jsxs(xe,{to:`/player/competitions/${d}/tee-times/${i.id}`,className:"px-4 py-3 flex items-center justify-between hover:bg-rough hover:bg-opacity-20 transition-colors",children:[e.jsx("div",{className:"flex-1",children:e.jsx("h5",{className:"text-sm md:text-base font-medium text-fairway font-primary",children:o(u)})}),e.jsx("div",{className:"text-xs text-turf",children:G(u.position_name)&&e.jsx(O,{className:"w-4 h-4 inline-block"})})]},u.id))})]},i.id))}),e.jsx(q,{open:N.open,onOpenChange:i=>a(u=>({...u,open:i})),url:N.url,title:N.title,description:"Scan to view this tee time group"})]})}function Ee({teamResults:r,leaderboardLoading:c,individualResults:d,isRoundView:f=!1,onParticipantClick:x}){const[n,y]=H.useState("all"),[w,p]=H.useState(new Set),j=s=>{p(o=>{const h=new Set(o);return h.has(s)?h.delete(s):h.add(s),h})},_=r==null?void 0:r.filter(s=>n==="finished"?s.status==="FINISHED":!0),$=s=>d?d.filter(h=>h.participant.team_name===s).sort((h,S)=>{const F=h.participant.score.includes(-1),i=S.participant.score.includes(-1),u=h.holesPlayed>0,b=S.holesPlayed>0,t=u&&!F,m=b&&!i,l=u&&F,P=b&&i,g=!u,v=!b;return t&&!m?-1:!t&&m?1:l&&v?-1:g&&P?1:t&&m?h.relativeToPar-S.relativeToPar:0}):[],T=s=>{const o=s.participant.score.includes(-1),h=s.participant.is_locked;return s.holesPlayed>0?h&&!o?"FINISHED":"IN_PROGRESS":"NOT_STARTED"},N=s=>{const o=T(s);return o==="NOT_STARTED"?s.startTime?s.startTime:"TBD":o==="FINISHED"?"F":s.holesPlayed.toString()},a=e.jsxs("div",{className:"space-y-4 md:space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h2",{className:"text-xl md:text-2xl font-bold text-fairway font-display",children:"Team Results"})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>y("all"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${n==="all"?"bg-coral text-scorecard":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"All"}),e.jsx("button",{onClick:()=>y("finished"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${n==="finished"?"bg-coral text-scorecard":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Only Finished"})]}),c?e.jsx("div",{className:"flex items-center justify-center py-8 md:py-12",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-coral border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-charcoal font-primary",children:"Loading team results..."})]})}):!r||r.length===0?e.jsxs("div",{className:"text-center py-8 md:py-12",children:[e.jsx("h3",{className:"text-lg font-semibold text-charcoal font-display mb-2",children:"No Results Yet"}),e.jsx("p",{className:"text-soft-grey font-primary",children:"Team results will appear here once scores are submitted."})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between pb-2 mb-2 pr-3 border-b border-soft-grey text-xs text-charcoal/50 uppercase tracking-wide",children:[e.jsx("div",{className:"flex-1",children:"Team"}),e.jsxs("div",{className:"flex items-center gap-4 text-right",children:[e.jsx("div",{className:"w-14",children:"To Par"}),e.jsx("div",{className:"w-10",children:"Pts"})]})]}),e.jsx("div",{className:"divide-y divide-soft-grey",children:_==null?void 0:_.map((s,o)=>{const h=o===0&&s.status!=="NOT_STARTED",S=o<=2&&s.status!=="NOT_STARTED",F=s.status!=="NOT_STARTED",i=$(s.teamName),u=w.has(s.teamId),b=h?"border-l-4 border-l-coral bg-coral/5":S?"border-l-4 border-l-turf":F?"border-l-4 border-l-charcoal/20":"";return e.jsxs("div",{className:`${b} ${F?"":"opacity-60"}`,children:[e.jsxs("button",{onClick:()=>F&&i.length>0&&j(s.teamId),className:`w-full flex items-center justify-between py-3 pr-3 text-left ${F&&i.length>0?"hover:bg-gray-50/50 cursor-pointer":""}`,children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[F&&i.length>0?e.jsx("svg",{className:`w-4 h-4 text-charcoal/30 transition-transform flex-shrink-0 ${u?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}):e.jsx("div",{className:"w-4"}),e.jsx("span",{className:`text-base font-bold w-5 flex-shrink-0 ${h?"text-coral":S?"text-turf":F?"text-charcoal":"text-soft-grey"}`,children:o+1}),e.jsx("span",{className:"text-base font-semibold text-charcoal font-display truncate",children:s.teamName})]}),e.jsx("div",{className:"flex items-center gap-4 text-right flex-shrink-0",children:s.status==="NOT_STARTED"?e.jsx("span",{className:"text-sm text-soft-grey",children:"â€”"}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`w-14 text-base font-bold font-display ${s.totalRelativeScore!==null?A(s.totalRelativeScore):"text-charcoal"}`,children:s.totalRelativeScore!==null?E(s.totalRelativeScore):"-"}),e.jsx("div",{className:`w-10 text-base font-bold font-display ${h?"text-coral":S?"text-turf":"text-charcoal"}`,children:s.teamPoints??"-"})]})})]}),u&&i.length>0&&e.jsxs("div",{className:"pl-7 pr-4 pb-3 bg-gray-50/50",children:[s.totalShots&&e.jsxs("div",{className:"text-xs text-charcoal/50 mb-2",children:["Total: ",s.totalShots," shots"]}),e.jsx("div",{className:"divide-y divide-soft-grey/30",children:i.map((t,m)=>{const l=T(t),P=N(t),g=t.participant.score.includes(-1);return e.jsxs("button",{onClick:v=>{v.stopPropagation(),x==null||x(t.participant.id)},className:`w-full flex items-center justify-between py-2 transition-colors text-left ${l!=="NOT_STARTED"&&x?"hover:bg-gray-50 cursor-pointer":"cursor-default"}`,disabled:!x||l==="NOT_STARTED",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsx("span",{className:"text-xs text-charcoal/30 w-4",children:m+1}),e.jsx("span",{className:`font-medium font-primary text-sm ${l!=="NOT_STARTED"?"text-charcoal":"text-soft-grey"}`,children:t.participant.player_name?`${t.participant.player_name} (${t.participant.position_name})`:t.participant.position_name})]}),e.jsx("div",{className:"flex items-center gap-4 text-sm",children:l==="NOT_STARTED"?e.jsx("span",{className:"text-charcoal/40",children:P}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-charcoal/60 w-6 text-center",children:P}),e.jsx("span",{className:`font-bold w-8 text-right ${g?"text-charcoal/40":A(t.relativeToPar)}`,children:g?"-":E(t.relativeToPar)})]})})]},t.participant.id)})})]})]},s.teamId)})})]})]});return f?e.jsx("div",{className:"h-full overflow-y-auto bg-scorecard",children:e.jsx("div",{className:"p-4 md:p-6",children:a})}):a}export{be as C,ke as L,Re as P,je as S,Ee as T,$e as a,Pe as b,Fe as c,Ne as d,_e as e,E as f,A as g,Te as i};
