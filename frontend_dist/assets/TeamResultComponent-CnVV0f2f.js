import{ag as J,r as k,j as e,ah as X,ai as Z,aj as U,ak as ee,al as te,am as V,an as R,g as E,s as se,e as ae,K as Q,ao as z,b as re,a4 as T,U as A,Q as Y,ap as q,aq as le,P as ie,f as ce,ar as ne,a5 as M}from"./index--0dlYeOd.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],de=J("circle",oe);function pe({leaderboard:i,leaderboardLoading:j,onParticipantClick:N,isRoundView:v=!1,isTourCompetition:o=!1,scoringMode:d,teeInfo:w,categoryTees:H,categories:x}){const[F,S]=k.useState("all"),[P,D]=k.useState(void 0),[y,_]=k.useState(d==="net"||d==="both"?"net":"gross");k.useEffect(()=>{x&&x.length>0&&P===void 0&&D(x[0].id)},[x,P]);const s=d==="net"||d==="both",m=t=>{if(t.isDNF)return"DNF";const l=t.participant.score.includes(-1),a=t.participant.is_locked;return t.holesPlayed>0?a&&!l?"FINISHED":"IN_PROGRESS":"NOT_STARTED"},h=t=>{const l=m(t);return l==="DNF"?"DNF":l==="NOT_STARTED"?t.startTime?t.startTime:"TBD":l==="FINISHED"?"F":t.holesPlayed.toString()},g=(i?[...i].sort((t,l)=>{if(t.isDNF&&!l.isDNF)return 1;if(!t.isDNF&&l.isDNF)return-1;if(t.isDNF&&l.isDNF)return l.holesPlayed-t.holesPlayed;const a=t.participant.score.includes(-1),f=l.participant.score.includes(-1),p=t.holesPlayed>0,u=l.holesPlayed>0,$=p&&!a,I=u&&!f,G=p&&a,L=u&&f,O=!p,B=!u;if($&&!I)return-1;if(!$&&I)return 1;if(G&&B)return-1;if(O&&L)return 1;if($&&I){if(y==="net"){const W=t.netRelativeToPar??t.relativeToPar,K=l.netRelativeToPar??l.relativeToPar;return W-K}return t.relativeToPar-l.relativeToPar}return 0}):[]).filter(t=>!(F==="finished"&&m(t)!=="FINISHED"||P!==void 0&&t.participant.category_id!==P)),r=(t,l,a)=>{if(a)return"border-red-300 text-red-500";if(l===0)return"border-gray-300 text-gray-500";switch(t){case 0:return"border-yellow-400 text-yellow-400";case 1:return"border-gray-400 text-gray-400";case 2:return"border-orange-400 text-orange-400";default:return"border-gray-300 text-gray-500"}},c=(t,l,a)=>{if(a)return"bg-red-50/50 hover:bg-red-100/50";if(l===0)return"bg-scorecard hover:bg-gray-50";switch(t){case 0:return"bg-yellow-50 hover:bg-yellow-100";case 1:return"bg-gray-50 hover:bg-gray-100";case 2:return"bg-orange-50 hover:bg-orange-100";default:return"bg-scorecard hover:bg-gray-50"}},n=e.jsxs("div",{className:"space-y-3 md:space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg md:text-xl font-semibold text-fairway font-display",children:"Leaderboard"}),H&&H.length>0?e.jsx("div",{className:"text-xs text-turf font-primary mt-1 space-y-0.5",children:H.map(t=>e.jsxs("div",{children:[e.jsxs("span",{className:"font-medium",children:[t.categoryName,":"]})," ",t.teeName," (CR: ",t.courseRating.toFixed(1),", SR: ",t.slopeRating,")"]},t.categoryId))}):w?e.jsxs("div",{className:"text-xs text-turf font-primary mt-1",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full mr-1.5 align-middle",style:{backgroundColor:w.color||"#666"}}),w.name," Tees (CR: ",w.courseRating.toFixed(1),", SR: ",w.slopeRating,")"]}):null]}),e.jsx("div",{className:"text-xs md:text-sm text-turf font-primary",children:"Live scoring"})]}),(x&&x.length>=1||d==="both")&&e.jsxs("div",{className:"flex items-center justify-between gap-4 pb-2",children:[x&&x.length>1&&P!==void 0?e.jsxs(X,{value:P.toString(),onValueChange:t=>D(Number(t)),children:[e.jsx(Z,{className:"w-auto min-w-[120px] pr-4 bg-scorecard border-soft-grey text-charcoal",children:e.jsx(U,{placeholder:"Select category"})}),e.jsx(ee,{className:"bg-scorecard border-soft-grey",children:x.map(t=>e.jsx(te,{value:t.id.toString(),className:"text-charcoal",children:t.name},t.id))})]}):x&&x.length===1?e.jsx("span",{className:"text-sm font-medium text-charcoal px-3 py-1.5 bg-rough/20 rounded-lg",children:x[0].name}):e.jsx("div",{}),d==="both"&&e.jsxs("div",{className:"flex rounded-lg overflow-hidden border border-soft-grey",children:[e.jsx("button",{onClick:()=>_("gross"),className:`px-4 py-1.5 text-sm font-medium transition-colors ${y==="gross"?"bg-turf text-scorecard":"bg-scorecard text-charcoal hover:bg-rough/30"}`,children:"Gross"}),e.jsx("button",{onClick:()=>_("net"),className:`px-4 py-1.5 text-sm font-medium transition-colors border-l border-soft-grey ${y==="net"?"bg-turf text-scorecard":"bg-scorecard text-charcoal hover:bg-rough/30"}`,children:"Net"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[e.jsxs("div",{className:"flex rounded-lg overflow-hidden border border-soft-grey",children:[e.jsx("button",{onClick:()=>S("all"),className:`px-3 py-1.5 text-sm font-medium transition-colors ${F==="all"?"bg-turf text-scorecard":"bg-scorecard text-charcoal hover:bg-rough/30"}`,children:"All"}),e.jsx("button",{onClick:()=>S("finished"),className:`px-3 py-1.5 text-sm font-medium transition-colors border-l border-soft-grey ${F==="finished"?"bg-turf text-scorecard":"bg-scorecard text-charcoal hover:bg-rough/30"}`,children:"Only Finished"})]}),e.jsxs("span",{className:"text-sm text-charcoal/60 ml-auto",children:[g.length," players"]})]}),j?e.jsx("div",{className:"p-4 text-charcoal font-primary",children:"Loading leaderboard..."}):!i||i.length===0?e.jsx("div",{className:"text-center py-6 md:py-8 text-soft-grey font-primary",children:"No scores reported yet."}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"md:hidden",children:[e.jsxs("div",{className:"flex items-center px-4 py-2 border-b-2 border-soft-grey bg-gray-50 text-xs text-gray-500 font-medium",children:[e.jsx("div",{className:"w-7 mr-2",children:"#"}),e.jsx("div",{className:"flex-1 min-w-0",children:"Player"}),e.jsxs("div",{className:`flex items-center ${s?"gap-1":""}`,children:[e.jsx("div",{className:"w-10 text-center",children:"Gross"}),s&&e.jsx("div",{className:"w-10 text-center",children:"Net"}),e.jsx("div",{className:"w-8 text-center",children:"Thru"}),o&&e.jsx("div",{className:"w-8 text-center",children:"Pts"})]})]}),g.map((t,l)=>{const a=t.participant.score.includes(-1),f=l===0&&t.holesPlayed>0&&!t.isDNF,p=m(t),u=h(t);return e.jsx("button",{onClick:()=>N(t.participant.id),className:`w-full text-left px-4 py-2.5 border-b border-soft-grey/50 last:border-b-0 hover:bg-gray-50 transition-colors cursor-pointer ${f?"border-l-4 border-l-coral bg-coral/5":""} ${t.isDNF?"bg-red-50/50":""}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-7 text-base font-bold mr-2 ${r(l,t.holesPlayed,t.isDNF)}`,children:t.isDNF||t.holesPlayed===0?"-":l+1}),e.jsx("div",{className:"flex-1 min-w-0 mr-2",children:t.participant.player_name?e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:`text-sm font-semibold font-display truncate ${t.isDNF?"text-gray-500":"text-charcoal"}`,children:e.jsx(V,{playerId:t.participant.player_id,playerName:t.participant.player_name,skipFriendCheck:o})}),s&&t.participant.handicap_index!==void 0&&e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsxs("span",{className:"text-xs text-turf font-primary",children:["HCP ",t.participant.handicap_index.toFixed(1)]}),t.courseHandicap!==void 0&&e.jsxs("span",{className:"text-xs bg-coral/20 text-coral px-1 py-0.5 rounded font-medium font-primary",children:["PH ",t.courseHandicap]})]})]}):e.jsx("h3",{className:`text-sm font-semibold font-display truncate ${t.isDNF?"text-gray-500":"text-charcoal"}`,children:o?t.participant.position_name:`${t.participant.team_name} ${t.participant.position_name}`})}),e.jsx("div",{className:`flex items-center ${s?"gap-1":""}`,children:p==="NOT_STARTED"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-10 text-center text-sm text-gray-500",children:u}),o&&e.jsx("div",{className:"w-8 text-center text-sm text-gray-400",children:"-"})]}):p==="DNF"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-10 text-center text-lg font-bold text-gray-400",children:t.holesPlayed>0?R(t.relativeToPar):"-"}),s&&e.jsx("div",{className:"w-10 text-center text-lg font-bold text-gray-400",children:"-"}),e.jsx("div",{className:"w-8 text-center text-xs font-bold text-red-500",children:"DNF"}),o&&e.jsx("div",{className:"w-8 text-center text-sm text-gray-400",children:"-"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`w-10 text-center text-lg font-bold ${a?"text-gray-400":E(t.relativeToPar)}`,children:a?"-":R(t.relativeToPar)}),s&&e.jsx("div",{className:`w-10 text-center text-lg font-bold ${a||t.netRelativeToPar===void 0?"text-gray-400":E(t.netRelativeToPar)}`,children:a||t.netRelativeToPar===void 0?"-":R(t.netRelativeToPar)}),e.jsx("div",{className:"w-8 text-center text-base font-semibold text-gray-600",children:u}),o&&(()=>{const $=y==="net"?t.netPoints:t.points;return e.jsx("div",{className:`w-8 text-center text-sm font-bold ${$&&$>0?t.isProjected?"text-turf/70":"text-turf":"text-gray-400"}`,children:$&&$>0?$:"-"})})()]})})]})},t.participant.id)})]}),e.jsx("div",{className:"hidden md:block",children:e.jsx("div",{className:"bg-scorecard rounded-lg border border-soft-grey overflow-hidden shadow-sm",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-soft-grey",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-charcoal font-display",children:"Pos"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-charcoal font-display",children:o?"Player":"Player/Team"}),e.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-charcoal font-display",children:"Hole & Score"}),o&&e.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-charcoal font-display",children:"Pts"}),e.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-charcoal font-display"})]})}),e.jsx("tbody",{children:g.map((t,l)=>{const a=t.participant.score.includes(-1),f=m(t),p=h(t);return e.jsxs("tr",{className:`border-b border-soft-grey last:border-b-0 transition-colors duration-200 ${c(l,t.holesPlayed,t.isDNF)}`,children:[e.jsx("td",{className:"py-4 px-4",children:e.jsx("div",{className:`text-sm font-bold ${r(l,t.holesPlayed,t.isDNF)}`,children:t.isDNF||t.holesPlayed===0?"-":l+1})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{children:[t.participant.player_name?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`text-body-md font-semibold font-display ${t.isDNF?"text-gray-500":"text-charcoal"}`,children:e.jsx(V,{playerId:t.participant.player_id,playerName:t.participant.player_name,skipFriendCheck:o})}),!o&&e.jsxs("div",{className:"text-label-sm text-turf font-primary",children:[t.participant.team_name," ",t.participant.position_name]})]}):e.jsx(e.Fragment,{children:e.jsx("div",{className:`text-body-md font-semibold font-display ${t.isDNF?"text-gray-500":"text-charcoal"}`,children:o?t.participant.position_name:`${t.participant.team_name} ${t.participant.position_name}`})}),s&&t.participant.handicap_index!==void 0&&e.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[e.jsxs("span",{className:"text-xs text-turf font-primary",children:["HCP ",t.participant.handicap_index.toFixed(1)]}),t.courseHandicap!==void 0&&e.jsxs("span",{className:"text-xs bg-coral/20 text-coral px-1.5 py-0.5 rounded font-medium font-primary",children:["PH ",t.courseHandicap]})]})]})}),e.jsx("td",{className:"py-4 px-4 text-center",children:f==="NOT_STARTED"?e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Start Time"}),e.jsx("div",{className:"text-base font-medium text-gray-500",children:p})]}):f==="DNF"?e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Status"}),e.jsx("div",{className:"text-xl font-bold text-red-500 font-display",children:"DNF"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-xs text-gray-500",children:["Thru ",t.holesPlayed]}),e.jsx("div",{className:"text-xl font-bold text-gray-400 font-display",children:t.holesPlayed>0?R(t.relativeToPar):"-"})]})]}):e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Hole"}),e.jsx("div",{className:"text-xl font-bold text-charcoal font-display",children:p})]}),f==="FINISHED"?e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:s?"Gross":"Total"}),e.jsx("div",{className:"text-xl font-bold text-charcoal font-display",children:a?"-":t.totalShots})]}):e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:s?"Gross":"To Par"}),e.jsx("div",{className:`text-xl font-bold font-display ${a?"text-gray-500":E(t.relativeToPar)}`,children:a?"-":R(t.relativeToPar)})]}),s&&(f==="FINISHED"?e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Net"}),e.jsx("div",{className:"text-xl font-bold text-charcoal font-display",children:a||t.netTotalShots===void 0?"-":t.netTotalShots})]}):e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Net"}),e.jsx("div",{className:`text-xl font-bold font-display ${a||t.netRelativeToPar===void 0?"text-gray-500":E(t.netRelativeToPar)}`,children:a||t.netRelativeToPar===void 0?"-":R(t.netRelativeToPar)})]}))]})}),o&&(()=>{const u=y==="net"?t.netPoints:t.points;return e.jsxs("td",{className:"py-4 px-4 text-center",children:[e.jsx("div",{className:`text-lg font-bold ${u&&u>0?t.isProjected?"text-turf/70":"text-turf":"text-gray-400"}`,children:u&&u>0?u:"-"}),t.isProjected&&u&&u>0&&e.jsx("div",{className:"text-xs text-gray-500",children:"(proj)"})]})})(),e.jsx("td",{className:"py-4 px-4 text-center",children:e.jsx("button",{onClick:()=>N(t.participant.id),className:"bg-turf text-scorecard px-3 py-2 rounded-md text-sm font-medium hover:bg-fairway transition-colors duration-200 font-primary",children:"View Card"})})]},t.participant.id)})})]})})})]})]});return v?e.jsx("div",{className:"h-full overflow-y-auto bg-scorecard",children:e.jsx("div",{className:"p-4",children:n})}):n}function xe(i){return i.participants.length>0&&i.participants.every(j=>j.is_locked)}function me(i){return i.participants.some(j=>Array.isArray(j.score)&&j.score.some(N=>N!==0))}function he(i){let j=0;for(const N of i.participants)if(Array.isArray(N.score)){for(let v=N.score.length-1;v>=0;v--)if(N.score[v]!==0){j=Math.max(j,v+1);break}}return j}function C(i){return xe(i)?"finished":me(i)?"playing":"not_started"}function ue({teeTimes:i,teeTimesLoading:j,competitionId:N,venueType:v="outdoor",currentTeeTimeId:o,currentTeeTime:d,showCurrentGroup:w=!1,totalParticipants:H=0,isTourCompetition:x=!1,isOpenStart:F=!1,onGroupUpdated:S}){var g;const[P,D]=k.useState(!1),[y,_]=k.useState({open:!1,url:"",title:""}),{data:s}=se(x?parseInt(N):0),m=r=>x?r.player_name||"Player":r.player_name?`${r.player_name}, ${r.team_name} ${M(r.position_name)}`:`${r.team_name} ${M(r.position_name)}`,b=x&&F&&!(r=>r?r.participants.some(c=>Array.isArray(c.score)&&c.score.some(n=>n!==0)):!1)(d);return w?e.jsxs("div",{className:"h-full overflow-y-auto bg-scorecard",children:[e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg md:text-xl font-semibold text-fairway font-display",children:"Round Participants"}),e.jsx("div",{className:"text-xs md:text-sm text-turf font-primary",children:o?"Current group":`${H} total`})]}),o&&d&&e.jsxs("div",{className:"border-l-4 border-turf mb-4",children:[e.jsxs("div",{className:"bg-rough/20 px-4 py-3 flex items-center justify-between",children:[e.jsxs("h3",{className:"text-sm md:text-lg font-semibold text-fairway font-display flex items-center gap-2",children:[F?"Your Group":`Your Group - ${d.teetime}`,e.jsx("span",{className:"text-xs text-turf font-primary font-medium",children:v==="indoor"&&d.hitting_bay?`· Bay ${d.hitting_bay}`:`· Hole ${d.start_hole}`})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{onClick:()=>_({open:!0,url:z(parseInt(N),d.id),title:"Share Group"}),variant:"ghost",size:"sm",className:"text-turf hover:text-fairway hover:bg-turf/10",children:e.jsx(Q,{className:"h-4 w-4"})}),b?e.jsxs(q,{onClick:()=>D(!0),variant:"ghost",size:"sm",className:"text-turf hover:text-fairway hover:bg-turf/10",children:[e.jsx(le,{className:"h-4 w-4 mr-1"}),"Edit"]}):e.jsx("span",{className:"text-xs md:text-sm text-coral font-semibold font-primary",children:"Active"})]})]}),e.jsx("div",{className:"divide-y divide-soft-grey",children:d.participants.map((r,c)=>{var l;const n=(l=s==null?void 0:s.group)==null?void 0:l.players[c],t=x&&n?n.name:m(r);return e.jsxs("div",{className:"px-4 py-3 flex items-center justify-between hover:bg-gray-50/50 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("h4",{className:"text-sm md:text-base font-medium text-fairway font-primary",children:[t,(n==null?void 0:n.is_you)&&e.jsx("span",{className:"text-xs text-turf ml-2",children:"(you)"})]}),x&&(n==null?void 0:n.handicap)!==void 0&&e.jsxs("div",{className:"text-sm text-charcoal/70",children:["HCP ",n.handicap.toFixed(1)]})]}),e.jsx("div",{className:"flex items-center gap-2",children:T(r.position_name)&&e.jsx(A,{className:"w-4 h-4 inline-block text-turf"})})]},r.id)})})]}),(()=>{if(!i||i.length===0)return e.jsx("div",{className:"text-center py-6 md:py-8 text-soft-grey font-primary",children:"No tee times scheduled for this competition."});const r=i.filter(a=>!o||a.id!==parseInt(o)),c=r.filter(a=>C(a)==="playing"),n=r.filter(a=>C(a)==="not_started"),t=r.filter(a=>C(a)==="finished"),l=(a,f)=>e.jsxs("div",{className:"border-l-4 border-soft-grey hover:border-turf transition-colors",children:[e.jsxs("div",{className:"bg-rough/20 px-4 py-2 flex items-center justify-between",children:[e.jsxs("h4",{className:"text-sm font-semibold text-fairway font-display flex items-center gap-2",children:[F?"Group":a.teetime,e.jsx("span",{className:"text-xs text-charcoal/50 font-primary font-normal",children:v==="indoor"&&a.hitting_bay?`· Bay ${a.hitting_bay}`:`· Start ${a.start_hole}`})]}),f]}),e.jsx("div",{className:"divide-y divide-soft-grey/50",children:a.participants.map(p=>e.jsxs("div",{className:"px-4 py-2 flex items-center justify-between",children:[e.jsx("h5",{className:"text-xs md:text-sm font-medium text-fairway font-primary",children:m(p)}),T(p.position_name)&&e.jsx(A,{className:"w-3 h-3 text-turf"})]},p.id))})]},a.id);return e.jsxs("div",{className:"space-y-6",children:[c.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-medium text-fairway mb-3 font-primary flex items-center gap-2",children:[e.jsx(ie,{className:"w-4 h-4 text-coral"}),"On Course",e.jsxs("span",{className:"text-charcoal/50 font-normal",children:["(",c.length,")"]})]}),e.jsx("div",{className:"space-y-3",children:c.map(a=>{const f=he(a);return l(a,e.jsxs("span",{className:"text-xs text-coral font-semibold font-primary",children:["Hole ",f]}))})})]}),n.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-medium text-fairway mb-3 font-primary flex items-center gap-2",children:[e.jsx(de,{className:"w-4 h-4 text-charcoal/40"}),"Waiting to Start",e.jsxs("span",{className:"text-charcoal/50 font-normal",children:["(",n.length,")"]})]}),e.jsx("div",{className:"space-y-3",children:n.map(a=>l(a))})]}),t.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-medium text-fairway mb-3 font-primary flex items-center gap-2",children:[e.jsx(ce,{className:"w-4 h-4 text-turf"}),"Finished",e.jsxs("span",{className:"text-charcoal/50 font-normal",children:["(",t.length,")"]})]}),e.jsx("div",{className:"space-y-3",children:t.map(a=>l(a,e.jsx("span",{className:"text-xs text-turf font-medium font-primary",children:"Done"})))})]}),r.length===0&&e.jsx("div",{className:"text-center py-6 text-charcoal/50 text-sm font-primary",children:"No other groups in this competition."})]})})()]}),b&&e.jsx(ne,{isOpen:P,onClose:()=>D(!1),competitionId:parseInt(N),currentGroupSize:(d==null?void 0:d.participants.length)||0,maxGroupSize:4,mode:"add_to_existing",currentGroupMembers:((g=s==null?void 0:s.group)==null?void 0:g.players)||[],onSuccess:()=>{S==null||S()}}),e.jsx(Y,{open:y.open,onOpenChange:r=>_(c=>({...c,open:r})),url:y.url,title:y.title,description:"Share this QR code or link with your group members to get them to the scorecard"})]}):e.jsxs("div",{className:"space-y-3 md:space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg md:text-xl font-semibold text-fairway font-display",children:"Tee Times"}),e.jsxs("div",{className:"text-xs md:text-sm text-turf font-primary",children:[(i==null?void 0:i.length)||0," tee times"]})]}),j?e.jsx("div",{className:"p-4 text-charcoal font-primary",children:"Loading tee times..."}):!i||i.length===0?e.jsx("div",{className:"text-center py-6 md:py-8 text-soft-grey text-sm font-primary",children:"No tee times scheduled for this competition yet."}):e.jsx("div",{className:"space-y-6",children:i.map(r=>e.jsxs("div",{className:"border-l-4 border-turf",children:[e.jsx("div",{className:"bg-rough/20 px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h4",{className:"text-base md:text-lg font-semibold text-fairway font-display flex items-center gap-2",children:[e.jsx(ae,{className:"h-4 w-4 md:h-5 md:w-5 text-turf"}),r.teetime,e.jsx("span",{className:"text-xs md:text-sm text-turf font-primary font-medium",children:v==="indoor"&&r.hitting_bay?`· Bay ${r.hitting_bay}`:`· Hole ${r.start_hole}`})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>_({open:!0,url:z(parseInt(N),r.id),title:`Tee Time ${r.teetime}`}),className:"p-1.5 text-turf hover:text-fairway hover:bg-turf/10 rounded-lg transition-colors",title:"Share tee time",children:e.jsx(Q,{className:"h-4 w-4"})}),e.jsxs("div",{className:"text-xs md:text-sm text-turf font-primary",children:[r.participants.length," players"]})]})]})}),r.participants.length===0?e.jsx("div",{className:"text-center py-4 text-soft-grey text-sm font-primary",children:"No participants assigned to this tee time yet."}):e.jsx("div",{className:"divide-y divide-soft-grey",children:r.participants.map(c=>e.jsxs(re,{to:`/player/competitions/${N}/tee-times/${r.id}`,className:"px-4 py-3 flex items-center justify-between hover:bg-rough hover:bg-opacity-20 transition-colors",children:[e.jsx("div",{className:"flex-1",children:e.jsx("h5",{className:"text-sm md:text-base font-medium text-fairway font-primary",children:m(c)})}),e.jsx("div",{className:"text-xs text-turf",children:T(c.position_name)&&e.jsx(A,{className:"w-4 h-4 inline-block"})})]},c.id))})]},r.id))}),e.jsx(Y,{open:y.open,onOpenChange:r=>_(c=>({...c,open:r})),url:y.url,title:y.title,description:"Scan to view this tee time group"})]})}function Ne({teamResults:i,leaderboardLoading:j,individualResults:N,isRoundView:v=!1,onParticipantClick:o}){const[d,w]=k.useState("all"),[H,x]=k.useState(new Set),F=s=>{x(m=>{const h=new Set(m);return h.has(s)?h.delete(s):h.add(s),h})},S=i==null?void 0:i.filter(s=>d==="finished"?s.status==="FINISHED":!0),P=s=>N?N.filter(h=>h.participant.team_name===s).sort((h,b)=>{const g=h.participant.score.includes(-1),r=b.participant.score.includes(-1),c=h.holesPlayed>0,n=b.holesPlayed>0,t=c&&!g,l=n&&!r,a=c&&g,f=n&&r,p=!c,u=!n;return t&&!l?-1:!t&&l?1:a&&u?-1:p&&f?1:t&&l?h.relativeToPar-b.relativeToPar:0}):[],D=s=>{const m=s.participant.score.includes(-1),h=s.participant.is_locked;return s.holesPlayed>0?h&&!m?"FINISHED":"IN_PROGRESS":"NOT_STARTED"},y=s=>{const m=D(s);return m==="NOT_STARTED"?s.startTime?s.startTime:"TBD":m==="FINISHED"?"F":s.holesPlayed.toString()},_=e.jsxs("div",{className:"space-y-4 md:space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h2",{className:"text-xl md:text-2xl font-bold text-fairway font-display",children:"Team Results"})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>w("all"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${d==="all"?"bg-coral text-scorecard":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"All"}),e.jsx("button",{onClick:()=>w("finished"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${d==="finished"?"bg-coral text-scorecard":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Only Finished"})]}),j?e.jsx("div",{className:"flex items-center justify-center py-8 md:py-12",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-coral border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-charcoal font-primary",children:"Loading team results..."})]})}):!i||i.length===0?e.jsxs("div",{className:"text-center py-8 md:py-12",children:[e.jsx("h3",{className:"text-lg font-semibold text-charcoal font-display mb-2",children:"No Results Yet"}),e.jsx("p",{className:"text-soft-grey font-primary",children:"Team results will appear here once scores are submitted."})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between pb-2 mb-2 pr-3 border-b border-soft-grey text-xs text-charcoal/50 uppercase tracking-wide",children:[e.jsx("div",{className:"flex-1",children:"Team"}),e.jsxs("div",{className:"flex items-center gap-4 text-right",children:[e.jsx("div",{className:"w-14",children:"To Par"}),e.jsx("div",{className:"w-10",children:"Pts"})]})]}),e.jsx("div",{className:"divide-y divide-soft-grey",children:S==null?void 0:S.map((s,m)=>{const h=m===0&&s.status!=="NOT_STARTED",b=m<=2&&s.status!=="NOT_STARTED",g=s.status!=="NOT_STARTED",r=P(s.teamName),c=H.has(s.teamId),n=h?"border-l-4 border-l-coral bg-coral/5":b?"border-l-4 border-l-turf":g?"border-l-4 border-l-charcoal/20":"";return e.jsxs("div",{className:`${n} ${g?"":"opacity-60"}`,children:[e.jsxs("button",{onClick:()=>g&&r.length>0&&F(s.teamId),className:`w-full flex items-center justify-between py-3 pr-3 text-left ${g&&r.length>0?"hover:bg-gray-50/50 cursor-pointer":""}`,children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[g&&r.length>0?e.jsx("svg",{className:`w-4 h-4 text-charcoal/30 transition-transform flex-shrink-0 ${c?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}):e.jsx("div",{className:"w-4"}),e.jsx("span",{className:`text-base font-bold w-5 flex-shrink-0 ${h?"text-coral":b?"text-turf":g?"text-charcoal":"text-soft-grey"}`,children:m+1}),e.jsx("span",{className:"text-base font-semibold text-charcoal font-display truncate",children:s.teamName})]}),e.jsx("div",{className:"flex items-center gap-4 text-right flex-shrink-0",children:s.status==="NOT_STARTED"?e.jsx("span",{className:"text-sm text-soft-grey",children:"—"}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`w-14 text-base font-bold font-display ${s.totalRelativeScore!==null?E(s.totalRelativeScore):"text-charcoal"}`,children:s.totalRelativeScore!==null?R(s.totalRelativeScore):"-"}),e.jsx("div",{className:`w-10 text-base font-bold font-display ${h?"text-coral":b?"text-turf":"text-charcoal"}`,children:s.teamPoints??"-"})]})})]}),c&&r.length>0&&e.jsxs("div",{className:"pl-7 pr-4 pb-3 bg-gray-50/50",children:[s.totalShots&&e.jsxs("div",{className:"text-xs text-charcoal/50 mb-2",children:["Total: ",s.totalShots," shots"]}),e.jsx("div",{className:"divide-y divide-soft-grey/30",children:r.map((t,l)=>{const a=D(t),f=y(t),p=t.participant.score.includes(-1);return e.jsxs("button",{onClick:u=>{u.stopPropagation(),o==null||o(t.participant.id)},className:`w-full flex items-center justify-between py-2 transition-colors text-left ${a!=="NOT_STARTED"&&o?"hover:bg-gray-50 cursor-pointer":"cursor-default"}`,disabled:!o||a==="NOT_STARTED",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsx("span",{className:"text-xs text-charcoal/30 w-4",children:l+1}),e.jsx("span",{className:`font-medium font-primary text-sm ${a!=="NOT_STARTED"?"text-charcoal":"text-soft-grey"}`,children:t.participant.player_name?`${t.participant.player_name} (${t.participant.position_name})`:t.participant.position_name})]}),e.jsx("div",{className:"flex items-center gap-4 text-sm",children:a==="NOT_STARTED"?e.jsx("span",{className:"text-charcoal/40",children:f}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-charcoal/60 w-6 text-center",children:f}),e.jsx("span",{className:`font-bold w-8 text-right ${p?"text-charcoal/40":E(t.relativeToPar)}`,children:p?"-":R(t.relativeToPar)})]})})]},t.participant.id)})})]})]},s.teamId)})})]})]});return v?e.jsx("div",{className:"h-full overflow-y-auto bg-scorecard",children:e.jsx("div",{className:"p-4 md:p-6",children:_})}):_}export{de as C,pe as L,ue as P,Ne as T};
