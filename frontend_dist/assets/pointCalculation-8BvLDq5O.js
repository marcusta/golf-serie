import{p as k,r as w,b as F,d as B,J as z,a as G,K as O,A as U,S as D,j as e,q as b,X as M,N as W,L as R,n as X,D as j,B as I,U as L}from"./index-DJziPXhF.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Y=k("house",K);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],J=k("layout-dashboard",q);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],Q=k("menu",Z);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],oe=k("pen-line",ee);function le({className:t}){const[c,i]=w.useState(!1),[n,r]=w.useState(),[o,d]=w.useState(),[a,s]=w.useState(!1),l=F({strict:!1}),x=l.competitionId?parseInt(l.competitionId):void 0,f=l.serieId?parseInt(l.serieId):void 0,{data:m,isLoading:h}=B(x||0),{data:p,isLoading:y}=z(f||(m==null?void 0:m.series_id)||0);w.useEffect(()=>{s(h||y),p?(r(p.id),d(p.name)):m!=null&&m.series_id?(r(m.series_id),d(m.series_name)):(r(void 0),d(void 0))},[m,p,h,y]);const g=()=>i(!1),u=n&&o?[{to:"/player/series/$serieId",params:{serieId:n.toString()},label:"View Overview",icon:J},{to:"/player/series/$serieId/standings",params:{serieId:n.toString()},label:"View Standings",icon:G}]:[],v=[{to:"/player/competitions",label:"All Competitions",icon:O},{to:"/player/series",label:"All Series",icon:U},{to:"/player",label:"Home",icon:Y}],S=[{to:"/admin/series",label:"Admin Panel",icon:D}];console.log("contextualLinks",u),console.log("generalLinks",v),console.log("adminLinks",S);const $=({title:H,links:E})=>e.jsxs("div",{className:"py-2",children:[e.jsx("div",{className:"px-3 pb-2",children:e.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:H})}),e.jsx("div",{className:"space-y-1",children:E.map(N=>{const V=N.icon;return e.jsxs(R,{to:N.to,params:N.params||{},onClick:g,className:b("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 font-['Inter']","hover:bg-green-50 focus:outline-2 focus:outline-offset-2 focus:outline-green-600","group"),children:[e.jsx(V,{className:"w-5 h-5 text-gray-400 group-hover:text-green-600 transition-colors duration-200"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 group-hover:text-green-700 transition-colors duration-200",children:N.label})]},N.to)})})]});return e.jsxs("div",{className:b("relative",t),children:[e.jsx("button",{onClick:()=>i(!c),className:b("p-2 rounded-xl transition-all duration-200 touch-manipulation font-['Inter']","hover:bg-green-50 focus:outline-2 focus:outline-offset-2 focus:outline-green-600",c&&"bg-green-50"),"aria-label":"Menu",children:c?e.jsx(M,{className:"w-5 h-5 text-gray-900"}):e.jsx(Q,{className:"w-5 h-5 text-gray-900"})}),c&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/25 z-40",onClick:g}),e.jsx("div",{className:b("absolute top-12 right-0 w-80 bg-white rounded-xl shadow-lg border border-gray-200 z-50","md:w-96"),children:e.jsx("div",{className:"p-2",children:a?e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsx(W,{className:"h-6 w-6 animate-spin text-green-600"})}):e.jsxs("nav",{className:"divide-y divide-gray-200",children:[u.length>0&&e.jsx($,{title:`Series: ${o}`,links:u}),e.jsx($,{title:"Navigation",links:v})]})})})]})]})}function P(t){return t===0?"E":t>0?`+${t}`:`${t}`}function _(t){return t<0?"text-turf":t>0?"text-flag":"text-charcoal"}function T(t){return t===-1?"-":t===0?"0":t.toString()}function ne(t){return t===-1||t===null?"-":t===0?"0":t.toString()}function ie(t){return(t==null?void 0:t.reduce((c,i)=>c+i.participants.length,0))||0}function se(t){return t>0}function C(t,c){return c.reduce((i,n)=>{const r=t[n.number-1];return i+(r&&r>0?r:0)},0)}function A(t,c){return c.reduce((i,n)=>{const r=t[n.number-1];return i+(r&&r>0?n.par:0)},0)}function ce(t){if(!t||t.length===0)return!1;for(const c of t){if(!c.score||!Array.isArray(c.score))return!1;for(let i=0;i<18;i++){const n=c.score[i];if(n===0||n===null||n===void 0)return!1}}return!0}function te({participant:t,course:c,currentHole:i}){const n=c.holes.slice(0,9),r=c.holes.slice(9,18),o=()=>{if(t.scores.some(y=>y===-1))return{frontTotal:null,backTotal:null,totalScore:null,toPar:null,frontToPar:null,backToPar:null};const l=C(t.scores,n),x=C(t.scores,r),f=l+x,m=A(t.scores,n),h=A(t.scores,r),p=m+h;return{frontTotal:l,backTotal:x,totalScore:f,toPar:f>0?f-p:0,frontToPar:l>0?l-m:0,backToPar:x>0?x-h:0}},d=(s,l)=>se(s)?s===1?{color:"text-scorecard font-bold",decoration:"bg-coral rounded-full border-2 border-coral"}:s<l-1?{color:"text-turf font-bold",decoration:"border-2 border-turf rounded-full shadow-[0_0_0_2px_white,0_0_0_4px_#2d6a4f]"}:s===l-1?{color:"text-turf font-bold",decoration:"border-2 border-turf rounded-full"}:s===l?{color:"text-charcoal",decoration:""}:s===l+1?{color:"text-flag font-bold",decoration:"border-2 border-flag"}:s>=l+2?{color:"text-flag font-bold",decoration:"border-2 border-flag shadow-[0_0_0_2px_white,0_0_0_4px_#ef476f]"}:{color:"text-charcoal",decoration:""}:s===-1?{color:"text-flag",decoration:""}:s===0?{color:"text-soft-grey",decoration:""}:{color:"text-charcoal",decoration:""},a=o();return e.jsxs("div",{className:"bg-scorecard overflow-hidden",children:[e.jsx("div",{className:"bg-turf text-scorecard px-2 py-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold text-base font-display",children:t.name}),t.isMultiPlayer&&e.jsx("span",{className:"text-rough text-sm",children:"ðŸ‘¥"})]}),t.type&&e.jsx("span",{className:"text-rough text-sm font-primary",children:t.type})]})}),e.jsxs("div",{className:"border-b border-soft-grey",children:[e.jsx("div",{className:"bg-turf text-scorecard px-2 py-1",children:e.jsx("span",{className:"text-sm font-medium font-primary",children:"FRONT NINE"})}),e.jsx("div",{className:"bg-rough bg-opacity-30",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-10 min-w-10 px-0.5 py-1 text-xs font-medium text-fairway border-r border-soft-grey font-primary",children:"Hole"}),n.map(s=>e.jsx("div",{className:b("min-w-6 px-0.5 py-1 text-center text-xs font-medium text-fairway border-r border-soft-grey flex-1 font-primary",s.number===i&&"bg-coral"),children:s.number},s.number)),e.jsx("div",{className:"min-w-10 px-0.5 py-1 text-center text-xs font-medium text-fairway bg-rough bg-opacity-50 font-primary",children:"OUT"})]})}),e.jsx("div",{className:"bg-rough bg-opacity-20",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-10 min-w-10 px-0.5 py-1 text-xs font-medium text-fairway border-r border-soft-grey font-primary",children:"Par"}),n.map(s=>e.jsx("div",{className:"min-w-6 px-0.5 py-1 text-center text-xs font-medium text-fairway border-r border-soft-grey flex-1 font-primary",children:s.par},s.number)),e.jsx("div",{className:"min-w-10 px-0.5 py-1 text-center text-xs font-bold text-fairway bg-rough bg-opacity-40 font-display",children:n.reduce((s,l)=>s+l.par,0)})]})}),e.jsx("div",{className:"bg-scorecard border-b border-soft-grey",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-10 min-w-10 px-0.5 py-1 text-xs font-medium text-fairway border-r border-soft-grey font-primary",children:"Score"}),n.map(s=>{const l=t.scores[s.number-1]??0,x=d(l,s.par);return e.jsx("div",{className:b("min-w-6 px-0.5 py-1 text-center text-xs font-medium flex items-center justify-center border-r border-soft-grey flex-1",s.number===i&&"bg-coral bg-opacity-20"),children:e.jsx("div",{className:b("w-5 h-5 flex items-center justify-center text-xs font-display",x.color,x.decoration),children:T(l)})},s.number)}),e.jsx("div",{className:"min-w-10 px-0.5 py-1 text-center text-xs font-bold text-charcoal bg-rough bg-opacity-40 font-display",children:a.frontTotal??"-"})]})})]}),e.jsxs("div",{className:"border-b border-soft-grey",children:[e.jsx("div",{className:"bg-turf text-scorecard px-2 py-1",children:e.jsx("span",{className:"text-sm font-medium font-primary",children:"BACK NINE"})}),e.jsx("div",{className:"bg-rough bg-opacity-30",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-10 min-w-10 px-0.5 py-1 text-xs font-medium text-fairway border-r border-soft-grey font-primary",children:"Hole"}),r.map(s=>e.jsx("div",{className:b("min-w-6 px-0.5 py-1 text-center text-xs font-medium text-fairway border-r border-soft-grey flex-1 font-primary",s.number===i&&"bg-coral"),children:s.number},s.number)),e.jsx("div",{className:"min-w-10 px-0.5 py-1 text-center text-xs font-medium text-fairway bg-rough bg-opacity-50 font-primary",children:"IN"})]})}),e.jsx("div",{className:"bg-rough bg-opacity-20",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-10 min-w-10 px-0.5 py-1 text-xs font-medium text-fairway border-r border-soft-grey font-primary",children:"Par"}),r.map(s=>e.jsx("div",{className:"min-w-6 px-0.5 py-1 text-center text-xs font-medium text-fairway border-r border-soft-grey flex-1 font-primary",children:s.par},s.number)),e.jsx("div",{className:"min-w-10 px-0.5 py-1 text-center text-xs font-bold text-fairway bg-rough bg-opacity-40 font-display",children:r.reduce((s,l)=>s+l.par,0)})]})}),e.jsx("div",{className:"bg-scorecard",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-10 min-w-10 px-0.5 py-1 text-xs font-medium text-fairway border-r border-soft-grey font-primary",children:"Score"}),r.map(s=>{const l=t.scores[s.number-1]??0,x=d(l,s.par);return e.jsx("div",{className:b("min-w-6 px-0.5 py-1 text-center text-xs font-medium flex items-center justify-center border-r border-soft-grey flex-1",s.number===i&&"bg-coral bg-opacity-20"),children:e.jsx("div",{className:b("w-5 h-5 flex items-center justify-center text-xs font-display",x.color,x.decoration),children:T(l)})},s.number)}),e.jsx("div",{className:"min-w-10 px-0.5 py-1 text-center text-xs font-bold text-charcoal bg-rough bg-opacity-40 font-display",children:a.backTotal??"-"})]})})]}),e.jsx("div",{className:"bg-rough bg-opacity-20 px-2 py-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-fairway font-primary",children:"Total Score"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-turf text-sm font-primary",children:["Total: ",a.totalScore??"-"]}),e.jsxs("span",{className:"text-base font-bold text-charcoal font-display",children:["To par:"," ",a.totalScore&&a.toPar!==null?P(a.toPar):"-"]})]})]})})]})}function de({visible:t,participant:c,course:i,onClose:n}){return!t||!c||!i?null:e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-2 bg-black bg-opacity-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-200",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 truncate",children:["Team: ",c.team_name]}),e.jsx("p",{className:"text-sm text-blue-600 mt-1",children:c.position_name}),c.player_names&&e.jsxs("p",{className:"text-sm text-gray-600 mt-1 truncate",children:["Players: ",c.player_names]})]}),e.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors flex-shrink-0 ml-2",children:e.jsx(M,{className:"h-5 w-5"})})]}),e.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-180px)]",children:e.jsx("div",{className:"p-2",children:e.jsx(te,{participant:{id:c.id.toString(),name:c.team_name,type:c.position_name,scores:c.score},course:i})})}),e.jsx("div",{className:"p-3 border-t border-gray-200",children:e.jsx("button",{onClick:n,className:"w-full bg-gray-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-gray-700 transition-colors",children:"Close Scorecard"})})]})})}function xe({leaderboard:t,leaderboardLoading:c,onParticipantClick:i,isRoundView:n=!1}){const r=t?[...t].sort((s,l)=>{const x=s.participant.score.includes(-1),f=l.participant.score.includes(-1),m=s.holesPlayed>0,h=l.holesPlayed>0,p=m&&!x,y=h&&!f,g=m&&x,u=h&&f,v=!m,S=!h;return p&&!y?-1:!p&&y?1:g&&S?-1:v&&u?1:p&&y?s.relativeToPar-l.relativeToPar:0}):[],o=(s,l)=>{if(l===0)return"border-gray-300 text-gray-500";switch(s){case 0:return"border-yellow-400 text-yellow-400";case 1:return"border-gray-400 text-gray-400";case 2:return"border-orange-400 text-orange-400";default:return"border-gray-300 text-gray-500"}},d=(s,l)=>{if(l===0)return"bg-scorecard hover:bg-gray-50";switch(s){case 0:return"bg-yellow-50 hover:bg-yellow-100";case 1:return"bg-gray-50 hover:bg-gray-100";case 2:return"bg-orange-50 hover:bg-orange-100";default:return"bg-scorecard hover:bg-gray-50"}},a=e.jsxs("div",{className:"space-y-3 md:space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg md:text-xl font-semibold text-fairway font-display",children:"Leaderboard"}),e.jsx("div",{className:"text-xs md:text-sm text-turf font-primary",children:"Live scoring"})]}),c?e.jsx("div",{className:"p-4 text-charcoal font-primary",children:"Loading leaderboard..."}):!t||t.length===0?e.jsx("div",{className:"text-center py-6 md:py-8 text-soft-grey font-primary",children:"No scores reported yet."}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"md:hidden space-y-3",children:r.map((s,l)=>{const x=s.participant.score.includes(-1),f=l===0;return e.jsx("button",{onClick:()=>i(s.participant.id),className:`w-full text-left bg-scorecard rounded-lg p-4 shadow-sm border transition-all duration-200 hover:shadow-md hover:border-turf cursor-pointer ${f?"border-coral/20 shadow-md ring-2 ring-coral/10":"border-soft-grey"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsx("div",{className:`w-12 h-12 rounded-full border-2 flex items-center justify-center text-lg font-bold mr-3 ${o(l,s.holesPlayed)}`,children:s.holesPlayed===0?"-":l+1}),e.jsx("div",{children:s.participant.player_names?e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-body-lg font-semibold text-charcoal font-display",children:s.participant.player_names}),e.jsxs("p",{className:"text-label-sm text-turf font-primary",children:[s.participant.team_name," ",s.participant.position_name]}),e.jsxs("p",{className:"text-label-sm text-turf font-primary",children:["Thru ",s.holesPlayed," holes"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("h3",{className:"text-body-lg font-semibold text-charcoal font-display",children:[s.participant.team_name," ",s.participant.position_name]}),e.jsxs("p",{className:"text-label-sm text-turf font-primary",children:["Thru ",s.holesPlayed," holes"]})]})})]}),e.jsxs("div",{className:"flex items-center space-x-6 text-right ml-auto",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Total"}),e.jsx("div",{className:"text-2xl font-bold text-gray-800",children:s.holesPlayed===0||x?"-":s.totalShots})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500",children:"To Par"}),e.jsx("div",{className:`text-2xl font-bold ${s.holesPlayed===0||x?"text-gray-500":_(s.relativeToPar)}`,children:s.holesPlayed===0||x?"-":P(s.relativeToPar)})]})]})]})},s.participant.id)})}),e.jsx("div",{className:"hidden md:block",children:e.jsx("div",{className:"bg-scorecard rounded-lg border border-soft-grey overflow-hidden shadow-sm",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-soft-grey",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-charcoal font-display",children:"Pos"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-charcoal font-display",children:"Player/Team"}),e.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-charcoal font-display",children:"Thru"}),e.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-charcoal font-display",children:"Total"}),e.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-charcoal font-display",children:"To Par"}),e.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-charcoal font-display"})]})}),e.jsx("tbody",{children:r.map((s,l)=>{const x=s.participant.score.includes(-1);return e.jsxs("tr",{className:`border-b border-soft-grey last:border-b-0 transition-colors duration-200 ${d(l,s.holesPlayed)}`,children:[e.jsx("td",{className:"py-4 px-4",children:e.jsx("div",{className:`w-8 h-8 rounded-full border-2 flex items-center justify-center text-sm font-bold ${o(l,s.holesPlayed)}`,children:s.holesPlayed===0?"-":l+1})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("div",{children:s.participant.player_names?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-body-md font-semibold text-charcoal font-display",children:s.participant.player_names}),e.jsxs("div",{className:"text-label-sm text-turf font-primary",children:[s.participant.team_name," ",s.participant.position_name]}),e.jsxs("div",{className:"text-label-sm text-turf font-primary",children:["Thru ",s.holesPlayed," holes"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-body-md font-semibold text-charcoal font-display",children:[s.participant.team_name," ",s.participant.position_name]}),e.jsxs("div",{className:"text-label-sm text-turf font-primary",children:["Thru ",s.holesPlayed," holes"]})]})})}),e.jsx("td",{className:"py-4 px-4 text-center",children:e.jsx("span",{className:"text-body-md font-medium text-charcoal font-primary",children:s.holesPlayed})}),e.jsx("td",{className:"py-4 px-4 text-center",children:e.jsx("span",{className:"text-xl font-bold text-charcoal font-display",children:s.holesPlayed===0||x?"-":s.totalShots})}),e.jsx("td",{className:"py-4 px-4 text-center",children:e.jsx("span",{className:`text-xl font-bold font-display ${s.holesPlayed===0||x?"text-gray-500":_(s.relativeToPar)}`,children:s.holesPlayed===0||x?"-":P(s.relativeToPar)})}),e.jsx("td",{className:"py-4 px-4 text-center",children:e.jsx("button",{onClick:()=>i(s.participant.id),className:"bg-turf text-scorecard px-3 py-2 rounded-md text-sm font-medium hover:bg-fairway transition-colors duration-200 font-primary",children:"View Card"})})]},s.participant.id)})})]})})})]})]});return n?e.jsx("div",{className:"h-full overflow-y-auto bg-scorecard",children:e.jsx("div",{className:"p-4",children:a})}):a}function me({teeTimes:t,teeTimesLoading:c,competitionId:i,currentTeeTimeId:n,currentTeeTime:r,showCurrentGroup:o=!1,totalParticipants:d=0}){return o?e.jsx("div",{className:"h-full overflow-y-auto bg-scorecard",children:e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg md:text-xl font-semibold text-fairway font-display",children:"Round Participants"}),e.jsx("div",{className:"text-xs md:text-sm text-turf font-primary",children:n?"Current group":`${d} total`})]}),n&&r&&e.jsxs("div",{className:"bg-rough bg-opacity-20 rounded-xl border border-turf p-4 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"text-sm md:text-lg font-semibold text-fairway font-display",children:["Your Group - ",r.teetime]}),e.jsx("span",{className:"text-xs md:text-sm text-scorecard bg-coral px-2 py-1 rounded-full font-primary font-medium",children:"Active"})]}),e.jsx("div",{className:"space-y-2",children:r.participants.map(a=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-scorecard rounded-xl border border-turf",children:[e.jsx("div",{className:"flex-1",children:e.jsx("h4",{className:"text-sm md:text-base font-medium text-fairway font-primary",children:a.player_names?`${a.player_names}, ${a.team_name} ${j(a.position_name)}`:`${a.team_name} ${j(a.position_name)}`})}),e.jsx("div",{className:"text-xs text-turf",children:I(a.position_name)&&e.jsx(L,{className:"w-4 h-4 inline-block"})})]},a.id))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm md:text-base font-medium text-fairway mb-3 font-primary",children:n?"Other Groups":"All Groups"}),!t||t.length===0?e.jsx("div",{className:"text-center py-6 md:py-8 text-soft-grey font-primary",children:"No tee times scheduled for this competition."}):e.jsx("div",{className:"space-y-3",children:t.filter(a=>!n||a.id!==parseInt(n)).map(a=>e.jsxs("div",{className:"bg-scorecard rounded-xl border border-soft-grey overflow-hidden",children:[e.jsx("div",{className:"bg-rough bg-opacity-30 px-4 py-2 border-b border-soft-grey",children:e.jsx("h4",{className:"text-sm md:text-base font-semibold text-fairway font-display",children:a.teetime})}),e.jsx("div",{className:"divide-y divide-soft-grey",children:a.participants.map(s=>e.jsxs("div",{className:"px-4 py-2 flex items-center justify-between",children:[e.jsx("div",{className:"flex-1",children:e.jsx("h5",{className:"text-xs md:text-sm font-medium text-fairway font-primary",children:s.player_names?`${s.player_names}, ${s.team_name} ${j(s.position_name)}`:`${s.team_name} ${j(s.position_name)}`})}),e.jsx("div",{className:"text-xs text-turf",children:I(s.position_name)&&e.jsx(L,{className:"w-3 h-3 inline-block"})})]},s.id))})]},a.id))})]})]})}):e.jsxs("div",{className:"space-y-3 md:space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg md:text-xl font-semibold text-fairway font-display",children:"Tee Times"}),e.jsxs("div",{className:"text-xs md:text-sm text-turf font-primary",children:[(t==null?void 0:t.length)||0," tee times"]})]}),c?e.jsx("div",{className:"p-4 text-charcoal font-primary",children:"Loading tee times..."}):!t||t.length===0?e.jsx("div",{className:"text-center py-6 md:py-8 text-soft-grey text-sm font-primary",children:"No tee times scheduled for this competition yet."}):e.jsx("div",{className:"space-y-3",children:t.map(a=>e.jsxs("div",{className:"bg-scorecard rounded-xl border border-soft-grey overflow-hidden",children:[e.jsx("div",{className:"bg-rough bg-opacity-30 px-4 py-3 border-b border-soft-grey",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h4",{className:"text-base md:text-lg font-semibold text-fairway font-display flex items-center gap-2",children:[e.jsx(X,{className:"h-4 w-4 md:h-5 md:w-5 text-turf"}),a.teetime]}),e.jsxs("div",{className:"text-xs md:text-sm text-turf font-primary",children:[a.participants.length," players"]})]})}),a.participants.length===0?e.jsx("div",{className:"text-center py-4 text-soft-grey text-sm font-primary",children:"No participants assigned to this tee time yet."}):e.jsx("div",{className:"divide-y divide-soft-grey",children:a.participants.map(s=>e.jsxs(R,{to:`/player/competitions/${i}/tee-times/${a.id}`,className:"px-4 py-3 flex items-center justify-between hover:bg-rough hover:bg-opacity-20 transition-colors",children:[e.jsx("div",{className:"flex-1",children:e.jsx("h5",{className:"text-sm md:text-base font-medium text-fairway font-primary",children:s.player_names?`${s.player_names}, ${s.team_name} ${j(s.position_name)}`:`${s.team_name} ${j(s.position_name)}`})}),e.jsx("div",{className:"text-xs text-turf",children:I(s.position_name)&&e.jsx(L,{className:"w-4 h-4 inline-block"})})]},s.id))})]},a.id))})]})}function fe({teamResults:t,leaderboardLoading:c,isRoundView:i=!1}){t&&console.log("TeamResultComponent data:",t);const n=e.jsxs("div",{className:"space-y-4 md:space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl md:text-2xl font-bold text-fairway font-display",children:"Team Results"}),e.jsx("p",{className:"text-sm md:text-base text-turf font-primary mt-1",children:"Final standings with ranking points"})]}),e.jsxs("div",{className:"text-xs md:text-sm text-turf font-primary bg-rough/20 px-3 py-2 rounded-full border border-soft-grey",children:[(t==null?void 0:t.filter(r=>r.hasResults).length)||0," teams scored"]})]}),c?e.jsx("div",{className:"flex items-center justify-center py-8 md:py-12",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-coral border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-charcoal font-primary",children:"Loading team results..."})]})}):!t||t.length===0?e.jsx("div",{className:"text-center py-8 md:py-12 bg-rough/10 rounded-xl border border-soft-grey",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("div",{className:"w-16 h-16 bg-soft-grey/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-soft-grey",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("h3",{className:"text-lg font-semibold text-charcoal font-display mb-2",children:"No Results Yet"}),e.jsx("p",{className:"text-soft-grey font-primary",children:"Team results will appear here once scores are submitted."})]})}):e.jsx("div",{className:"space-y-3",children:t.map(r=>{const o=r.position===1&&r.hasResults,d=r.position<=3&&r.hasResults,a=r.hasResults;return e.jsxs("div",{className:`relative bg-scorecard rounded-xl p-4 shadow-sm border transition-all duration-300 hover:shadow-md ${o?"border-coral/30 shadow-lg ring-2 ring-coral/20 bg-gradient-to-br from-scorecard to-coral/5":d?"border-turf/30 shadow-md ring-1 ring-turf/20 bg-gradient-to-br from-scorecard to-turf/5":a?"border-soft-grey hover:border-turf/40":"border-soft-grey/50 opacity-75 bg-scorecard/50"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs("div",{className:`w-10 h-10 rounded-full border-2 flex items-center justify-center text-sm font-bold shadow-md ${o?"bg-scorecard text-coral border-coral":d?"bg-scorecard text-turf border-turf":a?"bg-scorecard text-charcoal border-charcoal":"bg-scorecard text-soft-grey border-soft-grey"}`,children:["#",r.position]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg md:text-xl font-bold text-charcoal font-display",children:r.teamName}),o&&e.jsxs("div",{className:"flex items-center gap-1 bg-coral/20 text-coral px-2 py-1 rounded-full text-xs font-medium mt-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 2L13.09 8.26L20 9L15 13.74L16.18 20.66L10 17.27L3.82 20.66L5 13.74L0 9L6.91 8.26L10 2Z",clipRule:"evenodd"})}),"Leader"]})]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-turf font-primary",children:[e.jsxs("span",{children:[r.participants.length," players"]}),a&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),r.participants.filter(s=>s.totalShots>0).length," ","scored"]})]})]}),e.jsxs("div",{className:"text-right flex flex-col items-end gap-2",children:[r.totalShots===-1?e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-lg font-medium text-soft-grey font-primary bg-soft-grey/10 px-3 py-1 rounded-lg",children:"-"}),e.jsx("span",{className:"text-2xl font-bold text-soft-grey font-display",children:"-"})]}):a?e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`text-lg font-bold font-display px-3 py-1 rounded-lg ${_(r.relativeToPar)} ${r.relativeToPar<0?"bg-turf/10":r.relativeToPar>0?"bg-flag/10":"bg-charcoal/10"}`,children:P(r.relativeToPar)}),e.jsx("span",{className:"text-2xl font-bold text-charcoal font-display",children:r.totalShots})]}):e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("span",{className:"text-lg font-medium text-soft-grey font-primary bg-soft-grey/10 px-3 py-1 rounded-lg",children:"No results"})}),a&&r.totalShots!==-1&&e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-turf mb-1 uppercase tracking-wide",children:"Points"}),e.jsx("div",{className:`text-xl font-bold font-display px-3 py-1 rounded-lg ${o?"bg-coral text-scorecard shadow-md":d?"bg-turf text-scorecard shadow-md":"bg-charcoal/10 text-charcoal"}`,children:r.rankingPoints})]})]})]}),e.jsxs("div",{className:"border-t border-soft-grey/30 pt-3",children:[e.jsx("h5",{className:"text-sm font-semibold text-fairway mb-2 font-primary uppercase tracking-wide",children:"Individual Scores"}),e.jsx("div",{className:"space-y-1",children:r.participants.map((s,l)=>e.jsxs("div",{className:`flex items-center justify-between py-1.5 px-3 rounded-lg transition-colors ${s.totalShots!==0?"bg-rough/10 hover:bg-rough/20":"bg-soft-grey/5"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium ${s.totalShots!==0?"bg-turf/20 text-turf":"bg-soft-grey/20 text-soft-grey"}`,children:l+1}),e.jsx("div",{children:e.jsx("span",{className:`font-medium font-primary text-sm ${s.totalShots!==0?"text-charcoal":"text-soft-grey"}`,children:s.name?`${s.name} (${s.position})`:s.position})})]}),e.jsx("div",{className:"flex items-center gap-3",children:s.totalShots===-1?e.jsx("span",{className:"text-sm text-soft-grey font-primary bg-soft-grey/10 px-3 py-1 rounded",children:"Gave up"}):s.totalShots>0?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:`text-sm font-semibold px-2 py-1 rounded ${_(s.relativeToPar)} ${s.relativeToPar<0?"bg-turf/10":s.relativeToPar>0?"bg-flag/10":"bg-charcoal/10"}`,children:P(s.relativeToPar)}),e.jsx("span",{className:"text-base font-bold text-charcoal font-display min-w-[2.5rem] text-right",children:s.totalShots})]}):e.jsx("span",{className:"text-sm text-soft-grey font-primary bg-soft-grey/10 px-3 py-1 rounded",children:"No score"})})]},s.name||l))})]})]},r.teamName)})})]});return i?e.jsx("div",{className:"h-full overflow-y-auto bg-scorecard",children:e.jsx("div",{className:"p-4 md:p-6",children:n})}):n}function he(t){const c=t.reduce((i,n)=>{const r=n.participant.team_name;i[r]||(i[r]={teamName:r,participants:[],totalShots:0,relativeToPar:0});const o=n.participant.score.includes(-1);return i[r].participants.push({name:n.participant.player_names||"",position:n.participant.position_name,totalShots:o?-1:n.totalShots,relativeToPar:o?0:n.relativeToPar}),i},{});return Object.values(c).map(i=>{if(i.participants.some(r=>r.totalShots===-1))return{...i,totalShots:-1,relativeToPar:0};{const r=i.participants.filter(a=>a.totalShots>0),o=r.reduce((a,s)=>a+s.totalShots,0),d=r.reduce((a,s)=>a+s.relativeToPar,0);return{...i,totalShots:o,relativeToPar:d}}})}function pe(t,c){if(!t||t.length===0)return[];const i=[...t].sort((o,d)=>{const a=o.participants.some(u=>u.totalShots===-1),s=o.participants.some(u=>u.totalShots>0),l=d.participants.some(u=>u.totalShots===-1),x=d.participants.some(u=>u.totalShots>0),f=!a&&s,m=!l&&x,h=a&&s,p=l&&x,y=!s,g=!x;return f&&!m?-1:!f&&m?1:h&&g?-1:y&&p?1:f&&m?o.relativeToPar!==d.relativeToPar?o.relativeToPar-d.relativeToPar:re(o,d):0}),n=i.filter(o=>!o.participants.some(d=>d.totalShots===-1)&&o.participants.some(d=>d.totalShots>0)),r=c||n.length;return i.map((o,d)=>{const a=o.participants.some(m=>m.totalShots===-1),s=o.participants.some(m=>m.totalShots>0),l=!a&&s,x=d+1;let f=0;if(l&&r>0){const m=n.findIndex(h=>h===o)+1;m===1?f=r+2:m===2?f=r+2-2:m===3?f=r+2-2-2:f=r+2-2-2-(m-3),f=Math.max(1,f)}return{...o,position:x,rankingPoints:f,hasResults:l}})}function re(t,c){const i=t.participants.filter(o=>o.totalShots>0).map(o=>o.relativeToPar).sort((o,d)=>o-d),n=c.participants.filter(o=>o.totalShots>0).map(o=>o.relativeToPar).sort((o,d)=>o-d),r=Math.max(i.length,n.length);for(let o=0;o<r;o++){const d=i[o]??Number.MAX_SAFE_INTEGER,a=n[o]??Number.MAX_SAFE_INTEGER;if(d!==a)return d-a}return 0}export{le as H,xe as L,oe as P,te as S,fe as T,he as a,me as b,ie as c,de as d,ne as e,P as f,_ as g,ce as i,pe as p};
